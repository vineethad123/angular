function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("q/0M"),s=n("zVF4"),u=n("x7I3"),c=n("S+S0"),l=o.SDK_VERSION,h=new a.Logger("@firebase/firestore");function f(){return h.logLevel}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.DEBUG){var r=e.map(v);h.debug.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.ERROR){var r=e.map(v);h.error.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function v(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function g(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function y(t,e){t||g()}function m(t,e){return t}function _(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var b=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function k(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function C(t){return t+"\0"}var E=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},S=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}();function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function T(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var A=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.u(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){T(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype._=function(){return P(this.l)},t}(),x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),N=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),D=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new N(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.A=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.R=function(){return this.timestamp},t}(),R=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.m=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.m},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return this.V(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.prototype.N=function(){return this.F().join("/")},e.prototype.toString=function(){return this.N()},e.$=function(t){if(t.indexOf("//")>=0)throw new O(x.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(R);M.k=new M([]);var L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.M=function(t){return L.test(t)},e.prototype.N=function(){return this.F().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.N()},e.prototype.L=function(){return 1===this.length&&"__name__"===this.get(0)},e.O=function(){return new e(["__name__"])},e.B=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new O(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new O(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new O(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(R);F.k=new F([]);var U=function(){function t(t){this.path=t}return t.q=function(e){return new t(M.$(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===M.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return M.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new M(e.slice()))},t}();function j(t){return null==t}function V(t){return-0===t&&1/t==-1/0}function q(t){return"number"==typeof t&&Number.isInteger(t)&&!V(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}U.EMPTY=new U(new M([]));var H=function(){function t(t){this.K=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.K)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.K)},t.prototype.G=function(){return 2*this.K.length},t.prototype.o=function(t){return w(this.K,t.K)},t.prototype.isEqual=function(t){return this.K===t.K},t}();H.H=new H("");var B,z,G=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=D.min()),void 0===o&&(o=D.min()),void 0===a&&(a=H.H),this.target=t,this.targetId=e,this.Y=n,this.sequenceNumber=r,this.J=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.X=function(e){return new t(this.target,this.targetId,this.Y,e,this.J,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Z=function(e,n){return new t(this.target,this.targetId,this.Y,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.tt=function(e){return new t(this.target,this.targetId,this.Y,this.sequenceNumber,this.J,e,this.resumeToken)},t}(),W=function(t){this.count=t};function K(t){switch(t){case x.OK:return g();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return g()}}function Q(t){if(void 0===t)return p("GRPC error has no .code"),x.UNKNOWN;switch(t){case B.OK:return x.OK;case B.CANCELLED:return x.CANCELLED;case B.UNKNOWN:return x.UNKNOWN;case B.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case B.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case B.INTERNAL:return x.INTERNAL;case B.UNAVAILABLE:return x.UNAVAILABLE;case B.UNAUTHENTICATED:return x.UNAUTHENTICATED;case B.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case B.NOT_FOUND:return x.NOT_FOUND;case B.ALREADY_EXISTS:return x.ALREADY_EXISTS;case B.PERMISSION_DENIED:return x.PERMISSION_DENIED;case B.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case B.ABORTED:return x.ABORTED;case B.OUT_OF_RANGE:return x.OUT_OF_RANGE;case B.UNIMPLEMENTED:return x.UNIMPLEMENTED;case B.DATA_LOSS:return x.DATA_LOSS;default:return g()}}(z=B||(B={}))[z.OK=0]="OK",z[z.CANCELLED=1]="CANCELLED",z[z.UNKNOWN=2]="UNKNOWN",z[z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",z[z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",z[z.NOT_FOUND=5]="NOT_FOUND",z[z.ALREADY_EXISTS=6]="ALREADY_EXISTS",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.UNAUTHENTICATED=16]="UNAUTHENTICATED",z[z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",z[z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",z[z.ABORTED=10]="ABORTED",z[z.OUT_OF_RANGE=11]="OUT_OF_RANGE",z[z.UNIMPLEMENTED=12]="UNIMPLEMENTED",z[z.INTERNAL=13]="INTERNAL",z[z.UNAVAILABLE=14]="UNAVAILABLE",z[z.DATA_LOSS=15]="DATA_LOSS";var X=function(){function t(t,e){this.P=t,this.root=e||$.EMPTY}return t.prototype.et=function(e,n){return new t(this.P,this.root.et(e,n,this.P).st(null,null,$.nt,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).st(null,null,$.nt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new Y(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new Y(this.root,t,this.P,!1)},t.prototype.ct=function(){return new Y(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new Y(this.root,t,this.P,!0)},t}(),Y=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),$=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.st=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.et=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.st(null,null,null,r.left.et(t,e,n),null):0===i?r.st(null,e,null,null,null):r.st(null,null,null,null,r.right.et(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.st(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.st(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.st(r.key,r.value,null,null,i.right.It())}i=i.st(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.pt()),t},t.prototype.Rt=function(){var t=this.pt();return t.right.left.At()&&(t=(t=(t=t.st(null,null,null,null,t.right.Pt())).gt()).pt()),t},t.prototype.Vt=function(){var t=this.pt();return t.left.left.At()&&(t=(t=t.Pt()).pt()),t},t.prototype.gt=function(){var e=this.st(null,null,t.RED,null,this.right.left);return this.right.st(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.st(null,null,t.RED,this.left.right,null);return this.left.st(null,null,this.color,null,e)},t.prototype.pt=function(){var t=this.left.st(null,null,!this.left.color,null,null),e=this.right.st(null,null,!this.right.color,null,null);return this.st(null,null,!this.color,t,e)},t.prototype.yt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw g();if(this.right.At())throw g();var t=this.left.bt();if(t!==this.right.bt())throw g();return t+(this.At()?0:1)},t}();$.EMPTY=null,$.RED=!0,$.nt=!1,$.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g()},enumerable:!0,configurable:!0}),t.prototype.st=function(t,e,n,r,i){return this},t.prototype.et=function(t,e,n){return new $(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.yt=function(){return!0},t.prototype.bt=function(){return 0},t}());var Z=function(){function t(t){this.P=t,this.data=new X(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new J(this.data.at())},t.prototype.ut=function(t){return new J(this.data.ut(t))},t.prototype.add=function(t){return this.st(this.data.remove(t).et(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.st(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.F=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.st=function(e){var n=new t(this.P);return n.data=e,n},t}(),J=function(){function t(t){this.Ft=t}return t.prototype.dt=function(){return this.Ft.dt().key},t.prototype.wt=function(){return this.Ft.wt()},t}(),tt=new X(U.P);function et(){return tt}function nt(){return et()}var rt=new X(U.P);function it(){return rt}var ot=new X(U.P),at=new Z(U.P);function st(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=at,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ut=new Z(w);function ct(){return ut}var lt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||U.P(e.key,n.key)}:function(t,e){return U.P(t.key,e.key)},this.Nt=it(),this.$t=new X(this.P)}return t.kt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Nt.get(t)},t.prototype.get=function(t){return this.Nt.get(t)},t.prototype.first=function(){return this.$t.it()},t.prototype.last=function(){return this.$t.rt()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.$t.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.st(e.Nt.et(t.key,t),e.$t.et(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.st(this.Nt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.at(),r=e.$t.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.st=function(e,n){var r=new t;return r.P=this.P,r.Nt=e,r.$t=n,r},t}(),ht=function(){function t(){this.xt=new X(U.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);n?0!==t.type&&3===n.type?this.xt=this.xt.et(e,t):3===t.type&&1!==n.type?this.xt=this.xt.et(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.et(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.et(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.et(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.et(e,{type:2,doc:t.doc}):g():this.xt=this.xt.et(e,t)},t.prototype.Mt=function(){var t=[];return this.xt.ot((function(e,n){t.push(n)})),t},t}(),ft=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Lt=n,this.docChanges=r,this.Ot=i,this.fromCache=o,this.Bt=a,this.qt=s}return t.Ut=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,lt.kt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ot._()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Ot.isEqual(t.Ot)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),dt=function(){function t(t,e,n,r,i){this.J=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,pt.zt(e,n)),new t(D.min(),r,ct(),et(),st())},t}(),pt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(H.H,n,st(),st(),st())},t}(),vt=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},gt=function(t,e){this.targetId=t,this.ee=e},yt=function(t,e,n,r){void 0===n&&(n=H.H),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},mt=function(){function t(){this.se=0,this.ne=wt(),this.ie=H.H,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.se},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!0,configurable:!0}),t.prototype.ue=function(t){t.G()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=st(),e=st(),n=st();return this.ne.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:g()}})),new pt(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.ne=wt()},t.prototype._e=function(t,e){this.oe=!0,this.ne=this.ne.et(t,e)},t.prototype.fe=function(t){this.oe=!0,this.ne=this.ne.remove(t)},t.prototype.de=function(){this.se+=1},t.prototype.we=function(){this.se-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),_t=function(){function t(t){this.Ee=t,this.Ie=new Map,this.Ae=et(),this.Re=bt(),this.me=new Z(w)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof Le?this.Ve(r,t.te):t.te instanceof Fe&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.ge(o[i],t.key,t.te)},t.prototype.pe=function(t){var e=this;this.ye(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:g()}}))},t.prototype.ye=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(en(i))if(0===n){var o=new U(i.path);this.ge(e,o,new Fe(o,D.min()))}else y(1===n);else this.Fe(e)!==n&&(this.Se(e),this.me=this.me.add(e))}},t.prototype.Ne=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&en(o.target)){var a=new U(o.target.path);null!==e.Ae.get(a)||e.$e(i,a)||e.ge(i,a,new Fe(a,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=st();this.Re.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.Y||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new dt(t,n,this.me,this.Ae,r);return this.Ae=et(),this.Re=bt(),this.me=new Z(w),i},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,n),this.Ae=this.Ae.et(e.key,e),this.Re=this.Re.et(e.key,this.ke(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.$e(t,e)?r._e(e,1):r.fe(e),this.Re=this.Re.et(e,this.ke(e).delete(t)),n&&(this.Ae=this.Ae.et(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new mt,this.Ie.set(t,e)),e},t.prototype.ke=function(t){var e=this.Re.get(t);return e||(e=new Z(w),this.Re=this.Re.et(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new mt),this.Ee.xe(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},t}();function bt(){return new X(U.P)}function wt(){return new X(U.P)}function kt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ct(t){var e=Ot(t.mapValue.fields.__local_write_time__.timestampValue);return new N(e.seconds,e.nanos)}var Et=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function St(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kt(t)?4:10:g()}function It(t,e){var n=St(t);if(n!==St(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ct(t).isEqual(Ct(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ot(t.timestampValue),r=Ot(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Dt(t.bytesValue).isEqual(Dt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Nt(t.geoPointValue.latitude)===Nt(e.geoPointValue.latitude)&&Nt(t.geoPointValue.longitude)===Nt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Nt(t.integerValue)===Nt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Nt(t.doubleValue),r=Nt(e.doubleValue);return n===r?V(n)===V(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return k(t.arrayValue.values||[],e.arrayValue.values||[],It);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!It(n[i],r[i])))return!1;return!0}(t,e);default:return g()}}function Tt(t,e){return void 0!==(t.values||[]).find((function(t){return It(t,e)}))}function Pt(t,e){var n=St(t),r=St(e);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Nt(t.integerValue||t.doubleValue),r=Nt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return At(t.timestampValue,e.timestampValue);case 4:return At(Ct(t),Ct(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Dt(t),r=Dt(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(Nt(t.latitude),Nt(e.latitude));return 0!==n?n:w(Nt(t.longitude),Nt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pt(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=Pt(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(t.mapValue,e.mapValue);default:throw g()}}function At(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=Ot(t),r=Ot(e),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function xt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ot(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dt(e.bytesValue).toBase64():"referenceValue"in e?U.q(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):g();var n}(t)}function Ot(t){if(y(!!t),"string"==typeof t){var e=0,n=Et.exec(t);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Dt(t){return"string"==typeof t?H.fromBase64String(t):H.fromUint8Array(t)}function Rt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.N()}}function Mt(t){return!!t&&"integerValue"in t}function Lt(t){return!!t&&"arrayValue"in t}function Ft(t){return!!t&&"nullValue"in t}function Ut(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jt(t){return!!t&&"mapValue"in t}var Vt={asc:"ASCENDING",desc:"DESCENDING"},qt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ht=function(t,e){this.s=t,this.Le=e};function Bt(t){return{integerValue:""+t}}function zt(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V(e)?"-0":e}}function Gt(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wt(t,e){return t.Le?e.toBase64():e.toUint8Array()}function Kt(t,e){return t.Le?(y(void 0===e||"string"==typeof e),H.fromBase64String(e||"")):(y(void 0===e||e instanceof Uint8Array),H.fromUint8Array(e||new Uint8Array))}function Qt(t,e){return Gt(t,e.R())}function Xt(t){return y(!!t),D.I(function(t){var e=Ot(t);return new N(e.seconds,e.nanos)}(t))}function Yt(t,e){return function(t){return new M(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).N()}function $t(t){var e=M.$(t);return y(ge(e)),e}function Zt(t,e){return Yt(t.s,e.path)}function Jt(t,e){var n=$t(e);return y(n.get(1)===t.s.projectId),y(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new U(re(n))}function te(t,e){return Yt(t.s,e)}function ee(t){var e=$t(t);return 4===e.length?M.k:re(e)}function ne(t){return new M(["projects",t.s.projectId,"databases",t.s.database]).N()}function re(t){return y(t.length>4&&"documents"===t.get(4)),t.g(5)}function ie(t,e,n){return{name:Zt(t,e),fields:n.proto.mapValue.fields}}function oe(t,e){var n;if(e instanceof Te)n={update:ie(t,e.key,e.value)};else if(e instanceof xe)n={delete:Zt(t,e.key)};else if(e instanceof Pe)n={update:ie(t,e.key,e.data),updateMask:ve(e.Oe)};else if(e instanceof Ae)n={transform:{document:Zt(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ye)return{fieldPath:e.field.N(),setToServerValue:"REQUEST_TIME"};if(n instanceof me)return{fieldPath:e.field.N(),appendMissingElements:{values:n.elements}};if(n instanceof _e)return{fieldPath:e.field.N(),removeAllFromArray:{values:n.elements}};if(n instanceof be)return{fieldPath:e.field.N(),increment:n.Be};throw g()}(0,t)}))}};else{if(!(e instanceof Oe))return g();n={verify:Zt(t,e.key)}}return e.Ue.qe||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.Ue)),n}function ae(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Se.updateTime(Xt(t.updateTime)):void 0!==t.exists?Se.exists(t.exists):Se.Qe()}(e.currentDocument):Se.Qe();if(e.update){var r=Jt(t,e.update.name),i=new Ne({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new ke((t.fieldPaths||[]).map((function(t){return F.B(t)})))}(e.updateMask);return new Pe(r,i,o,n)}return new Te(r,i,n)}if(e.delete){var a=Jt(t,e.delete);return new xe(a,n)}if(e.transform){var s=Jt(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(y("REQUEST_TIME"===e.setToServerValue),n=ye.instance):"appendMissingElements"in e?n=new me(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new _e(e.removeAllFromArray.values||[]):"increment"in e?n=new be(t,e.increment):g();var r=F.B(e.fieldPath);return new Ce(r,n)}(t,e)}));return y(!0===n.exists),new Ae(s,u)}if(e.verify){var c=Jt(t,e.verify);return new Oe(c,n)}return g()}function se(t,e){return{documents:[te(t,e.path)]}}function ue(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=te(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=te(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return t instanceof Ve?function(t){if("=="===t.op){if(Ut(t.value))return{unaryFilter:{field:he(t.field),op:"IS_NAN"}};if(Ft(t.value))return{unaryFilter:{field:he(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:he(t.field),op:(e=t.op,qt[e]),value:t.value}};var e}(t):g()}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:he((e=t).field),direction:(n=e.dir,Vt[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Le||j(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=ce(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ce(e.endAt)),n}function ce(t){return{before:t.before,values:t.position}}function le(t){return new We(t.values||[],!!t.before)}function he(t){return{fieldPath:t.N()}}function fe(t){return F.B(t.fieldPath)}function de(t){return Ve.create(fe(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(t.fieldFilter.op),t.fieldFilter.value)}function pe(t){switch(t.unaryFilter.op){case"IS_NAN":var e=fe(t.unaryFilter.field);return Ve.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=fe(t.unaryFilter.field);return Ve.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function ve(t){var e=[];return t.fields.forEach((function(t){return e.push(t.N())})),{fieldPaths:e}}function ge(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ye=function(){function t(){}return t.prototype.je=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.Ke=function(t,e){return e},t.prototype.Ge=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();ye.instance=new ye;var me=function(){function t(t){this.elements=t}return t.prototype.je=function(t,e){return this.apply(t)},t.prototype.Ke=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=we(t),n=function(t){e.some((function(e){return It(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Ge=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&k(this.elements,e.elements,It)},t}(),_e=function(){function t(t){this.elements=t}return t.prototype.je=function(t,e){return this.apply(t)},t.prototype.Ke=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=we(t),n=function(t){e=e.filter((function(e){return!It(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Ge=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&k(this.elements,e.elements,It)},t}(),be=function(){function t(t,e){this.serializer=t,this.Be=e}return t.prototype.je=function(t,e){var n=this.Ge(t),r=this.asNumber(n)+this.asNumber(this.Be);return Mt(n)&&Mt(this.Be)?Bt(r):zt(this.serializer,r)},t.prototype.Ke=function(t,e){return e},t.prototype.Ge=function(t){return Mt(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&It(this.Be,e.Be)},t.prototype.asNumber=function(t){return Nt(t.integerValue||t.doubleValue)},t}();function we(t){return Lt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ke=function(){function t(t){this.fields=t,t.sort(F.P)}return t.prototype.ze=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return k(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ce=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Ee=function(t,e){this.version=t,this.transformResults=e},Se=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.He=function(t){return void 0!==this.updateTime?t instanceof Le&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof Le},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),Ie=function(){function t(){}return t.prototype.Ye=function(t){},t.Je=function(t){return t instanceof Le?t.version:D.min()},t}(),Te=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return i.__extends(e,t),e.prototype.Ke=function(t,e){return this.Ye(t),new Le(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=Ie.Je(t);return new Le(this.key,r,this.value,{Xe:!0})},e.prototype.Ze=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Ue.isEqual(t.Ue)},e}(Ie),Pe=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Oe=r,o.Ue=i,o.type=1,o}return i.__extends(e,t),e.prototype.Ke=function(t,e){if(this.Ye(t),!this.Ue.He(t))return new Ue(this.key,e.version);var n=this.ts(t);return new Le(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=Ie.Je(t),i=this.ts(t);return new Le(this.key,r,i,{Xe:!0})},e.prototype.Ze=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Oe.isEqual(t.Oe)&&this.Ue.isEqual(t.Ue)},e.prototype.ts=function(t){var e;return e=t instanceof Le?t.data():Ne.empty(),this.es(e)},e.prototype.es=function(t){var e=this,n=new De(t);return this.Oe.fields.forEach((function(t){if(!t._()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.ss()},e}(Ie),Ae=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=Se.exists(!0),r}return i.__extends(e,t),e.prototype.Ke=function(t,e){if(this.Ye(t),y(null!=e.transformResults),!this.Ue.He(t))return new Ue(this.key,e.version);var n=this.ns(t),r=this.rs(t,e.transformResults),i=e.version,o=this.os(n.data(),r);return new Le(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=this.ns(t),i=this.hs(n,t,e),o=this.os(r.data(),i);return new Le(this.key,r.version,o,{Xe:!0})},e.prototype.Ze=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Le?t.field(i.field):void 0,a=i.transform.Ge(o||null);null!=a&&(e=null==e?(new De).set(i.field,a):e.set(i.field,a))}return e?e.ss():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&k(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Ue.isEqual(t.Ue)},e.prototype.ns=function(t){return t},e.prototype.rs=function(t,e){var n=[];y(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof Le&&(a=t.field(i.field)),n.push(o.Ke(a,e[r]))}return n},e.prototype.hs=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;e instanceof Le&&(u=e.field(a.field)),null===u&&n instanceof Le&&(u=n.field(a.field)),r.push(s.je(u,t))}return r},e.prototype.os=function(t,e){for(var n=new De(t),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.ss()},e}(Ie),xe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return i.__extends(e,t),e.prototype.Ke=function(t,e){return this.Ye(t),new Fe(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.je=function(t,e,n){return this.Ye(t),this.Ue.He(t)?new Fe(this.key,D.min()):t},e.prototype.Ze=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Ue.isEqual(t.Ue)},e}(Ie),Oe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return i.__extends(e,t),e.prototype.Ke=function(t,e){g()},e.prototype.je=function(t,e,n){g()},e.prototype.Ze=function(t){g()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Ue.isEqual(t.Ue)},e}(Ie),Ne=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!jt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return It(this.proto,t.proto)},t}(),De=function(){function t(t){void 0===t&&(t=Ne.empty()),this.as=t,this.us=new Map}return t.prototype.set=function(t,e){return this.cs(t,e),this},t.prototype.delete=function(t){return this.cs(t,null),this},t.prototype.cs=function(t,e){for(var n=this.us,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===St(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.ss=function(){var t=this.ls(F.k,this.us);return null!=t?new Ne(t):this.as},t.prototype.ls=function(t,e){var n=this,r=!1,i=this.as.field(t),o=jt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.ls(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Re(t){var e=[];return T(t.fields||{},(function(t,n){var r=new F([t]);if(jt(n)){var i=Re(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new ke(e)}var Me=function(t,e){this.key=t,this.version=e},Le=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this)._s=r,o.Xe=!!i.Xe,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this._s.field(t)},e.prototype.data=function(){return this._s},e.prototype.fs=function(){return this._s.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Xe===t.Xe&&this.hasCommittedMutations===t.hasCommittedMutations&&this._s.isEqual(t._s)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this._s.toString()+", {hasLocalMutations: "+this.Xe+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Xe||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(Me),Fe=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Me),Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Me),je=function(){function t(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.ds=n,this.filters=r,this.limit=i,this.ws=o,this.startAt=a,this.endAt=s,this.Ts=null,this.Es=null,this.startAt&&this.Is(this.startAt),this.endAt&&this.Is(this.endAt)}return t.As=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Ts){this.Ts=[];var t=this.Rs(),e=this.ms();if(null!==t&&null===e)t.L()||this.Ts.push(new Ye(t)),this.Ts.push(new Ye(F.O(),"asc"));else{for(var n=!1,r=0,i=this.ds;r<i.length;r++){var o=i[r];this.Ts.push(o),o.field.L()&&(n=!0)}if(!n){var a=this.ds.length>0?this.ds[this.ds.length-1].dir:"asc";this.Ts.push(new Ye(F.O(),a))}}}return this.Ts},enumerable:!0,configurable:!0}),t.prototype.Ps=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.ds.slice(),n,this.limit,this.ws,this.startAt,this.endAt)},t.prototype.Vs=function(e){var n=this.ds.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},t.prototype.gs=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.ps=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.ys=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,e,this.endAt)},t.prototype.bs=function(e){return new t(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,e)},t.prototype.vs=function(e){return new t(e,null,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},t.prototype.Ss=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.ds.length||1===this.ds.length&&this.ds[0].field.L())},t.prototype.canonicalId=function(){return Je(this.We())+"|lt:"+this.ws},t.prototype.toString=function(){return"Query(target="+function(t){var e=t.path.N();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.join(", ")+"]"),j(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ke(t.startAt)),t.endAt&&(e+=", endAt: "+Ke(t.endAt)),"Target("+e+")"}(this.We())+"; limitType="+this.ws+")"},t.prototype.isEqual=function(t){return tn(this.We(),t.We())&&this.ws===t.ws},t.prototype.Ds=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.L()}return 0},t.prototype.matches=function(t){return this.Cs(t)&&this.Fs(t)&&this.Ns(t)&&this.$s(t)},t.prototype.ks=function(){return!j(this.limit)&&"F"===this.ws},t.prototype.xs=function(){return!j(this.limit)&&"L"===this.ws},t.prototype.ms=function(){return this.ds.length>0?this.ds[0].field:null},t.prototype.Rs=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ve&&n.Ms())return n.field}return null},t.prototype.Ls=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Ve&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Os=function(){return en(this.We())},t.prototype.Bs=function(){return null!==this.collectionGroup},t.prototype.We=function(){if(!this.Es)if("F"===this.ws)this.Es=Ze(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Ye(r.field,"desc"===r.dir?"asc":"desc"))}var i=this.endAt?new We(this.endAt.position,!this.endAt.before):null,o=this.startAt?new We(this.startAt.position,!this.startAt.before):null;this.Es=Ze(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Es},t.prototype.Cs=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.U(this.collectionGroup)&&this.path.D(e):U.W(this.path)?this.path.isEqual(e):this.path.C(e)},t.prototype.Fs=function(t){for(var e=0,n=this.ds;e<n.length;e++){var r=n[e];if(!r.field.L()&&null===t.field(r.field))return!1}return!0},t.prototype.Ns=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.$s=function(t){return!(this.startAt&&!Qe(this.startAt,this.orderBy,t)||this.endAt&&Qe(this.endAt,this.orderBy,t))},t.prototype.Is=function(t){},t}(),Ve=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.L())return"in"===n?new He(t,r):new qe(t,n,r);if(Ft(r)){if("=="!==n)throw new O(x.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Ut(r)){if("=="!==n)throw new O(x.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Be(t,r):"in"===n?new ze(t,r):"array-contains-any"===n?new Ge(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&St(this.value)===St(e)&&this.qs(Pt(e,this.value))},e.prototype.qs=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return g()}},e.prototype.Ms=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.N()+this.op.toString()+xt(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&It(this.value,t.value)},e.prototype.toString=function(){return this.field.N()+" "+this.op+" "+xt(this.value)},e}((function(){})),qe=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=U.q(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=U.P(t.key,this.key);return this.qs(e)},e}(Ve),He=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return U.q(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ve),Be=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Lt(e)&&Tt(e.arrayValue,this.value)},e}(Ve),ze=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Tt(this.value.arrayValue,e)},e}(Ve),Ge=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Lt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Tt(e.value.arrayValue,t)}))},e}(Ve),We=function(t,e){this.position=t,this.before=e};function Ke(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return xt(t)})).join(",")}function Qe(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.L()?U.P(U.q(a.referenceValue),n.key):Pt(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xe(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!It(t.position[n],e.position[n]))return!1;return!0}var Ye=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.Us=t.L()}return t.prototype.compare=function(t,e){var n=this.Us?U.P(t.key,e.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pt(r,i):g()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return g()}},t.prototype.canonicalId=function(){return this.field.N()+this.dir.toString()},t.prototype.toString=function(){return this.field.N()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),$e=function(t){function e(e,n,r,i,o,a,s){void 0===n&&(n=null),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null);var u=this;return(u=t.call(this,e,n,r,i,o,a,s)||this).Qs=null,u}return i.__extends(e,t),e}((function(t,e,n,r,i,o,a){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a}));function Ze(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new $e(t,e,n,r,i,o,a)}function Je(t){var e=m(t);if(null===e.Qs){var n=e.path.N();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return t.canonicalId()})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return t.canonicalId()})).join(","),j(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ke(e.startAt)),e.endAt&&(n+="|ub:",n+=Ke(e.endAt)),e.Qs=n}return e.Qs}function tn(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!t.orderBy[n].isEqual(e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(!t.filters[r].isEqual(e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xe(t.startAt,e.startAt)&&Xe(t.endAt,e.endAt)}function en(t){return U.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}var nn=function(){function t(t,e,n,r){this.batchId=t,this.Ws=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ke=function(t,e,n){for(var r=n.js,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.Ke(e,r[i]))}return e},t.prototype.je=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.je(e,e,this.Ws))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=u.je(e,o,this.Ws))}return e},t.prototype.Ks=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.je(r.key,t.get(r.key));i&&(n=n.et(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),st())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&k(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&k(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),rn=function(){function t(t,e,n,r){this.batch=t,this.Gs=e,this.js=n,this.zs=r}return t.from=function(e,n,r){y(e.mutations.length===r.length);for(var i=ot,o=e.mutations,a=0;a<o.length;a++)i=i.et(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),on=function(){function t(t){var e=this;this.Hs=null,this.Ys=null,this.result=void 0,this.error=void 0,this.Js=!1,this.Xs=!1,t((function(t){e.Js=!0,e.result=t,e.Hs&&e.Hs(t)}),(function(t){e.Js=!0,e.error=t,e.Ys&&e.Ys(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Xs&&g(),this.Xs=!0,this.Js?this.error?this.Zs(n,this.error):this.tn(e,this.result):new t((function(t,i){r.Hs=function(n){r.tn(e,n).next(t,i)},r.Ys=function(e){r.Zs(n,e).next(t,i)}}))},t.prototype.en=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.sn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.tn=function(e,n){return e?this.sn((function(){return e(n)})):t.resolve(n)},t.prototype.Zs=function(e,n){return e?this.sn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.nn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.rn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.nn(r)},t}(),an=function(){function t(){this.on=new A((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.hn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.an},set:function(t){this.an=t},enumerable:!0,configurable:!0}),t.prototype.un=function(t,e){this.cn(),this.readTime=e,this.on.set(t.key,t)},t.prototype.ln=function(t,e){this.cn(),e&&(this.readTime=e),this.on.set(t,null)},t.prototype._n=function(t,e){this.cn();var n=this.on.get(e);return void 0!==n?on.resolve(n):this.fn(t,e)},t.prototype.getEntries=function(t,e){return this.dn(t,e)},t.prototype.apply=function(t){return this.cn(),this.hn=!0,this.wn(t)},t.prototype.cn=function(){},t}(),sn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",un=function(){function t(){this.Tn=[]}return t.prototype.En=function(t){this.Tn.push(t)},t.prototype.In=function(){this.Tn.forEach((function(t){return t()}))},t}(),cn=function(){function t(t,e,n){this.An=t,this.Rn=e,this.mn=n}return t.prototype.Pn=function(t,e){var n=this;return this.Rn.Vn(t,e).next((function(r){return n.gn(t,e,r)}))},t.prototype.gn=function(t,e,n){return this.An._n(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].je(e,t);return t}))},t.prototype.pn=function(t,e,n){var r=nt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].je(t,e);r=r.et(t,e)})),r},t.prototype.yn=function(t,e){var n=this;return this.An.getEntries(t,e).next((function(e){return n.bn(t,e)}))},t.prototype.bn=function(t,e){var n=this;return this.Rn.vn(t,e).next((function(r){var i=n.pn(t,e,r),o=et();return i.forEach((function(t,e){e||(e=new Fe(t,D.min())),o=o.et(t,e)})),o}))},t.prototype.Sn=function(t,e,n){return e.Os()?this.Dn(t,e.path):e.Bs()?this.Cn(t,e,n):this.Fn(t,e,n)},t.prototype.Dn=function(t,e){return this.Pn(t,new U(e)).next((function(t){var e=it();return t instanceof Le&&(e=e.et(t.key,t)),e}))},t.prototype.Cn=function(t,e,n){var r=this,i=e.collectionGroup,o=it();return this.mn.Nn(t,i).next((function(a){return on.forEach(a,(function(a){var s=e.vs(a.child(i));return r.Fn(t,s,n).next((function(t){t.forEach((function(t,e){o=o.et(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Fn=function(t,e,n){var r,i,o=this;return this.An.Sn(t,e,n).next((function(n){return r=n,o.Rn.$n(t,e)})).next((function(e){return o.kn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=u.je(l,l,o.Ws);r=h instanceof Le?r.et(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.kn=function(t,e,n){for(var r=st(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Pe&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.An.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Le&&(c=c.et(t,e))})),c}))},t}(),ln=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.xn=n,this.Mn=r}return t.Ln=function(e,n){for(var r=st(),i=st(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),hn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.On=function(t){return n.Bn(t)},this.qn=function(t){return e.Un(t)})}return t.prototype.Bn=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.qn&&this.qn(t),t},t}();hn.Qn=-1;var fn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},dn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Wn=t,this.jn=e,this.Kn=n,this.Gn=r,this.zn=i,this.Hn=0,this.Yn=null,this.Jn=Date.now(),this.reset()}return t.prototype.reset=function(){this.Hn=0},t.prototype.Xn=function(){this.Hn=this.zn},t.prototype.Zn=function(t){var e=this;this.cancel();var n=Math.floor(this.Hn+this.ti()),r=Math.max(0,Date.now()-this.Jn),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Hn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Yn=this.Wn.ei(this.jn,i,(function(){return e.Jn=Date.now(),t()})),this.Hn*=this.Gn,this.Hn<this.Kn&&(this.Hn=this.Kn),this.Hn>this.zn&&(this.Hn=this.zn)},t.prototype.si=function(){null!==this.Yn&&(this.Yn.ni(),this.Yn=null)},t.prototype.cancel=function(){null!==this.Yn&&(this.Yn.cancel(),this.Yn=null)},t.prototype.ti=function(){return(Math.random()-.5)*this.Hn},t}();function pn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gn(e)),e=vn(t.get(n),e);return gn(e)}function vn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function gn(t){return t+"\x01\x01"}function yn(t){var e=t.length;if(y(e>=2),2===e)return y("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),M.k;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&g(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:g()}o=a+2}return new M(r)}var mn=function(){function t(){this.ii=new _n}return t.prototype.ri=function(t,e){return this.ii.add(e),on.resolve()},t.prototype.Nn=function(t,e){return on.resolve(this.ii.getEntries(e))},t}(),_n=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new Z(M.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Z(M.P)).F()},t}(),bn=function(){function t(){this.oi=new _n}return t.prototype.ri=function(t,e){var n=this;if(!this.oi.has(e)){var r=e.S(),i=e.p();t.En((function(){n.oi.add(e)}));var o={collectionId:r,parent:pn(i)};return wn(t).put(o)}return on.resolve()},t.prototype.Nn=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[C(e),""],!1,!0);return wn(t).hi(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(yn(o.parent))}return n}))},t}();function wn(t){return zn.ai(t,vr.store)}var kn=function(t){this.ui=t};function Cn(t,e){if(e.document)return function(t,e,n){var r=Jt(t,e.name),i=Xt(e.updateTime),o=new Ne({mapValue:{fields:e.fields}});return new Le(r,i,o,{hasCommittedMutations:!!n})}(t.ui,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=U.j(e.noDocument.path),r=Pn(e.noDocument.readTime);return new Fe(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=U.j(e.unknownDocument.path),o=Pn(e.unknownDocument.version);return new Ue(i,o)}return g()}function En(t,e,n){var r=Sn(n),i=e.key.path.p().F();if(e instanceof Le){var o=function(t,e){return{name:Zt(t,e.key),fields:e.fs().mapValue.fields,updateTime:Gt(t,e.version.R())}}(t.ui,e);return new lr(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof Fe){var a=e.key.path.F(),s=Tn(e.version),u=e.hasCommittedMutations;return new lr(null,new ur(a,s),null,u,r,i)}if(e instanceof Ue){var c=e.key.path.F(),l=Tn(e.version);return new lr(new cr(c,l),null,null,!0,r,i)}return g()}function Sn(t){var e=t.R();return[e.seconds,e.nanoseconds]}function In(t){var e=new N(t[0],t[1]);return D.I(e)}function Tn(t){var e=t.R();return new rr(e.seconds,e.nanoseconds)}function Pn(t){var e=new N(t.seconds,t.nanoseconds);return D.I(e)}function An(t,e){var n=(e.baseMutations||[]).map((function(e){return ae(t.ui,e)})),r=e.mutations.map((function(e){return ae(t.ui,e)})),i=N.fromMillis(e.localWriteTimeMs);return new nn(e.batchId,i,n,r)}function xn(t){var e,n=Pn(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Pn(t.lastLimboFreeSnapshotVersion):D.min();return e=void 0!==t.query.documents?function(t){return y(1===t.documents.length),je.As(ee(t.documents[0])).We()}(t.query):function(t){var e=ee(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[pe(e)]:void 0!==e.fieldFilter?[de(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):g():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return new Ye(fe((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return j(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=le(n.startAt));var l=null;return n.endAt&&(l=le(n.endAt)),new je(e,i,s,a,u,"F",c,l).We()}(t.query),new G(e,t.targetId,0,t.lastListenSequenceNumber,n,r,H.fromBase64String(t.resumeToken))}function On(t,e){var n,r=Tn(e.J),i=Tn(e.lastLimboFreeSnapshotVersion);n=en(e.target)?se(t.ui,e.target):ue(t.ui,e.target);var o=e.resumeToken.toBase64();return new fr(e.targetId,Je(e.target),r,o,e.sequenceNumber,i,n)}var Nn=function(){function t(t,e){this.serializer=t,this.mn=e}return t.prototype.un=function(t,e,n){return Rn(t).put(Mn(e),n)},t.prototype.ln=function(t,e){var n=Rn(t),r=Mn(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ci(t,r)}))},t.prototype._n=function(t,e){var n=this;return Rn(t).get(Mn(e)).next((function(t){return n.li(t)}))},t.prototype._i=function(t,e){var n=this;return Rn(t).get(Mn(e)).next((function(t){var e=n.li(t);return e?{fi:e,size:Ln(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=nt();return this.di(t,e,(function(t,e){var i=n.li(e);r=r.et(t,i)})).next((function(){return r}))},t.prototype.wi=function(t,e){var n=this,r=nt(),i=new X(U.P);return this.di(t,e,(function(t,e){var o=n.li(e);o?(r=r.et(t,o),i=i.et(t,Ln(e))):(r=r.et(t,null),i=i.et(t,0))})).next((function(){return{Ti:r,Ei:i}}))},t.prototype.di=function(t,e,n){if(e._())return on.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),i=e.at(),o=i.dt();return Rn(t).Ii({range:r},(function(t,e,r){for(var a=U.j(t);o&&U.P(o,a)<0;)n(o,null),o=i.dt();o&&o.isEqual(a)&&(n(o,e),o=i.wt()?i.dt():null),o?r.Ai(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},t.prototype.Sn=function(t,e,n){var r=this,i=it(),o=e.path.length+1,a={};if(n.isEqual(D.min())){var s=e.path.F();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.F(),c=Sn(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=lr.collectionReadTimeIndex}return Rn(t).Ii(a,(function(t,n,a){if(t.length===o){var s=Cn(r.serializer,n);e.path.D(s.key.path)?s instanceof Le&&e.matches(s)&&(i=i.et(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Ri=function(t,e){var n=this,r=et(),i=Sn(e),o=Rn(t),a=IDBKeyRange.lowerBound(i,!0);return o.Ii({index:lr.readTimeIndex,range:a},(function(t,e){var o=Cn(n.serializer,e);r=r.et(o.key,o),i=e.readTime})).next((function(){return{mi:r,readTime:In(i)}}))},t.prototype.Pi=function(t){var e=Rn(t),n=D.min();return e.Ii({index:lr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=In(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.Vi=function(e){return new t.gi(this,!!e&&e.pi)},t.prototype.yi=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Dn(t).get(hr.key).next((function(t){return y(!!t),t}))},t.prototype.ci=function(t,e){return Dn(t).put(hr.key,e)},t.prototype.li=function(t){if(t){var e=Cn(this.serializer,t);return e instanceof Fe&&e.version.isEqual(D.min())?null:e}return null},t}();function Dn(t){return zn.ai(t,hr.store)}function Rn(t){return zn.ai(t,lr.store)}function Mn(t){return t.path.F()}function Ln(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g();e=t.noDocument}return JSON.stringify(e).length}Nn.gi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bi=e,r.pi=n,r.vi=new A((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return i.__extends(e,t),e.prototype.wn=function(t){var e=this,n=[],r=0,i=new Z((function(t,e){return w(t.N(),e.N())}));return this.on.forEach((function(o,a){var s=e.vi.get(o);if(a){var u=En(e.bi.serializer,a,e.readTime);i=i.add(o.path.p());var c=Ln(u);r+=c-s,n.push(e.bi.un(t,o,u))}else if(r-=s,e.pi){var l=En(e.bi.serializer,new Fe(o,D.min()),e.readTime);n.push(e.bi.un(t,o,l))}else n.push(e.bi.ln(t,o))})),i.forEach((function(r){n.push(e.bi.mn.ri(t,r))})),n.push(this.bi.updateMetadata(t,r)),on.nn(n)},e.prototype.fn=function(t,e){var n=this;return this.bi._i(t,e).next((function(t){return null===t?(n.vi.set(e,0),null):(n.vi.set(e,t.size),t.fi)}))},e.prototype.dn=function(t,e){var n=this;return this.bi.wi(t,e).next((function(t){var e=t.Ti;return t.Ei.forEach((function(t,e){n.vi.set(t,e)})),e}))},e}(an);var Fn=function(){function t(t){this.Si=t}return t.prototype.next=function(){return this.Si+=2,this.Si},t.Di=function(){return new t(0)},t.Ci=function(){return new t(-1)},t}(),Un=function(){function t(t,e){this.Fi=t,this.serializer=e}return t.prototype.Ni=function(t){var e=this;return this.$i(t).next((function(n){var r=new Fn(n.highestTargetId);return n.highestTargetId=r.next(),e.ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.xi=function(t){return this.$i(t).next((function(t){return D.I(new N(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Mi=function(t){return this.$i(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Li=function(t,e,n){var r=this;return this.$i(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.R()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ki(t,i)}))},t.prototype.Oi=function(t,e){var n=this;return this.Bi(t,e).next((function(){return n.$i(t).next((function(r){return r.targetCount+=1,n.qi(e,r),n.ki(t,r)}))}))},t.prototype.Ui=function(t,e){return this.Bi(t,e)},t.prototype.Qi=function(t,e){var n=this;return this.Wi(t,e.targetId).next((function(){return jn(t).delete(e.targetId)})).next((function(){return n.$i(t)})).next((function(e){return y(e.targetCount>0),e.targetCount-=1,n.ki(t,e)}))},t.prototype.ji=function(t,e,n){var r=this,i=0,o=[];return jn(t).Ii((function(a,s){var u=xn(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Qi(t,u)))})).next((function(){return on.nn(o)})).next((function(){return i}))},t.prototype.ye=function(t,e){return jn(t).Ii((function(t,n){var r=xn(n);e(r)}))},t.prototype.$i=function(t){return Vn(t).get(pr.key).next((function(t){return y(null!==t),t}))},t.prototype.ki=function(t,e){return Vn(t).put(pr.key,e)},t.prototype.Bi=function(t,e){return jn(t).put(On(this.serializer,e))},t.prototype.qi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ki=function(t){return this.$i(t).next((function(t){return t.targetCount}))},t.prototype.Gi=function(t,e){var n=Je(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jn(t).Ii({range:r,index:fr.queryTargetsIndexName},(function(t,n,r){var o=xn(n);tn(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.zi=function(t,e,n){var r=this,i=[],o=qn(t);return e.forEach((function(e){var a=pn(e.path);i.push(o.put(new dr(n,a))),i.push(r.Fi.Hi(t,n,e))})),on.nn(i)},t.prototype.Yi=function(t,e,n){var r=this,i=qn(t);return on.forEach(e,(function(e){var o=pn(e.path);return on.nn([i.delete([n,o]),r.Fi.Ji(t,n,e)])}))},t.prototype.Wi=function(t,e){var n=qn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Xi=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=qn(t),i=st();return r.Ii({range:n,Zi:!0},(function(t,e,n){var r=yn(t[1]),o=new U(r);i=i.add(o)})).next((function(){return i}))},t.prototype.tr=function(t,e){var n=pn(e.path),r=IDBKeyRange.bound([n],[C(n)],!1,!0),i=0;return qn(t).Ii({index:dr.documentTargetsIndex,Zi:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return jn(t).get(e).next((function(t){return t?xn(t):null}))},t}();function jn(t){return zn.ai(t,fr.store)}function Vn(t){return zn.ai(t,pr.store)}function qn(t){return zn.ai(t,dr.store)}var Hn="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).er=e,r.sr=n,r}return i.__extends(e,t),e}(un),zn=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Wn=o,this.window=a,this.document=s,this.nr=c,this.ir=l,this.rr=null,this.or=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hr=null,this.inForeground=!1,this.ar=null,this.ur=null,this.cr=Number.NEGATIVE_INFINITY,this.lr=function(t){return Promise.resolve()},!t._r())throw new O(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Fi=new Kn(this,i),this.dr=n+t.wr,this.serializer=new kn(u),this.Tr=new Un(this.Fi,this.serializer),this.mn=new bn,this.An=new Nn(this.serializer,this.mn),this.window&&this.window.localStorage?this.Er=this.window.localStorage:(this.Er=null,!1===l&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.ai=function(t,e){if(t instanceof Bn)return _r.ai(t.er,e);throw g()},t.prototype.start=function(){var t=this;return _r.Ir(this.dr,er,new nr(this.serializer)).then((function(e){return t.Ar=e,t.Rr()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new O(x.FAILED_PRECONDITION,Hn);return t.mr(),t.Pr(),t.Vr(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Tr.Mi(e)}))})).then((function(e){t.rr=new hn(e,t.nr)})).then((function(){t.or=!0})).catch((function(e){return t.Ar&&t.Ar.close(),Promise.reject(e)}))},t.prototype.gr=function(t){var e=this;return this.lr=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.pr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yr=function(t){var e=this;this.Ar.br((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.vr=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Wn.Sr((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.pr?[4,this.Rr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Rr=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Wn(e).put(new yr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Dr(e).next((function(e){e||(t.isPrimary=!1,t.Wn.Cr((function(){return t.lr(!1)})))}))})).next((function(){return t.Fr(e)})).next((function(n){return t.isPrimary&&!n?t.Nr(e).next((function(){return!1})):!!n&&t.$r(e).next((function(){return!0}))}))})).catch((function(e){if(kr(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Wn.Cr((function(){return t.lr(e)})),t.isPrimary=e}))},t.prototype.Dr=function(t){var e=this;return Gn(t).get(ir.key).next((function(t){return on.resolve(e.kr(t))}))},t.prototype.xr=function(t){return Wn(t).delete(this.clientId)},t.prototype.Mr=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Lr(this.cr,18e5)?[3,2]:(this.cr=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.ai(e,yr.store);return n.hi().next((function(t){var e=o.Or(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return on.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Er)for(n=0,r=e;n<r.length;n++)this.Er.removeItem(this.Br(r[n].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Vr=function(){var t=this;this.ur=this.Wn.ei("client_metadata_refresh",4e3,(function(){return t.Rr().then((function(){return t.Mr()})).then((function(){return t.Vr()}))}))},t.prototype.kr=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Fr=function(t){var e=this;return this.ir?on.resolve(!0):Gn(t).get(ir.key).next((function(n){if(null!==n&&e.Lr(n.leaseTimestampMs,5e3)&&!e.qr(n.ownerId)){if(e.kr(n)&&e.networkEnabled)return!0;if(!e.kr(n)){if(!n.allowTabSynchronization)throw new O(x.FAILED_PRECONDITION,Hn);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wn(t).hi().next((function(t){return void 0===e.Or(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Ur=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.or=!1,this.Qr(),this.ur&&(this.ur.cancel(),this.ur=null),this.Wr(),this.jr(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.Nr(e).next((function(){return t.xr(e)}))})).catch((function(t){d("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Ar.close(),this.Kr(),[2]}}))}))},t.prototype.Or=function(t,e){var n=this;return t.filter((function(t){return n.Lr(t.updateTimeMs,e)&&!n.qr(t.clientId)}))},t.prototype.Gr=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Wn(e).hi().next((function(e){return t.Or(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return t._r()?[4,_r.delete(e+t.wr)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),t.prototype.zr=function(t){return Xn.Hr(t,this.serializer,this.mn,this.Fi)},t.prototype.Yr=function(){return this.Tr},t.prototype.Jr=function(){return this.An},t.prototype.Xr=function(){return this.mn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return d("IndexedDbPersistence","Starting transaction:",t),this.Ar.runTransaction("readonly"===e?"readonly":"readwrite",mr,(function(o){return r=new Bn(o,i.rr?i.rr.next():hn.Qn),"readwrite-primary"===e?i.Dr(r).next((function(t){return!!t||i.Fr(r)})).next((function(e){if(!e)throw p("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Wn.Cr((function(){return i.lr(!1)})),new O(x.FAILED_PRECONDITION,sn);return n(r)})).next((function(t){return i.$r(r).next((function(){return t}))})):i.Zr(r).next((function(){return n(r)}))})).then((function(t){return r.In(),t}))},t.prototype.Zr=function(t){var e=this;return Gn(t).get(ir.key).next((function(t){if(null!==t&&e.Lr(t.leaseTimestampMs,5e3)&&!e.qr(t.ownerId)&&!e.kr(t)&&!(e.ir||e.allowTabSynchronization&&t.allowTabSynchronization))throw new O(x.FAILED_PRECONDITION,Hn)}))},t.prototype.$r=function(t){var e=new ir(this.clientId,this.allowTabSynchronization,Date.now());return Gn(t).put(ir.key,e)},t._r=function(){return _r._r()},t.to=function(t){var e=t.s.projectId;return t.s.i||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Nr=function(t){var e=this,n=Gn(t);return n.get(ir.key).next((function(t){return e.kr(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(ir.key)):on.resolve()}))},t.prototype.Lr=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(p("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mr=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ar=function(){t.Wn.Sr((function(){return t.inForeground="visible"===t.document.visibilityState,t.Rr()}))},this.document.addEventListener("visibilitychange",this.ar),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Wr=function(){this.ar&&(this.document.removeEventListener("visibilitychange",this.ar),this.ar=null)},t.prototype.Pr=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.hr=function(){e.Qr(),e.Wn.Sr((function(){return e.Ur()}))},this.window.addEventListener("unload",this.hr))},t.prototype.jr=function(){this.hr&&(this.window.removeEventListener("unload",this.hr),this.hr=null)},t.prototype.qr=function(t){var e;try{var n=null!==(null===(e=this.Er)||void 0===e?void 0:e.getItem(this.Br(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return p("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Qr=function(){if(this.Er)try{this.Er.setItem(this.Br(this.clientId),String(Date.now()))}catch(t){p("Failed to set zombie client id.",t)}},t.prototype.Kr=function(){if(this.Er)try{this.Er.removeItem(this.Br(this.clientId))}catch(t){}},t.prototype.Br=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Gn(t){return zn.ai(t,ir.store)}function Wn(t){return zn.ai(t,yr.store)}zn.wr="main";var Kn=function(){function t(t,e){this.db=t,this.eo=new Fr(this,e)}return t.prototype.so=function(t){var e=this.no(t);return this.db.Yr().Ki(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.no=function(t){var e=0;return this.io(t,(function(t){e++})).next((function(){return e}))},t.prototype.ye=function(t,e){return this.db.Yr().ye(t,e)},t.prototype.io=function(t,e){return this.ro(t,(function(t,n){return e(n)}))},t.prototype.Hi=function(t,e,n){return Qn(t,n)},t.prototype.Ji=function(t,e,n){return Qn(t,n)},t.prototype.ji=function(t,e,n){return this.db.Yr().ji(t,e,n)},t.prototype.oo=function(t,e){return Qn(t,e)},t.prototype.ho=function(t,e){return function(t,e){var n=!1;return tr(t).ao((function(r){return Yn(t,r,e).next((function(t){return t&&(n=!0),on.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.uo=function(t,e){var n=this,r=this.db.Jr().Vi(),i=[],o=0;return this.ro(t,(function(a,s){if(s<=e){var u=n.ho(t,a).next((function(e){if(!e)return o++,r._n(t,a).next((function(){return r.ln(a),qn(t).delete([0,pn(a.path)])}))}));i.push(u)}})).next((function(){return on.nn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.X(t.sr);return this.db.Yr().Ui(t,n)},t.prototype.co=function(t,e){return Qn(t,e)},t.prototype.ro=function(t,e){var n,r=qn(t),i=hn.Qn;return r.Ii({index:dr.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==hn.Qn&&e(new U(yn(n)),i),i=a,n=o):i=hn.Qn})).next((function(){i!==hn.Qn&&e(new U(yn(n)),i)}))},t.prototype.lo=function(t){return this.db.Jr().yi(t)},t}();function Qn(t,e){return qn(t).put(function(t,e){return new dr(0,pn(t.path),e)}(e,t.sr))}var Xn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.mn=n,this.Fi=r,this._o={}}return t.Hr=function(e,n,r,i){return y(""!==e.uid),new t(e.fo()?e.uid:"",n,r,i)},t.prototype.do=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zn(t).Ii({index:ar.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.wo=function(t,e,n,r){var i=this,o=Jn(t),a=Zn(t);return a.add({}).next((function(s){y("number"==typeof s);for(var u=new nn(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return oe(t.ui,e)})),i=n.mutations.map((function(e){return oe(t.ui,e)}));return new ar(e,n.batchId,n.Ws.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Z((function(t,e){return w(t.N(),e.N())})),f=0,d=r;f<d.length;f++){var p=d[f],v=sr.key(i.userId,p.key.path,s);h=h.add(p.key.path.p()),l.push(a.put(c)),l.push(o.put(v,sr.PLACEHOLDER))}return h.forEach((function(e){l.push(i.mn.ri(t,e))})),t.En((function(){i._o[s]=u.keys()})),on.nn(l).next((function(){return u}))}))},t.prototype.To=function(t,e){var n=this;return Zn(t).get(e).next((function(t){return t?(y(t.userId===n.userId),An(n.serializer,t)):null}))},t.prototype.Eo=function(t,e){var n=this;return this._o[e]?on.resolve(this._o[e]):this.To(t,e).next((function(t){if(t){var r=t.keys();return n._o[e]=r,r}return null}))},t.prototype.Io=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Zn(t).Ii({index:ar.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r),o=An(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Ao=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Zn(t).Ii({index:ar.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Ro=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zn(t).hi(ar.userMutationsIndex,n).next((function(t){return t.map((function(t){return An(e.serializer,t)}))}))},t.prototype.Vn=function(t,e){var n=this,r=sr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Jn(t).Ii({range:i},(function(r,i,a){var s=r[0],u=r[2],c=yn(r[1]);if(s===n.userId&&e.path.isEqual(c))return Zn(t).get(u).next((function(t){if(!t)throw g();y(t.userId===n.userId),o.push(An(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.vn=function(t,e){var n=this,r=new Z(w),i=[];return e.forEach((function(e){var o=sr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Jn(t).Ii({range:a},(function(t,i,o){var a=t[0],s=t[2],u=yn(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),on.nn(i).next((function(){return n.mo(t,r)}))},t.prototype.$n=function(t,e){var n=this,r=e.path,i=r.length+1,o=sr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Z(w);return Jn(t).Ii({range:a},(function(t,e,o){var a=t[0],u=t[2],c=yn(t[1]);a===n.userId&&r.D(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.mo(t,s)}))},t.prototype.mo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Zn(t).get(e).next((function(t){if(null===t)throw g();y(t.userId===n.userId),r.push(An(n.serializer,t))})))})),on.nn(i).next((function(){return r}))},t.prototype.Po=function(t,e){var n=this;return $n(t.er,this.userId,e).next((function(r){return t.En((function(){n.Vo(e.batchId)})),on.forEach(r,(function(e){return n.Fi.oo(t,e)}))}))},t.prototype.Vo=function(t){delete this._o[t]},t.prototype.po=function(t){var e=this;return this.do(t).next((function(n){if(!n)return on.resolve();var r=IDBKeyRange.lowerBound(sr.prefixForUser(e.userId)),i=[];return Jn(t).Ii({range:r},(function(t,n,r){if(t[0]===e.userId){var o=yn(t[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length)}))}))},t.prototype.tr=function(t,e){return Yn(t,this.userId,e)},t.prototype.yo=function(t){var e=this;return tr(t).get(this.userId).next((function(t){return t||new or(e.userId,-1,"")}))},t}();function Yn(t,e,n){var r=sr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Jn(t).Ii({range:o,Zi:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function $n(t,e,n){var r=t.store(ar.store),i=t.store(sr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ii({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){y(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=sr.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return on.nn(o).next((function(){return c}))}function Zn(t){return zn.ai(t,ar.store)}function Jn(t){return zn.ai(t,sr.store)}function tr(t){return zn.ai(t,or.store)}var er=10,nr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=er);var o=new Cr(e);n<1&&r>=1&&(function(t){t.createObjectStore(ir.store)}(t),function(t){t.createObjectStore(or.store,{keyPath:or.keyPath}),t.createObjectStore(ar.store,{keyPath:ar.keyPath,autoIncrement:!0}).createIndex(ar.userMutationsIndex,ar.userMutationsKeyPath,{unique:!0}),t.createObjectStore(sr.store)}(t),gr(t),function(t){t.createObjectStore(lr.store)}(t));var a=on.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(dr.store),t.deleteObjectStore(fr.store),t.deleteObjectStore(pr.store)}(t),gr(t)),a=a.next((function(){return function(t){var e=t.store(pr.store),n=new pr(0,0,D.min().R(),0);return e.put(pr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ar.store).hi().next((function(n){t.deleteObjectStore(ar.store),t.createObjectStore(ar.store,{keyPath:ar.keyPath,autoIncrement:!0}).createIndex(ar.userMutationsIndex,ar.userMutationsKeyPath,{unique:!0});var r=e.store(ar.store),i=n.map((function(t){return r.put(t)}));return on.nn(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(yr.store,{keyPath:yr.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(hr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(lr.store);e.createIndex(lr.readTimeIndex,lr.readTimeIndexPath,{unique:!1}),e.createIndex(lr.collectionReadTimeIndex,lr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(lr.store).Ii((function(t,n){e+=Ln(n)})).next((function(){var n=new hr(e);return t.store(hr.store).put(hr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(or.store),r=t.store(ar.store);return n.hi().next((function(n){return on.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.hi(ar.userMutationsIndex,i).next((function(r){return on.forEach(r,(function(r){y(r.userId===n.userId);var i=An(e.serializer,r);return $n(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(dr.store),n=t.store(lr.store);return t.store(pr.store).get(pr.key).next((function(t){var r=[];return n.Ii((function(n,i){var o=new M(n),a=function(t){return[0,pn(t)]}(o);r.push(e.get(a).next((function(n){return n?on.resolve():function(n){return e.put(new dr(0,pn(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return on.nn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(vr.store,{keyPath:vr.keyPath});var n=e.store(vr.store),r=new _n,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:pn(i)})}};return e.store(lr.store).Ii({Zi:!0},(function(t,e){var n=new M(t);return i(n.p())})).next((function(){return e.store(sr.store).Ii({Zi:!0},(function(t,e){var n=yn(t[1]);return i(n.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(fr.store);return n.Ii((function(t,r){var i=xn(r),o=On(e.serializer,i);return n.put(o)}))},t}(),rr=function(t,e){this.seconds=t,this.nanoseconds=e},ir=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ir.store="owner",ir.key="owner";var or=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};or.store="mutationQueues",or.keyPath="userId";var ar=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ar.store="mutations",ar.keyPath="batchId",ar.userMutationsIndex="userMutationsIndex",ar.userMutationsKeyPath=["userId","batchId"];var sr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pn(e)]},t.key=function(t,e,n){return[t,pn(e),n]},t}();sr.store="documentMutations",sr.PLACEHOLDER=new sr;var ur=function(t,e){this.path=t,this.readTime=e},cr=function(t,e){this.path=t,this.version=e},lr=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};lr.store="remoteDocuments",lr.readTimeIndex="readTimeIndex",lr.readTimeIndexPath="readTime",lr.collectionReadTimeIndex="collectionReadTimeIndex",lr.collectionReadTimeIndexPath=["parentPath","readTime"];var hr=function(t){this.byteSize=t};hr.store="remoteDocumentGlobal",hr.key="remoteDocumentGlobalKey";var fr=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};fr.store="targets",fr.keyPath="targetId",fr.queryTargetsIndexName="queryTargetsIndex",fr.queryTargetsKeyPath=["canonicalId","targetId"];var dr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};dr.store="targetDocuments",dr.keyPath=["targetId","path"],dr.documentTargetsIndex="documentTargetsIndex",dr.documentTargetsKeyPath=["path","targetId"];var pr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pr.key="targetGlobalKey",pr.store="targetGlobal";var vr=function(t,e){this.collectionId=t,this.parent=e};function gr(t){t.createObjectStore(dr.store,{keyPath:dr.keyPath}).createIndex(dr.documentTargetsIndex,dr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.queryTargetsIndexName,fr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(pr.store)}vr.store="collectionParents",vr.keyPath=["collectionId","parent"];var yr=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};yr.store="clientMetadata",yr.keyPath="clientId";var mr=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([or.store,ar.store,sr.store,lr.store,fr.store,ir.store,pr.store,dr.store],[yr.store]),[hr.store]),[vr.store]),_r=function(){function t(e){this.db=e,12.2===t.bo(s.getUA())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Ir=function(e,n,r){return d("SimpleDb","Opening database:",e),new on((function(i,o){var a=indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new O(x.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new O(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,a.transaction,t.oldVersion,er).next((function(){d("SimpleDb","Database upgrade to version "+er+" complete")}))}})).en()},t.delete=function(t){return d("SimpleDb","Removing database:",t),Sr(window.indexedDB.deleteDatabase(t)).en()},t._r=function(){if("undefined"==typeof indexedDB)return!1;if(t.vo())return!0;var e=s.getUA(),n=t.bo(e),r=0<n&&n<10,i=t.So(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.vo=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.Do)},t.ai=function(t,e){return t.store(e)},t.bo=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.So=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.br=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===t,o=0,a=function(){var t,a,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,t=Cr.open(s.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),a=n(t).catch((function(e){return t.abort(e),on.reject(e)})).en(),u={},a.catch((function(){})),[4,t.Co];case 2:return[2,(u.value=(i.sent(),a),u)];case 3:return d("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),br=function(){function t(t){this.Fo=t,this.No=!1,this.$o=null}return Object.defineProperty(t.prototype,"Js",{get:function(){return this.No},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ko",{get:function(){return this.$o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Fo=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.No=!0},t.prototype.Ai=function(t){this.$o=t},t.prototype.delete=function(){return Sr(this.Fo.delete())},t}(),wr=function(t){function e(e){var n=this;return(n=t.call(this,x.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(O);function kr(t){return"IndexedDbTransactionError"===t.name}var Cr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.xo=new fn,this.transaction.oncomplete=function(){e.xo.resolve()},this.transaction.onabort=function(){t.error?e.xo.reject(new wr(t.error)):e.xo.resolve()},this.transaction.onerror=function(t){var n=Tr(t.target.error);e.xo.reject(new wr(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"Co",{get:function(){return this.xo.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.xo.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Er(e)},t}(),Er=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Sr(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),Sr(this.store.add(t))},t.prototype.get=function(t){var e=this;return Sr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),Sr(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Sr(this.store.count())},t.prototype.hi=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mo(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Lo=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Zi=!1;var r=this.cursor(n);return this.Mo(r,(function(t,e,n){return n.delete()}))},t.prototype.Ii=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mo(r,e)},t.prototype.ao=function(t){var e=this.cursor({});return new on((function(n,r){e.onerror=function(t){var e=Tr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Mo=function(t,e){var n=[];return new on((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new br(i),a=e(i.primaryKey,i.value,o);if(a instanceof on){var s=a.catch((function(t){return o.done(),on.reject(t)}));n.push(s)}o.Js?r():null===o.ko?i.continue():i.continue(o.ko)}else r()}})).next((function(){return on.nn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Zi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Sr(t){return new on((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Tr(t.target.error);n(e)}}))}var Ir=!1;function Tr(t){var e=_r.bo(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new O("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ir||(Ir=!0,setTimeout((function(){throw r}),0)),r}}return t}function Pr(){return"undefined"!=typeof window?window:null}var Ar=function(){function t(t,e,n,r,i){this.Oo=t,this.jn=e,this.Bo=n,this.op=r,this.qo=i,this.Uo=new fn,this.then=this.Uo.promise.then.bind(this.Uo.promise),this.Uo.promise.catch((function(t){}))}return t.Qo=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Wo=setTimeout((function(){return e.jo()}),t)},t.prototype.ni=function(){return this.jo()},t.prototype.cancel=function(t){null!==this.Wo&&(this.clearTimeout(),this.Uo.reject(new O(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.jo=function(){var t=this;this.Oo.Sr((function(){return null!==t.Wo?(t.clearTimeout(),t.op().then((function(e){return t.Uo.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Wo&&(this.qo(this),clearTimeout(this.Wo),this.Wo=null)},t}(),xr=function(){function t(){var t=this;this.Ko=Promise.resolve(),this.Go=Promise.resolve(),this.zo=!1,this.Ho=[],this.Yo=null,this.Jo=!1,this.Xo=[],this.Zo=new dn(this,"async_queue_retry"),this.th=function(){return t.Zo.si()};var e=Pr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.th)}return Object.defineProperty(t.prototype,"eh",{get:function(){return this.zo},enumerable:!0,configurable:!0}),t.prototype.Sr=function(t){this.enqueue(t)},t.prototype.sh=function(t){this.nh(),this.ih(t)},t.prototype.rh=function(t){return this.nh(),this.ih(t)},t.prototype.oh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.nh(),this.zo?[3,2]:(this.zo=!0,(e=Pr())&&e.removeEventListener("visibilitychange",this.th),[4,this.rh(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.nh(),this.zo?new Promise((function(t){})):this.ih(t)},t.prototype.Cr=function(t){var e=this;this.nh(),this.zo||(this.Go=this.Go.then((function(){var n=new fn;return e.Sr((function r(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.Zo.reset(),[3,3];case 2:if(!kr(e=i.sent()))throw n.resolve(),e;return d("AsyncQueue","Operation failed with retryable error: "+e),this.Zo.Zn(r),[3,3];case 3:return[2]}}))}))})),n.promise})))},t.prototype.ih=function(t){var e=this,n=this.Ko.then((function(){return e.Jo=!0,t().catch((function(t){throw e.Yo=t,e.Jo=!1,p("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Jo=!1,t}))}));return this.Ko=n,n},t.prototype.ei=function(t,e,n){var r=this;this.nh(),this.Xo.indexOf(t)>-1&&(e=0);var i=Ar.Qo(this,t,e,n,(function(t){return r.hh(t)}));return this.Ho.push(i),i},t.prototype.nh=function(){this.Yo&&g()},t.prototype.ah=function(){},t.prototype.uh=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ko];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ko)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.lh=function(t){for(var e=0,n=this.Ho;e<n.length;e++)if(n[e].jn===t)return!0;return!1},t.prototype._h=function(t){var e=this;return this.uh().then((function(){e.Ho.sort((function(t,e){return t.Bo-e.Bo}));for(var n=0,r=e.Ho;n<r.length;n++){var i=r[n];if(i.ni(),"all"!==t&&i.jn===t)break}return e.uh()}))},t.prototype.fh=function(t){this.Xo.push(t)},t.prototype.hh=function(t){var e=this.Ho.indexOf(t);this.Ho.splice(e,1)},t}();function Or(t,e){if(p("AsyncQueue",e+": "+t),kr(t))return new O(x.UNAVAILABLE,e+": "+t);throw t}function Nr(t,e){var n=t[1],r=e[1],i=w(t[0],e[0]);return 0===i?w(n,r):i}var Dr=function(){function t(t){this.dh=t,this.buffer=new Z(Nr),this.wh=0}return t.prototype.Th=function(){return++this.wh},t.prototype.Eh=function(t){var e=[t,this.Th()];if(this.buffer.size<this.dh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Nr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Rr={Ih:!1,Ah:0,Rh:0,mh:0},Mr=function(){function t(t,e,n){this.Ph=t,this.Vh=e,this.gh=n}return t.ph=function(e){return new t(e,t.yh,t.bh)},t}();Mr.vh=-1,Mr.Sh=1048576,Mr.Dh=41943040,Mr.yh=10,Mr.bh=1e3,Mr.Ch=new Mr(Mr.Dh,Mr.yh,Mr.bh),Mr.DISABLED=new Mr(Mr.vh,0,0);var Lr=function(){function t(t,e){this.eo=t,this.Oo=e,this.Fh=!1,this.Nh=null}return t.prototype.start=function(t){this.eo.$h.Ph!==Mr.vh&&this.kh(t)},t.prototype.stop=function(){this.Nh&&(this.Nh.cancel(),this.Nh=null)},Object.defineProperty(t.prototype,"pr",{get:function(){return null!==this.Nh},enumerable:!0,configurable:!0}),t.prototype.kh=function(t){var e=this,n=this.Fh?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Nh=this.Oo.ei("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.Nh=null,this.Fh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.xh(this.eo)];case 2:return n.sent(),[3,7];case 3:return kr(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Vr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.kh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Fr=function(){function t(t,e){this.Mh=t,this.$h=e}return t.prototype.Lh=function(t,e){return this.Mh.so(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Oh=function(t,e){var n=this;if(0===e)return on.resolve(hn.Qn);var r=new Dr(e);return this.Mh.ye(t,(function(t){return r.Eh(t.sequenceNumber)})).next((function(){return n.Mh.io(t,(function(t){return r.Eh(t)}))})).next((function(){return r.maxValue}))},t.prototype.ji=function(t,e,n){return this.Mh.ji(t,e,n)},t.prototype.uo=function(t,e){return this.Mh.uo(t,e)},t.prototype.Bh=function(t,e){var n=this;return this.$h.Ph===Mr.vh?(d("LruGarbageCollector","Garbage collection skipped; disabled"),on.resolve(Rr)):this.lo(t).next((function(r){return r<n.$h.Ph?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.$h.Ph),Rr):n.qh(t,e)}))},t.prototype.lo=function(t){return this.Mh.lo(t)},t.prototype.qh=function(t,e){var n,r,i,o,s,u,c,l=this,h=Date.now();return this.Lh(t,this.$h.Vh).next((function(e){return e>l.$h.gh?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.$h.gh+" from "+e),r=l.$h.gh):r=e,o=Date.now(),l.Oh(t,r)})).next((function(r){return n=r,s=Date.now(),l.ji(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.uo(t,n)})).next((function(t){return c=Date.now(),f()<=a.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),on.resolve({Ih:!0,Ah:r,Rh:i,mh:t})}))},t}(),Ur=function(){function t(t,e,n){this.persistence=t,this.Uh=e,this.Qh=new X(w),this.Wh=new A((function(t){return Je(t)}),tn),this.jh=D.min(),this.Rn=t.zr(n),this.Kh=t.Jr(),this.Tr=t.Yr(),this.Gh=new cn(this.Kh,this.Rn,this.persistence.Xr()),this.Uh.zh(this.Gh)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Hh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.Rn,n=this.Gh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Rn.Ro(r).next((function(a){return i=a,e=o.persistence.zr(t),n=new cn(o.Kh,e,o.persistence.Xr()),e.Ro(r)})).next((function(t){for(var e=[],o=[],a=st(),s=0,u=i;s<u.length;s++){var c=u[s];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return n.yn(r,a).next((function(t){return{Yh:t,Jh:e,Xh:o}}))}))}))];case 1:return r=i.sent(),[2,(this.Rn=e,this.Gh=n,this.Uh.zh(this.Gh),r)]}}))}))},t.prototype.Zh=function(t){var e,n=this,r=N.now(),i=t.reduce((function(t,e){return t.add(e.key)}),st());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Gh.yn(o,i).next((function(i){e=i;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=c.Ze(e.get(c.key));null!=l&&a.push(new Pe(c.key,l,Re(l.proto.mapValue),Se.exists(!0)))}return n.Rn.wo(o,r,a,t)}))})).then((function(t){var n=t.Ks(e);return{batchId:t.batchId,on:n}}))},t.prototype.ta=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Kh.Vi({pi:!0});return e.ea(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.Rn.po(n)})).next((function(){return e.Gh.yn(n,r)}))}))},t.prototype.sa=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Rn.To(n,t).next((function(t){return y(null!==t),r=t.keys(),e.Rn.Po(n,t)})).next((function(){return e.Rn.po(n)})).next((function(){return e.Gh.yn(n,r)}))}))},t.prototype.Ao=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Rn.Ao(e)}))},t.prototype.xi=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Tr.xi(e)}))},t.prototype.na=function(e){var n=this,r=e.J,i=this.Qh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var a=n.Kh.Vi({pi:!0});i=n.Qh;var s=[];e.Qt.forEach((function(e,a){var u=i.get(a);if(u){s.push(n.Tr.Yi(o,e.Xt,a).next((function(){return n.Tr.zi(o,e.Yt,a)})));var c=e.resumeToken;if(c.G()>0){var l=u.Z(c,r).X(o.sr);i=i.et(a,l),t.ia(u,l,e)&&s.push(n.Tr.Ui(o,l))}}}));var u=et(),c=st();if(e.jt.forEach((function(t,e){c=c.add(t)})),s.push(a.getEntries(o,c).next((function(t){e.jt.forEach((function(i,c){var l=t.get(i);c instanceof Fe&&c.version.isEqual(D.min())?(a.ln(i,r),u=u.et(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(a.un(c,r),u=u.et(i,c)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.Kt.has(i)&&s.push(n.persistence.Fi.co(o,i))}))}))),!r.isEqual(D.min())){var l=n.Tr.xi(o).next((function(t){return n.Tr.Li(o,o.sr,r)}));s.push(l)}return on.nn(s).next((function(){return a.apply(o)})).next((function(){return n.Gh.bn(o,u)}))})).then((function(t){return n.Qh=i,t}))},t.ia=function(t,e,n){return y(e.resumeToken.G()>0),0===t.resumeToken.G()||e.J.A()-t.J.A()>=this.ra||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.oa=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,a,s,u,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return on.forEach(t,(function(t){return on.forEach(t.xn,(function(n){return c.persistence.Fi.Hi(e,t.targetId,n)})).next((function(){return on.forEach(t.Mn,(function(n){return c.persistence.Fi.Ji(e,t.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!kr(e=i.sent()))throw e;return d("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)a=(o=r[n]).targetId,o.fromCache||(s=this.Qh.get(a),u=s.tt(s.J),this.Qh=this.Qh.et(a,u));return[2]}}))}))},t.prototype.ha=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Rn.Io(n,t)}))},t.prototype.aa=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Gh.Pn(n,t)}))},t.prototype.ua=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Tr.Gi(n,t).next((function(i){return i?on.resolve(r=i):e.Tr.Ni(n).next((function(i){return r=new G(t,i,0,n.sr),e.Tr.Oi(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.Qh.get(n.targetId);return(null===r||n.J.o(r.J)>0)&&(e.Qh=e.Qh.et(n.targetId,n),e.Wh.set(t,n.targetId)),n}))},t.prototype.Gi=function(t,e){var n=this.Wh.get(e);return void 0!==n?on.resolve(this.Qh.get(n)):this.Tr.Gi(t,e)},t.prototype.ca=function(t,e){var n=this,r=this.Qh.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(t){return e?on.resolve():n.persistence.Fi.removeTarget(t,r)})).then((function(){n.Qh=n.Qh.remove(t),n.Wh.delete(r.target)}))},t.prototype.la=function(t,e){var n=this,r=D.min(),i=st();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Gi(o,t.We()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Tr.Xi(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Uh.Sn(o,t,e?r:D.min(),e?i:st())})).next((function(t){return{documents:t,_a:i}}))}))},t.prototype.ea=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=on.resolve();return o.forEach((function(r){a=a.next((function(){return n._n(t,r)})).next((function(t){var o=t,a=e.zs.get(r);y(null!==a),(!o||o.version.o(a)<0)&&(o=i.Ke(r,o,e))&&n.un(o,e.Gs)}))})),a.next((function(){return r.Rn.Po(t,i)}))},t.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Bh(n,e.Qh)}))},t}();Ur.ra=3e8;var jr=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.Rn=e.zr(r),i.Kh=e.Jr(),i.Tr=e.Yr(),i}return i.__extends(e,t),e.prototype.start=function(){return this.fa()},e.prototype.da=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Rn.Eo(n,t).next((function(t){return t?e.Gh.yn(n,t):on.resolve(null)}))}))},e.prototype.wa=function(t){this.Rn.Vo(t)},e.prototype.vr=function(t){this.persistence.vr(t)},e.prototype.Gr=function(){return this.persistence.Gr()},e.prototype.Ta=function(t){var e=this,n=this.Qh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Tr.Me(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.Ri=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Kh.Ri(e,t.jh)})).then((function(e){var n=e.mi;return t.jh=e.readTime,n}))},e.prototype.fa=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Kh.Pi(t)}))];case 1:return t.jh=n.sent(),[2]}}))}))},e}(Ur);function Vr(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==x.FAILED_PRECONDITION||t.message!==sn)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var qr=function(){function t(){this.Ea=new Z(Hr.Ia),this.Aa=new Z(Hr.Ra)}return t.prototype._=function(){return this.Ea._()},t.prototype.Hi=function(t,e){var n=new Hr(t,e);this.Ea=this.Ea.add(n),this.Aa=this.Aa.add(n)},t.prototype.ma=function(t,e){var n=this;t.forEach((function(t){return n.Hi(t,e)}))},t.prototype.Ji=function(t,e){this.Pa(new Hr(t,e))},t.prototype.Va=function(t,e){var n=this;t.forEach((function(t){return n.Ji(t,e)}))},t.prototype.ga=function(t){var e=this,n=U.EMPTY,r=new Hr(n,t),i=new Hr(n,t+1),o=[];return this.Aa.vt([r,i],(function(t){e.Pa(t),o.push(t.key)})),o},t.prototype.pa=function(){var t=this;this.Ea.forEach((function(e){return t.Pa(e)}))},t.prototype.Pa=function(t){this.Ea=this.Ea.delete(t),this.Aa=this.Aa.delete(t)},t.prototype.ya=function(t){var e=U.EMPTY,n=new Hr(e,t),r=new Hr(e,t+1),i=st();return this.Aa.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.tr=function(t){var e=new Hr(t,0),n=this.Ea.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),Hr=function(){function t(t,e){this.key=t,this.ba=e}return t.Ia=function(t,e){return U.P(t.key,e.key)||w(t.ba,e.ba)},t.Ra=function(t,e){return w(t.ba,e.ba)||U.P(t.key,e.key)},t}();function Br(t,e){if(0!==e.length)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+si(e.length,"argument")+".")}function zr(t,e,n){if(e.length!==n)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires "+si(n,"argument")+", but was called with "+si(e.length,"argument")+".")}function Gr(t,e,n){if(e.length<n)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires at least "+si(n,"argument")+", but was called with "+si(e.length,"argument")+".")}function Wr(t,e,n,r){if(e.length<n||e.length>r)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+si(e.length,"argument")+".")}function Kr(t,e,n,r){Jr(t,e,ai(n)+" argument",r)}function Qr(t,e,n,r){void 0!==r&&Kr(t,e,n,r)}function Xr(t,e,n,r){Jr(t,e,n+" option",r)}function Yr(t,e,n,r){void 0!==r&&Xr(t,e,n,r)}function $r(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(ei(u))}var c=ei(r);throw new O(x.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Zr(t,e,n,r){if(!e.some((function(t){return t===r})))throw new O(x.INVALID_ARGUMENT,"Invalid value "+ei(r)+" provided to function "+t+"() for its "+ai(n)+" argument. Acceptable values: "+e.join(", "));return r}function Jr(t,e,n,r){if(!("object"===e?ti(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=ei(r);throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function ti(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function ei(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g()}function ni(t,e,n){if(void 0===n)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ai(e)+" argument, but it was undefined.")}function ri(t,e,n){T(e,(function(e,r){if(n.indexOf(e)<0)throw new O(x.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function ii(t,e,n,r){var i=ei(r);return new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+ai(n)+" argument to be a "+e+", but it was: "+i)}function oi(t,e,n){if(n<=0)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+ai(e)+" argument to be a positive number, but it was: "+n+".")}function ai(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function si(t,e){return t+" "+e+(1===t?"":"s")}function ui(){if("undefined"==typeof Uint8Array)throw new O(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ci(){if("undefined"==typeof atob)throw new O(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var li=function(){function t(t){ci(),this.va=t}return t.fromBase64String=function(e){zr("Blob.fromBase64String",arguments,1),Kr("Blob.fromBase64String","string",1,e),ci();try{return new t(H.fromBase64String(e))}catch(e){throw new O(x.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(zr("Blob.fromUint8Array",arguments,1),ui(),!(e instanceof Uint8Array))throw ii("Blob.fromUint8Array","Uint8Array",1,e);return new t(H.fromUint8Array(e))},t.prototype.toBase64=function(){return zr("Blob.toBase64",arguments,0),ci(),this.va.toBase64()},t.prototype.toUint8Array=function(){return zr("Blob.toUint8Array",arguments,0),ui(),this.va.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.va.isEqual(t.va)},t}(),hi=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new O(x.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+si(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(Kr("FieldPath","string",e,t[e]),0===t[e].length)throw new O(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Sa=new F(t)},fi=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return i.__extends(e,t),e.documentId=function(){return e.Da},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ii("isEqual","FieldPath",1,t);return this.Sa.isEqual(t.Sa)},e}(hi);fi.Da=new fi(F.O().N());var di=new RegExp("[~\\*/\\[\\]]"),pi=function(){this.Ca=this},vi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fa=e,n}return i.__extends(e,t),e.prototype.Na=function(t){if(2!==t.$a)throw t.ka(1===t.$a?this.Fa+"() can only appear at the top level of your update data":this.Fa+"() cannot be used with set() unless you pass {merge:true}");return t.Oe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pi),gi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fa=e,n}return i.__extends(e,t),e.prototype.Na=function(t){return new Ce(t.path,ye.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(pi),yi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Fa=e,r.xa=n,r}return i.__extends(e,t),e.prototype.Na=function(t){var e=new Ai({$a:3,methodName:this.Fa,Ma:!0},t.s,t.serializer,t.ignoreUndefinedProperties),n=this.xa.map((function(t){return Oi(t,e)})),r=new me(n);return new Ce(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pi),mi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Fa=e,r.xa=n,r}return i.__extends(e,t),e.prototype.Na=function(t){var e=new Ai({$a:3,methodName:this.Fa,Ma:!0},t.s,t.serializer,t.ignoreUndefinedProperties),n=this.xa.map((function(t){return Oi(t,e)})),r=new _e(n);return new Ce(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pi),_i=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Fa=e,r.La=n,r}return i.__extends(e,t),e.prototype.Na=function(t){var e=new Ai({$a:3,methodName:this.Fa},t.s,t.serializer,t.ignoreUndefinedProperties),n=Oi(this.La,e),r=new be(t.serializer,n);return new Ce(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pi),bi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.delete=function(){return Br("FieldValue.delete",arguments),new wi(new vi("FieldValue.delete"))},e.serverTimestamp=function(){return Br("FieldValue.serverTimestamp",arguments),new wi(new gi("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gr("FieldValue.arrayUnion",arguments,1),new wi(new yi("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gr("FieldValue.arrayRemove",arguments,1),new wi(new mi("FieldValue.arrayRemove",t))},e.increment=function(t){return Kr("FieldValue.increment","number",1,t),zr("FieldValue.increment",arguments,1),new wi(new _i("FieldValue.increment",t))},e}(pi),wi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ca=e,n.Fa=e.Fa,n}return i.__extends(e,t),e.prototype.Na=function(t){return this.Ca.Na(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.Ca.isEqual(t.Ca)},e}(bi),ki=function(){function t(t,e){if(zr("GeoPoint",arguments,2),Kr("GeoPoint","number",1,t),Kr("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new O(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new O(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Oa=t,this.Ba=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Oa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Ba},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Oa===t.Oa&&this.Ba===t.Ba},t.prototype.T=function(t){return w(this.Oa,t.Oa)||w(this.Ba,t.Ba)},t}();function Ci(t){return new Ht(t,!0)}var Ei=/^__.*__$/,Si=function(t,e,n){this.qa=t,this.Ua=e,this.Qa=n},Ii=function(){function t(t,e,n){this.data=t,this.Oe=e,this.fieldTransforms=n}return t.prototype.Wa=function(t,e){var n=[];return n.push(null!==this.Oe?new Pe(t,this.data,this.Oe,e):new Te(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ae(t,this.fieldTransforms)),n},t}(),Ti=function(){function t(t,e,n){this.data=t,this.Oe=e,this.fieldTransforms=n}return t.prototype.Wa=function(t,e){var n=[new Pe(t,this.data,this.Oe,e)];return this.fieldTransforms.length>0&&n.push(new Ae(t,this.fieldTransforms)),n},t}();function Pi(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var Ai=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ja(),this.fieldTransforms=i||[],this.Oe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$a",{get:function(){return this.settings.$a},enumerable:!0,configurable:!0}),t.prototype.Ka=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Oe)},t.prototype.Ga=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ka({path:n,Ma:!1});return r.za(t),r},t.prototype.Ha=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ka({path:n,Ma:!1});return r.ja(),r},t.prototype.Ya=function(t){return this.Ka({path:void 0,Ma:!0})},t.prototype.ka=function(t){var e=!this.path||this.path._()?"":" (found in field "+this.path.toString()+")";return new O(x.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Oe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.ja=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.za(this.path.get(t))},t.prototype.za=function(t){if(0===t.length)throw this.ka("Document fields must not be empty");if(Pi(this.$a)&&Ei.test(t))throw this.ka('Document fields cannot begin and end with "__"')},t}(),xi=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ci(t)}return t.prototype.Ja=function(t,e,n){void 0===n&&(n={});var r=this.Xa(n.merge||n.mergeFields?2:0,t);Ri("Data must be an object, but it was:",r,e);var i,o,a=Ni(e,r);if(n.merge)i=new ke(r.Oe),o=r.fieldTransforms;else if(n.mergeFields){for(var s=[],u=0,c=n.mergeFields;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof hi)h=l.Sa;else{if("string"!=typeof l)throw g();h=Li(t,l)}if(!r.contains(h))throw new O(x.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Fi(s,h)||s.push(h)}i=new ke(s),o=r.fieldTransforms.filter((function(t){return i.ze(t.field)}))}else i=null,o=r.fieldTransforms;return new Ii(new Ne(a),i,o)},t.prototype.Za=function(t,e){var n=this.Xa(1,t);Ri("Data must be an object, but it was:",n,e);var r=[],i=new De;T(e,(function(e,o){var a=Li(t,e),s=n.Ha(a);if(o instanceof pi&&o.Ca instanceof vi)r.push(a);else{var u=Oi(o,s);null!=u&&(r.push(a),i.set(a,u))}}));var o=new ke(r);return new Ti(i.ss(),o,n.fieldTransforms)},t.prototype.tu=function(t,e,n,r){var i=this.Xa(1,t),o=[Mi(t,e)],a=[n];if(r.length%2!=0)throw new O(x.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Mi(t,r[s])),a.push(r[s+1]);for(var u=[],c=new De,l=o.length-1;l>=0;--l)if(!Fi(u,o[l])){var h=o[l],f=a[l],d=i.Ha(h);if(f instanceof pi&&f.Ca instanceof vi)u.push(h);else{var p=Oi(f,d);null!=p&&(u.push(h),c.set(h,p))}}var v=new ke(u);return new Ti(c.ss(),v,i.fieldTransforms)},t.prototype.Xa=function(t,e){return new Ai({$a:t,methodName:e,path:F.k,Ma:!1},this.s,this.serializer,this.ignoreUndefinedProperties)},t.prototype.eu=function(t,e,n){return void 0===n&&(n=!1),Oi(e,this.Xa(n?4:3,t))},t}();function Oi(t,e){if(Di(t))return Ri("Unsupported field value:",e,t),Ni(t,e);if(t instanceof pi)return function(t,e){if(!Pi(e.$a))throw e.ka(t.Fa+"() can only be used with update() and set()");if(!e.path)throw e.ka(t.Fa+"() is not currently supported inside arrays");var n=t.Na(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Oe.push(e.path),t instanceof Array){if(e.settings.Ma&&4!==e.$a)throw e.ka("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Oi(o[i],e.Ya(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return function(t,e){return q(e)?Bt(e):zt(t,e)}(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=N.fromDate(t);return{timestampValue:Gt(e.serializer,n)}}if(t instanceof N){var r=new N(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gt(e.serializer,r)}}if(t instanceof ki)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof li)return{bytesValue:Wt(e.serializer,t)};if(t instanceof Si){var i=e.s,o=t.qa;if(!o.isEqual(i))throw e.ka("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Yt(t.qa||e.s,t.Ua.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.ka("Unsupported field value: "+ei(t))}(t,e)}function Ni(t,e){var n={};return P(t)?e.path&&e.path.length>0&&e.Oe.push(e.path):T(t,(function(t,r){var i=Oi(r,e.Ga(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Di(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof N||t instanceof ki||t instanceof li||t instanceof Si||t instanceof pi)}function Ri(t,e,n){if(!Di(n)||!ti(n)){var r=ei(n);throw e.ka("an object"===r?t+" a custom object":t+" "+r)}}function Mi(t,e){if(e instanceof hi)return e.Sa;if("string"==typeof e)return Li(t,e);throw new O(x.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Li(t,e){try{return function(t){if(t.search(di)>=0)throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fi.bind.apply(fi,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new O(x.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Sa}catch(e){var n=(r=e)instanceof Error?r.message:r.toString();throw new O(x.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var r}function Fi(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ui=function(){function t(t){this.uid=t}return t.prototype.fo=function(){return null!=this.uid},t.prototype.su=function(){return this.fo()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ui.UNAUTHENTICATED=new Ui(null),Ui.nu=new Ui("google-credentials-uid"),Ui.iu=new Ui("first-party-uid");var ji=function(t,e){this.user=e,this.type="OAuth",this.ru={},this.ru.Authorization="Bearer "+t},Vi=function(){function t(){this.ou=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.hu=function(){},t.prototype.au=function(t){this.ou=t,t(Ui.UNAUTHENTICATED)},t.prototype.uu=function(){this.ou=null},t}(),qi=function(){function t(t){var e=this;this.cu=null,this.currentUser=Ui.UNAUTHENTICATED,this.lu=!1,this._u=0,this.ou=null,this.forceRefresh=!1,this.cu=function(){e._u++,e.currentUser=e.fu(),e.lu=!0,e.ou&&e.ou(e.currentUser)},this._u=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.cu):(this.cu(null),t.get().then((function(t){e.auth=t,e.cu&&e.auth.addAuthTokenListener(e.cu)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this._u,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t._u!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(y("string"==typeof n.accessToken),new ji(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.hu=function(){this.forceRefresh=!0},t.prototype.au=function(t){this.ou=t,this.lu&&t(this.currentUser)},t.prototype.uu=function(){this.auth&&this.auth.removeAuthTokenListener(this.cu),this.cu=null,this.ou=null},t.prototype.fu=function(){var t=this.auth&&this.auth.getUid();return y(null===t||"string"==typeof t),new Ui(t)},t}(),Hi=function(){function t(t,e){this.du=t,this.wu=e,this.type="FirstParty",this.user=Ui.iu}return Object.defineProperty(t.prototype,"ru",{get:function(){var t={"X-Goog-AuthUser":this.wu},e=this.du.auth.Tu([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Bi=function(){function t(t,e){this.du=t,this.wu=e}return t.prototype.getToken=function(){return Promise.resolve(new Hi(this.du,this.wu))},t.prototype.au=function(t){t(Ui.iu)},t.prototype.uu=function(){},t.prototype.hu=function(){},t}(),zi=function(){function t(t,e,n,r,i,o){this.Wn=t,this.Eu=n,this.Iu=r,this.Au=i,this.listener=o,this.state=0,this.Ru=0,this.mu=null,this.stream=null,this.Zo=new dn(t,e)}return t.prototype.Pu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Vu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.gu()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Pu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.pu=function(){this.state=0,this.Zo.reset()},t.prototype.yu=function(){var t=this;this.Vu()&&null===this.mu&&(this.mu=this.Wn.ei(this.Eu,6e4,(function(){return t.bu()})))},t.prototype.vu=function(t){this.Su(),this.stream.send(t)},t.prototype.bu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Vu()?[2,this.close(0)]:[2]}))}))},t.prototype.Su=function(){this.mu&&(this.mu.cancel(),this.mu=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Su(),this.Zo.cancel(),this.Ru++,3!==t?this.Zo.reset():e&&e.code===x.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Zo.Xn()):e&&e.code===x.UNAUTHENTICATED&&this.Au.hu(),null!==this.stream&&(this.Du(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Cu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Du=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Fu(this.Ru),n=this.Ru;this.Au.getToken().then((function(e){t.Ru===n&&t.Nu(e)}),(function(n){e((function(){var e=new O(x.UNKNOWN,"Fetching auth token failed: "+n.message);return t.$u(e)}))}))},t.prototype.Nu=function(t){var e=this,n=this.Fu(this.Ru);this.stream=this.ku(t),this.stream.xu((function(){n((function(){return e.state=2,e.listener.xu()}))})),this.stream.Cu((function(t){n((function(){return e.$u(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.gu=function(){var t=this;this.state=4,this.Zo.Zn((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.$u=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Fu=function(t){var e=this;return function(n){e.Wn.Sr((function(){return e.Ru===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Gi=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return i.__extends(e,t),e.prototype.ku=function(t){return this.Iu.Mu("Listen",t)},e.prototype.onMessage=function(t){this.Zo.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:g()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=Kt(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?x.UNKNOWN:Q(t.code);return new O(e,t.message||"")}(a);n=new yt(r,i,o,s||null)}else if("documentChange"in e){var u=e.documentChange,c=Jt(t,u.document.name),l=Xt(u.document.updateTime),h=new Ne({mapValue:{fields:u.document.fields}}),f=new Le(c,l,h,{});n=new vt(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=Jt(t,d.document),v=d.readTime?Xt(d.readTime):D.min(),y=new Fe(p,v);n=new vt([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var m=e.documentRemove,_=Jt(t,m.document);n=new vt([],m.removedTargetIds||[],_,null)}else{if(!("filter"in e))return g();var b=e.filter,w=new W(b.count||0);n=new gt(b.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return D.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?D.min():e.readTime?Xt(e.readTime):D.min()}(t);return this.listener.Lu(e,n)},e.prototype.Ou=function(t){var e={};e.database=ne(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=en(r)?{documents:se(t,r)}:{query:ue(t,r)}).targetId=e.targetId,e.resumeToken.G()>0&&(n.resumeToken=Wt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.Y);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.vu(e)},e.prototype.Bu=function(t){var e={};e.database=ne(this.serializer),e.removeTarget=t,this.vu(e)},e}(zi),Wi=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.qu=!1,a.lastStreamToken=H.H,a}return i.__extends(e,t),Object.defineProperty(e.prototype,"Uu",{get:function(){return this.qu},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.qu=!1,this.lastStreamToken=H.H,t.prototype.start.call(this)},e.prototype.Du=function(){this.qu&&this.Qu([])},e.prototype.ku=function(t){return this.Iu.Mu("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken),this.lastStreamToken=Kt(this.serializer,t.streamToken),this.qu){this.Zo.reset();var e=function(t,e){return t&&t.length>0?(y(void 0!==e),t.map((function(t){return function(t,e){var n=Xt(t.updateTime?t.updateTime:e);n.isEqual(D.min())&&(n=Xt(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ee(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Xt(t.commitTime);return this.listener.Wu(n,e)}return y(!t.writeResults||0===t.writeResults.length),this.qu=!0,this.listener.ju()},e.prototype.Ku=function(){var t={};t.database=ne(this.serializer),this.vu(t)},e.prototype.Qu=function(t){var e=this,n={streamToken:Wt(this.serializer,this.lastStreamToken),writes:t.map((function(t){return oe(e.serializer,t)}))};this.vu(n)},e}(zi),Ki=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Iu=e,i.credentials=n,i.serializer=r,i.zu=!1,i}return i.__extends(e,t),e.prototype.Hu=function(){if(this.zu)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Yu=function(t,e){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Yu(t,e,r)})).catch((function(t){throw t.code===x.UNAUTHENTICATED&&n.credentials.hu(),t}))},e.prototype.Ju=function(t,e){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Ju(t,e,r)})).catch((function(t){throw t.code===x.UNAUTHENTICATED&&n.credentials.hu(),t}))},e}((function(){this.Gu=void 0})),Qi=function(){function t(t){this.Xu=t,this.Zu=new Map,this.mutations=[],this.tc=!1,this.ec=null,this.sc=new Set}return t.prototype.nc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.ic(),this.mutations.length>0)throw new O(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(t),r={database:ne(n.serializer),documents:e.map((function(t){return Zt(n.serializer,t)}))},[4,n.Ju("BatchGetDocuments",r)];case 1:return o=i.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){y(!!e.found);var n=Jt(t,e.found.name),r=Xt(e.found.updateTime),i=new Ne({mapValue:{fields:e.found.fields}});return new Le(n,r,i,{})}(t,e):"missing"in e?function(t,e){y(!!e.missing),y(!!e.readTime);var n=Jt(t,e.missing),r=Xt(e.readTime);return new Fe(n,r)}(t,e):g()}(n.serializer,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());y(!!e),s.push(e)})),s)]}}))}))}(this.Xu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Fe||t instanceof Le?n.rc(t):g()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.Wa(t,this.Ue(t))),this.sc.add(t)},t.prototype.update=function(t,e){try{this.write(e.Wa(t,this.oc(t)))}catch(t){this.ec=t}this.sc.add(t)},t.prototype.delete=function(t){this.write([new xe(t,this.Ue(t))]),this.sc.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.ic(),this.ec)throw this.ec;return t=this.Zu,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new U(M.$(n));e.mutations.push(new Oe(r,e.Ue(r)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(t),r={database:ne(n.serializer),writes:e.map((function(t){return oe(n.serializer,t)}))},[4,n.Yu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.Xu,this.mutations)];case 1:return n.sent(),this.tc=!0,[2]}}))}))},t.prototype.rc=function(t){var e;if(t instanceof Le)e=t.version;else{if(!(t instanceof Fe))throw g();e=D.min()}var n=this.Zu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new O(x.ABORTED,"Document version changed between two reads.")}else this.Zu.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.Zu.get(t.toString());return!this.sc.has(t)&&e?Se.updateTime(e):Se.Qe()},t.prototype.oc=function(t){var e=this.Zu.get(t.toString());if(!this.sc.has(t)&&e){if(e.isEqual(D.min()))throw new O(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Se.updateTime(e)}return Se.exists(!0)},t.prototype.write=function(t){this.ic(),this.mutations=this.mutations.concat(t)},t.prototype.ic=function(){},t}(),Xi=function(){function t(t,e){this.Oo=t,this.hc=e,this.state="Unknown",this.ac=0,this.uc=null,this.cc=!0}return t.prototype.lc=function(){var t=this;0===this.ac&&(this._c("Unknown"),this.uc=this.Oo.ei("online_state_timeout",1e4,(function(){return t.uc=null,t.fc("Backend didn't respond within 10 seconds."),t._c("Offline"),Promise.resolve()})))},t.prototype.dc=function(t){"Online"===this.state?this._c("Unknown"):(this.ac++,this.ac>=1&&(this.wc(),this.fc("Connection failed 1 times. Most recent error: "+t.toString()),this._c("Offline")))},t.prototype.set=function(t){this.wc(),this.ac=0,"Online"===t&&(this.cc=!1),this._c(t)},t.prototype._c=function(t){t!==this.state&&(this.state=t,this.hc(t))},t.prototype.fc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.cc?(p(e),this.cc=!1):d("OnlineStateTracker",e)},t.prototype.wc=function(){null!==this.uc&&(this.uc.cancel(),this.uc=null)},t}(),Yi=function(){function t(t,e,n,r,o){var a=this;this.Tc=t,this.Xu=e,this.Oo=n,this.Ec=[],this.Ic=new Map,this.Ac=null,this.Rc=new Set,this.mc=o,this.mc.Pc((function(t){n.Sr((function(){return i.__awaiter(a,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Vc()?(d("RemoteStore","Restarting streams for network reachability change."),[4,this.gc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.pc=new Xi(n,r),this.yc=function(t,e,n){var r=m(t);return new Gi(e,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.bc.bind(this),Cu:this.vc.bind(this),Lu:this.Sc.bind(this)}),this.Dc=function(t,e,n){var r=m(t);return new Wi(e,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.Cc.bind(this),Cu:this.Fc.bind(this),ju:this.Nc.bind(this),Wu:this.Wu.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Rc.delete(0),this.$c()},t.prototype.$c=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Vc()?(this.kc()?this.xc():this.pc.set("Unknown"),[4,this.Mc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Rc.add(0),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Offline"),[2]}}))}))},t.prototype.Lc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Dc.stop()];case 1:return t.sent(),[4,this.yc.stop()];case 2:return t.sent(),this.Ec.length>0&&(d("RemoteStore","Stopping write stream with "+this.Ec.length+" pending writes"),this.Ec=[]),this.Oc(),[2]}}))}))},t.prototype.Ur=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.Rc.add(5),[4,this.Lc()];case 1:return t.sent(),this.mc.Ur(),this.pc.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ic.has(t.targetId)||(this.Ic.set(t.targetId,t),this.kc()?this.xc():this.yc.Vu()&&this.Bc(t))},t.prototype.qc=function(t){this.Ic.delete(t),this.yc.Vu()&&this.Uc(t),0===this.Ic.size&&(this.yc.Vu()?this.yc.yu():this.Vc()&&this.pc.set("Unknown"))},t.prototype.Me=function(t){return this.Ic.get(t)||null},t.prototype.xe=function(t){return this.Qc.xe(t)},t.prototype.Bc=function(t){this.Ac.de(t.targetId),this.yc.Ou(t)},t.prototype.Uc=function(t){this.Ac.de(t),this.yc.Bu(t)},t.prototype.xc=function(){this.Ac=new _t(this),this.yc.start(),this.pc.lc()},t.prototype.kc=function(){return this.Vc()&&!this.yc.Pu()&&this.Ic.size>0},t.prototype.Vc=function(){return 0===this.Rc.size},t.prototype.Oc=function(){this.Ac=null},t.prototype.bc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.Ic.forEach((function(e,n){t.Bc(e)})),[2]}))}))},t.prototype.vc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Oc(),this.kc()?(this.pc.dc(t),this.xc()):this.pc.set("Unknown"),[2]}))}))},t.prototype.Sc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.pc.set("Online"),!(t instanceof yt&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.Wc(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),d("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.jc(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof vt?this.Ac.Pe(t):t instanceof gt?this.Ac.De(t):this.Ac.pe(t),e.isEqual(D.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.Tc.xi()];case 8:return r=i.sent(),e.o(r)>=0?[4,this.Kc(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.jc(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.jc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!kr(t))throw t;return this.Rc.add(1),[4,this.Lc()];case 1:return r.sent(),this.pc.set("Offline"),e||(e=function(){return n.Tc.xi()}),this.Oo.Cr((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Rc.delete(1),[4,this.$c()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.Gc=function(t){var e=this;return t().catch((function(n){return e.jc(n,t)}))},t.prototype.Kc=function(t){var e=this,n=this.Ac.Ne(t);return n.Qt.forEach((function(n,r){if(n.resumeToken.G()>0){var i=e.Ic.get(r);i&&e.Ic.set(r,i.Z(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.Ic.get(t);if(n){e.Ic.set(t,n.Z(H.H,n.J)),e.Uc(t);var r=new G(n.target,t,1,n.sequenceNumber);e.Bc(r)}})),this.Qc.na(n)},t.prototype.Wc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.Ic.has(o=r[n])?[4,this.Qc.zc(o,e)]:[3,3]:[3,5];case 2:i.sent(),this.Ic.delete(o),this.Ac.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.Mc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:t=this.Ec.length>0?this.Ec[this.Ec.length-1].batchId:-1,r.label=1;case 1:if(!this.Hc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.Tc.ha(t)];case 3:return null===(e=r.sent())?(0===this.Ec.length&&this.Dc.yu(),[3,7]):(t=e.batchId,this.Yc(e),[3,6]);case 4:return n=r.sent(),[4,this.jc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Jc()&&this.Xc(),[2]}}))}))},t.prototype.Hc=function(){return this.Vc()&&this.Ec.length<10},t.prototype.Zc=function(){return this.Ec.length},t.prototype.Yc=function(t){this.Ec.push(t),this.Dc.Vu()&&this.Dc.Uu&&this.Dc.Qu(t.mutations)},t.prototype.Jc=function(){return this.Vc()&&!this.Dc.Pu()&&this.Ec.length>0},t.prototype.Xc=function(){this.Dc.start()},t.prototype.Cc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Dc.Ku(),[2]}))}))},t.prototype.Nc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){for(t=0,e=this.Ec;t<e.length;t++)this.Dc.Qu(e[t].mutations);return[2]}))}))},t.prototype.Wu=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Ec.shift(),r=rn.from(n,t,e),[4,this.Gc((function(){return o.Qc.tl(r)}))];case 1:return i.sent(),[4,this.Mc()];case 2:return i.sent(),[2]}}))}))},t.prototype.Fc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.Dc.Uu?[4,this.el(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Jc()&&this.Xc(),[2]}}))}))},t.prototype.el=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return K(n=t.code)&&n!==x.ABORTED?(e=this.Ec.shift(),this.Dc.pu(),[4,this.Gc((function(){return r.Qc.sl(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.Mc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.nl=function(){return new Qi(this.Xu)},t.prototype.gc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Rc.add(4),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Unknown"),this.Rc.delete(4),[4,this.$c()];case 2:return t.sent(),[2]}}))}))},t.prototype.il=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Oo.ah(),d("RemoteStore","RemoteStore received new credentials"),this.Rc.add(3),[4,this.Lc()];case 1:return e.sent(),this.pc.set("Unknown"),[4,this.Qc.il(t)];case 2:return e.sent(),this.Rc.delete(3),[4,this.$c()];case 3:return e.sent(),[2]}}))}))},t.prototype.rl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t?(this.Rc.delete(2),[4,this.$c()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Rc.add(2),[4,this.Lc()]);case 3:e.sent(),this.pc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function $i(t,e){return"firestore_clients_"+t+"_"+e}function Zi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.fo()&&(r+="_"+e.uid),r}function Ji(t,e){return"firestore_targets_"+t+"_"+e}var to=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ol=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new O(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.hl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),eo=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ol=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new O(r.error.code,r.error.message)),i?new t(e,r.state,o):(p("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.hl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),no=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ol=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ct(),a=0;i&&a<r.activeTargetIds.length;++a)i=q(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(p("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ro=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ol=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+e),null)},t}(),io=function(){function t(){this.activeTargetIds=ct()}return t.prototype.al=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ul=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.hl=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),oo=function(){function t(t,e,n,r,i){this.window=t,this.Wn=e,this.persistenceKey=n,this.cl=r,this.Qc=null,this.hc=null,this.On=null,this.ll=this._l.bind(this),this.fl=new X(w),this.pr=!1,this.dl=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.wl=$i(this.persistenceKey,this.cl),this.Tl=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.fl=this.fl.et(this.cl,new io),this.El=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Il=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Al=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Rl=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ll)}return t._r=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,a,s,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Qc.Gr()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.cl&&(o=this.getItem($i(this.persistenceKey,r)))&&(a=no.ol(r,o))&&(this.fl=this.fl.et(a.clientId,a));for(this.ml(),(s=this.storage.getItem(this.Rl))&&(u=this.Pl(s))&&this.Vl(u),c=0,l=this.dl;c<l.length;c++)this._l(l[c]);return this.dl=[],this.window.addEventListener("unload",(function(){return h.Ur()})),this.pr=!0,[2]}}))}))},t.prototype.Un=function(t){this.setItem(this.Tl,JSON.stringify(t))},t.prototype.gl=function(){return this.pl(this.fl)},t.prototype.yl=function(t){var e=!1;return this.fl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.bl=function(t){this.vl(t,"pending")},t.prototype.Sl=function(t,e,n){this.vl(t,e,n),this.Dl(t)},t.prototype.Cl=function(t){var e="not-current";if(this.yl(t)){var n=this.storage.getItem(Ji(this.persistenceKey,t));if(n){var r=eo.ol(t,n);r&&(e=r.state)}}return this.Fl.al(t),this.ml(),e},t.prototype.Nl=function(t){this.Fl.ul(t),this.ml()},t.prototype.$l=function(t){return this.Fl.activeTargetIds.has(t)},t.prototype.kl=function(t){this.removeItem(Ji(this.persistenceKey,t))},t.prototype.xl=function(t,e,n){this.Ml(t,e,n)},t.prototype.Hh=function(t,e,n){var r=this;e.forEach((function(t){r.Dl(t)})),this.currentUser=t,n.forEach((function(t){r.bl(t)}))},t.prototype.Ll=function(t){this.Ol(t)},t.prototype.Ur=function(){this.pr&&(this.window.removeEventListener("storage",this.ll),this.removeItem(this.wl),this.pr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype._l=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.wl)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Wn.Cr((function(){return i.__awaiter(e,void 0,void 0,(function(){var t,e,r,o,a,s;return i.__generator(this,(function(i){if(this.pr){if(null!==n.key)if(this.El.test(n.key)){if(null==n.newValue)return t=this.Bl(n.key),[2,this.ql(t,null)];if(e=this.Ul(n.key,n.newValue))return[2,this.ql(e.clientId,e)]}else if(this.Il.test(n.key)){if(null!==n.newValue&&(r=this.Ql(n.key,n.newValue)))return[2,this.Wl(r)]}else if(this.Al.test(n.key)){if(null!==n.newValue&&(o=this.jl(n.key,n.newValue)))return[2,this.Kl(o)]}else if(n.key===this.Rl){if(null!==n.newValue&&(a=this.Pl(n.newValue)))return[2,this.Vl(a)]}else n.key===this.Tl&&(s=function(t){var e=hn.Qn;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n),e=n}catch(t){p("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==hn.Qn&&this.On(s)}else this.dl.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Fl",{get:function(){return this.fl.get(this.cl)},enumerable:!0,configurable:!0}),t.prototype.ml=function(){this.setItem(this.wl,this.Fl.hl())},t.prototype.vl=function(t,e,n){var r=new to(this.currentUser,t,e,n),i=Zi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.hl())},t.prototype.Dl=function(t){var e=Zi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ol=function(t){this.storage.setItem(this.Rl,JSON.stringify({clientId:this.cl,onlineState:t}))},t.prototype.Ml=function(t,e,n){var r=Ji(this.persistenceKey,t),i=new eo(t,e,n);this.setItem(r,i.hl())},t.prototype.Bl=function(t){var e=this.El.exec(t);return e?e[1]:null},t.prototype.Ul=function(t,e){var n=this.Bl(t);return no.ol(n,e)},t.prototype.Ql=function(t,e){var n=this.Il.exec(t),r=Number(n[1]);return to.ol(new Ui(void 0!==n[2]?n[2]:null),r,e)},t.prototype.jl=function(t,e){var n=this.Al.exec(t),r=Number(n[1]);return eo.ol(r,e)},t.prototype.Pl=function(t){return ro.ol(t)},t.prototype.Wl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Qc.Gl(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Kl=function(t){return this.Qc.zl(t.targetId,t.state,t.error)},t.prototype.ql=function(t,e){var n=this,r=e?this.fl.et(t,e):this.fl.remove(t),i=this.pl(this.fl),o=this.pl(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.Qc.Hl(a,s).then((function(){n.fl=r}))},t.prototype.Vl=function(t){this.fl.get(t.clientId)&&this.hc(t.onlineState)},t.prototype.pl=function(t){var e=ct();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),ao=function(){function t(){this.Yl=new io,this.Jl={},this.Qc=null,this.hc=null,this.On=null}return t.prototype.bl=function(t){},t.prototype.Sl=function(t,e,n){},t.prototype.Cl=function(t){return this.Yl.al(t),this.Jl[t]||"not-current"},t.prototype.xl=function(t,e,n){this.Jl[t]=e},t.prototype.Nl=function(t){this.Yl.ul(t)},t.prototype.$l=function(t){return this.Yl.activeTargetIds.has(t)},t.prototype.kl=function(t){delete this.Jl[t]},t.prototype.gl=function(){return this.Yl.activeTargetIds},t.prototype.yl=function(t){return this.Yl.activeTargetIds.has(t)},t.prototype.start=function(){return this.Yl=new io,Promise.resolve()},t.prototype.Hh=function(t,e,n){},t.prototype.Ll=function(t){},t.prototype.Ur=function(){},t.prototype.Un=function(t){},t}(),so=function(t){this.key=t},uo=function(t){this.key=t},co=function(){function t(t,e){this.query=t,this.Xl=e,this.Zl=null,this.Ht=!1,this.t_=st(),this.Ot=st(),this.e_=new lt(t.Ds.bind(t))}return Object.defineProperty(t.prototype,"s_",{get:function(){return this.Xl},enumerable:!0,configurable:!0}),t.prototype.n_=function(t,e){var n=this,r=e?e.i_:new ht,i=e?e.e_:this.e_,o=e?e.Ot:this.Ot,a=i,s=!1,u=this.query.ks()&&i.size===this.query.limit?i.last():null,c=this.query.xs()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var l=i.get(t),h=e instanceof Le?e:null;h&&(h=n.query.matches(h)?h:null);var f=!!l&&n.Ot.has(l.key),d=!!h&&(h.Xe||n.Ot.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.r_(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.query.Ds(h,u)>0||c&&n.query.Ds(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),this.query.ks()||this.query.xs())for(;a.size>this.query.limit;){var l=this.query.ks()?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{e_:a,i_:r,o_:s,Ot:o}},t.prototype.r_=function(t,e){return t.Xe&&e.hasCommittedMutations&&!e.Xe},t.prototype.wn=function(t,e,n){var r=this,i=this.e_;this.e_=t.e_,this.Ot=t.Ot;var o=t.i_.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(t)-n(e)}(t.type,e.type)||r.query.Ds(t.doc,e.doc)})),this.h_(n);var a=e?this.a_():[],s=0===this.t_.size&&this.Ht?1:0,u=s!==this.Zl;return this.Zl=s,0!==o.length||u?{snapshot:new ft(this.query,t.e_,i,o,t.Ot,0===s,u,!1),u_:a}:{u_:a}},t.prototype.c_=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.wn({e_:this.e_,i_:new ht,Ot:this.Ot,o_:!1},!1)):{u_:[]}},t.prototype.l_=function(t){return!this.Xl.has(t)&&!!this.e_.has(t)&&!this.e_.get(t).Xe},t.prototype.h_=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Xl=e.Xl.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Xl=e.Xl.delete(t)})),this.Ht=t.Ht)},t.prototype.a_=function(){var t=this;if(!this.Ht)return[];var e=this.t_;this.t_=st(),this.e_.forEach((function(e){t.l_(e.key)&&(t.t_=t.t_.add(e.key))}));var n=[];return e.forEach((function(e){t.t_.has(e)||n.push(new uo(e))})),this.t_.forEach((function(t){e.has(t)||n.push(new so(t))})),n},t.prototype.__=function(t){this.Xl=t._a,this.t_=st();var e=this.n_(t.documents);return this.wn(e,!0)},t.prototype.f_=function(){return ft.Ut(this.query,this.e_,this.Ot,0===this.Zl)},t}(),lo=function(){function t(t,e,n,r){this.Oo=t,this.Xu=e,this.updateFunction=n,this.Uo=r,this.d_=5,this.Zo=new dn(this.Oo,"transaction_retry")}return t.prototype.w_=function(){this.T_()},t.prototype.T_=function(){var t=this;this.Zo.Zn((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=new Qi(this.Xu),(e=this.E_(t))&&e.then((function(e){n.Oo.Sr((function(){return t.commit().then((function(){n.Uo.resolve(e)})).catch((function(t){n.I_(t)}))}))})).catch((function(t){n.I_(t)})),[2]}))}))}))},t.prototype.E_=function(t){try{var e=this.updateFunction(t);return!j(e)&&e.catch&&e.then?e:(this.Uo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Uo.reject(t),null}},t.prototype.I_=function(t){var e=this;this.d_>0&&this.A_(t)?(this.d_-=1,this.Oo.Sr((function(){return e.T_(),Promise.resolve()}))):this.Uo.reject(t)},t.prototype.A_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!K(e)}return!1},t}(),ho=function(t,e,n){this.query=t,this.targetId=e,this.view=n},fo=function(t){this.key=t,this.R_=!1},po=function(){function t(t,e,n,r,i,o){this.Tc=t,this.m_=e,this.Xu=n,this.P_=r,this.currentUser=i,this.V_=o,this.g_=null,this.p_=new A((function(t){return t.canonicalId()}),(function(t,e){return t.isEqual(e)})),this.y_=new Map,this.b_=[],this.v_=new X(U.P),this.S_=new Map,this.D_=new qr,this.C_={},this.F_=new Map,this.N_=Fn.Ci(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"k_",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.g_=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("listen()"),(n=this.p_.get(t))?(this.P_.Cl(n.targetId),e=n.view.f_(),[3,4]):[3,1];case 1:return[4,this.Tc.ua(t.We())];case 2:return r=i.sent(),o=this.P_.Cl(r.targetId),[4,this.M_(t,r.targetId,"current"===o)];case 3:e=i.sent(),this.k_&&this.m_.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.M_=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Tc.la(t,!0)];case 1:return r=i.sent(),o=new co(t,r._a),a=o.n_(r.documents),s=pt.zt(e,n&&"Offline"!==this.onlineState),u=o.wn(a,this.k_,s),this.L_(e,u.u_),c=new ho(t,e,o),[2,(this.p_.set(t,c),this.y_.has(e)?this.y_.get(e).push(t):this.y_.set(e,[t]),u.snapshot)]}}))}))},t.prototype.qc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("unlisten()"),e=this.p_.get(t),(n=this.y_.get(e.targetId)).length>1?[2,(this.y_.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.p_.delete(t))]:this.k_?(this.P_.Nl(e.targetId),this.P_.yl(e.targetId)?[3,2]:[4,this.Tc.ca(e.targetId,!1).then((function(){r.P_.kl(e.targetId),r.m_.qc(e.targetId),r.O_(e.targetId)})).catch(Vr)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.O_(e.targetId),[4,this.Tc.ca(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.x_("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.Tc.Zh(t)];case 2:return n=i.sent(),this.P_.bl(n.batchId),this.B_(n.batchId,e),[4,this.q_(n.on)];case 3:return i.sent(),[4,this.m_.Mc()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=Or(r,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new lo(t,this.Xu,e,n).w_()},t.prototype.na=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.na(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.S_.get(e);r&&(y(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.R_=!0:t.Jt.size>0?y(r.R_):t.Xt.size>0&&(y(r.R_),r.R_=!1))})),[4,this.q_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Vr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.c_=function(t,e){this.x_("applyOnlineStateChange()");var n=[];this.p_.forEach((function(e,r){var i=r.view.c_(t);i.snapshot&&n.push(i.snapshot)})),this.g_.U_(t),this.g_.Lu(n),this.onlineState=t},t.prototype.zc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("rejectListens()"),this.P_.xl(t,"rejected",e),n=this.S_.get(t),(r=n&&n.key)?(o=(o=new X(U.P)).et(r,new Fe(r,D.min())),a=st().add(r),s=new dt(D.min(),new Map,new Z(w),o,a),[4,this.na(s)]):[3,2];case 1:return i.sent(),this.v_=this.v_.remove(r),this.S_.delete(t),this.Q_(),[3,4];case 2:return[4,this.Tc.ca(t,!1).then((function(){return u.O_(t,e)})).catch(Vr)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.tl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.ta(t)];case 2:return n=r.sent(),this.W_(e,null),this.j_(e),this.P_.Sl(e,"acknowledged"),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.sl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.sa(t)];case 2:return n=r.sent(),this.W_(t,e),this.j_(t),this.P_.Sl(t,"rejected",e),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.K_=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.m_.Vc()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Tc.Ao()];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.F_.get(e)||[]).push(t),this.F_.set(e,n),[3,4]);case 3:return r=i.sent(),o=Or(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.j_=function(t){(this.F_.get(t)||[]).forEach((function(t){t.resolve()})),this.F_.delete(t)},t.prototype.G_=function(t){this.F_.forEach((function(e){e.forEach((function(e){e.reject(new O(x.CANCELLED,t))}))})),this.F_.clear()},t.prototype.B_=function(t,e){var n=this.C_[this.currentUser.su()];n||(n=new X(w)),n=n.et(t,e),this.C_[this.currentUser.su()]=n},t.prototype.W_=function(t,e){var n=this.C_[this.currentUser.su()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.C_[this.currentUser.su()]=n}},t.prototype.O_=function(t,e){var n=this;void 0===e&&(e=null),this.P_.Nl(t);for(var r=0,i=this.y_.get(t);r<i.length;r++){var o=i[r];this.p_.delete(o),e&&this.g_.z_(o,e)}this.y_.delete(t),this.k_&&this.D_.ga(t).forEach((function(t){n.D_.tr(t)||n.H_(t)}))},t.prototype.H_=function(t){var e=this.v_.get(t);null!==e&&(this.m_.qc(e),this.v_=this.v_.remove(t),this.S_.delete(e),this.Q_())},t.prototype.L_=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof so?(this.D_.Hi(i.key,t),this.Y_(i)):i instanceof uo?(d("SyncEngine","Document no longer in limbo: "+i.key),this.D_.Ji(i.key,t),this.D_.tr(i.key)||this.H_(i.key)):g()}},t.prototype.Y_=function(t){var e=t.key;this.v_.get(e)||(d("SyncEngine","New document in limbo: "+e),this.b_.push(e),this.Q_())},t.prototype.Q_=function(){for(;this.b_.length>0&&this.v_.size<this.V_;){var t=this.b_.shift(),e=this.N_.next();this.S_.set(e,new fo(t)),this.v_=this.v_.et(t,e),this.m_.listen(new G(je.As(t.path).We(),e,2,hn.Qn))}},t.prototype.J_=function(){return this.v_},t.prototype.X_=function(){return this.b_},t.prototype.q_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.p_.forEach((function(i,s){o.push(Promise.resolve().then((function(){var e=s.view.n_(t);return e.o_?a.Tc.la(s.query,!1).then((function(t){return s.view.n_(t.documents,e)})):e})).then((function(t){var i=e&&e.Qt.get(s.targetId),o=s.view.wn(t,a.k_,i);if(a.L_(s.targetId,o.u_),o.snapshot){a.k_&&a.P_.xl(s.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=ln.Ln(s.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.g_.Lu(n),[4,this.Tc.oa(r)];case 2:return i.sent(),[2]}}))}))},t.prototype.x_=function(t){},t.prototype.il=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(d("SyncEngine","User change. New user:",t.su()),[4,this.Tc.Hh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.G_("'waitForPendingWrites' promise is rejected due to a user change."),this.P_.Hh(t,e.Jh,e.Xh),[4,this.q_(e.Yh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.m_.enableNetwork()},t.prototype.disableNetwork=function(){return this.m_.disableNetwork()},t.prototype.xe=function(t){var e=this.S_.get(t);if(e&&e.R_)return st().add(e.key);var n=st(),r=this.y_.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=this.p_.get(o[i]);n=n.Ct(a.view.s_)}return n},t}(),vo=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,o,a)||this).Tc=e,s.Z_=void 0,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"k_",{get:function(){return!0===this.Z_},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.Tc.vr(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.Tc.vr(!1),t.prototype.disableNetwork.call(this)},e.prototype.tf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Tc.la(t.query,!0)];case 1:return e=r.sent(),n=t.view.__(e),[2,(this.Z_&&this.L_(t.targetId,n.u_),n)]}}))}))},e.prototype.c_=function(e,n){this.k_&&0===n&&(t.prototype.c_.call(this,e,n),this.P_.Ll(e)),this.k_||1!==n||t.prototype.c_.call(this,e,n)},e.prototype.Gl=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("applyBatchState()"),[4,this.Tc.da(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.m_.Mc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.W_(t,n||null),this.Tc.wa(t)):g(),i.label=4;case 4:return[4,this.q_(r)];case 5:return i.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.rl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,a,s,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==t||!0===this.Z_?[3,3]:(e=this.P_.gl(),[4,this.ef(e.F(),!0)]);case 1:return n=i.sent(),this.Z_=!0,[4,this.m_.rl(!0)];case 2:for(i.sent(),r=0,o=n;r<o.length;r++)this.m_.listen(o[r]);return[3,7];case 3:return!1!==t||!1===this.Z_?[3,7]:(a=[],s=Promise.resolve(),this.y_.forEach((function(t,e){u.P_.$l(e)?a.push(e):s=s.then((function(){return u.O_(e),u.Tc.ca(e,!0)})),u.m_.qc(e)})),[4,s]);case 4:return i.sent(),[4,this.ef(a,!1)];case 5:return i.sent(),this.sf(),this.Z_=!1,[4,this.m_.rl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},e.prototype.sf=function(){var t=this;this.S_.forEach((function(e,n){t.m_.qc(n)})),this.D_.pa(),this.S_=new Map,this.v_=new X(U.P)},e.prototype.ef=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,a,s,u,c,l,h,f,d;return i.__generator(this,(function(i){switch(i.label){case 0:e=[],n=[],r=0,o=t,i.label=1;case 1:return r<o.length?(s=void 0,(u=this.y_.get(a=o[r]))&&0!==u.length?[4,this.Tc.ua(u[0].We())]:[3,7]):[3,13];case 2:s=i.sent(),c=0,l=u,i.label=3;case 3:return c<l.length?(h=this.p_.get(l[c]),[4,this.tf(h)]):[3,6];case 4:(f=i.sent()).snapshot&&n.push(f.snapshot),i.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,this.Tc.Ta(a)];case 8:return d=i.sent(),[4,this.Tc.ua(d)];case 9:return s=i.sent(),[4,this.M_(this.nf(d),a,!1)];case 10:i.sent(),i.label=11;case 11:e.push(s),i.label=12;case 12:return r++,[3,1];case 13:return[2,(this.g_.Lu(n),e)]}}))}))},e.prototype.nf=function(t){return new je(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.Gr=function(){return this.Tc.Gr()},e.prototype.zl=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Z_?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.y_.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Tc.Ri()];case 3:return r=i.sent(),o=dt.Gt(t,"current"===e),[4,this.q_(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.Tc.ca(t,!0)];case 6:return i.sent(),this.O_(t,n),[3,8];case 7:g(),i.label=8;case 8:return[2]}}))}))},e.prototype.Hl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h,f=this;return i.__generator(this,(function(p){switch(p.label){case 0:if(!this.Z_)return[3,10];n=0,r=t,p.label=1;case 1:return n<r.length?this.y_.has(o=r[n])?(d("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.Tc.Ta(o)]:[3,6];case 2:return a=p.sent(),[4,this.Tc.ua(a)];case 3:return s=p.sent(),[4,this.M_(this.nf(a),s.targetId,!1)];case 4:p.sent(),this.m_.listen(s),p.label=5;case 5:return n++,[3,1];case 6:u=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return c.y_.has(t)?[4,c.Tc.ca(t,!1).then((function(){f.m_.qc(t),f.O_(t)})).catch(Vr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,l=0,h=e,p.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},e}(po),go=function(){this.if=void 0,this.rf=[]},yo=function(){function t(t){this.Qc=t,this.hf=new A((function(t){return t.canonicalId()}),(function(t,e){return t.isEqual(e)})),this.onlineState="Unknown",this.af=new Set,this.Qc.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.hf.get(e=t.query))||(n=!0,r=new go),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.Qc.listen(e)];case 2:return o.if=i.sent(),[3,4];case 3:return a=i.sent(),s=Or(a,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(s)];case 4:return this.hf.set(e,r),r.rf.push(t),t.c_(this.onlineState),r.if&&t.uf(r.if)&&this.cf(),[2]}}))}))},t.prototype.qc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.hf.get(e=t.query))&&(o=r.rf.indexOf(t))>=0&&(r.rf.splice(o,1),n=0===r.rf.length),n?[2,(this.hf.delete(e),this.Qc.qc(e))]:[2]}))}))},t.prototype.Lu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.hf.get(i.query);if(o){for(var a=0,s=o.rf;a<s.length;a++)s[a].uf(i)&&(e=!0);o.if=i}}e&&this.cf()},t.prototype.z_=function(t,e){var n=this.hf.get(t);if(n)for(var r=0,i=n.rf;r<i.length;r++)i[r].onError(e);this.hf.delete(t)},t.prototype.U_=function(t){this.onlineState=t;var e=!1;this.hf.forEach((function(n,r){for(var i=0,o=r.rf;i<o.length;i++)o[i].c_(t)&&(e=!0)})),e&&this.cf()},t.prototype.lf=function(t){this.af.add(t),t.next()},t.prototype._f=function(t){this.af.delete(t)},t.prototype.cf=function(){this.af.forEach((function(t){t.next()}))},t}(),mo=function(){function t(t,e,n){this.query=t,this.ff=e,this.df=!1,this.wf=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.uf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ft(t.query,t.docs,t.Lt,e,t.Ot,t.fromCache,t.Bt,!0)}var o=!1;return this.df?this.Tf(t)&&(this.ff.next(t),o=!0):this.Ef(t,this.onlineState)&&(this.If(t),o=!0),this.wf=t,o},t.prototype.onError=function(t){this.ff.error(t)},t.prototype.c_=function(t){this.onlineState=t;var e=!1;return this.wf&&!this.df&&this.Ef(this.wf,t)&&(this.If(this.wf),e=!0),e},t.prototype.Ef=function(t,e){return!t.fromCache||!(this.options.Af&&"Offline"!==e||t.docs._()&&"Offline"!==e)},t.prototype.Tf=function(t){return t.docChanges.length>0||!!(t.Bt||this.wf&&this.wf.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.If=function(t){t=ft.Ut(t.query,t.docs,t.Ot,t.fromCache),this.df=!0,this.ff.next(t)},t}(),_o=function(){function t(){}return t.prototype.zh=function(t){this.Rf=t},t.prototype.Sn=function(t,e,n,r){var i=this;return e.Ss()||n.isEqual(D.min())?this.mf(t,e):this.Rf.yn(t,r).next((function(o){var s=i.Pf(e,o);return(e.ks()||e.xs())&&i.o_(e.ws,s,r,n)?i.mf(t,e):(f()<=a.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Rf.Sn(t,e,n).next((function(t){return s.forEach((function(e){t=t.et(e.key,e)})),t})))}))},t.prototype.Pf=function(t,e){var n=new Z((function(e,n){return t.Ds(e,n)}));return e.forEach((function(e,r){r instanceof Le&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.o_=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.mf=function(t,e){return f()<=a.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",e.toString()),this.Rf.Sn(t,e,D.min())},t}(),bo=function(){function t(t,e){this.mn=t,this.Fi=e,this.Rn=[],this.Vf=1,this.gf=new Z(Hr.Ia)}return t.prototype.do=function(t){return on.resolve(0===this.Rn.length)},t.prototype.wo=function(t,e,n,r){var i=this.Vf;this.Vf++;var o=new nn(i,e,n,r);this.Rn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.gf=this.gf.add(new Hr(u.key,i)),this.mn.ri(t,u.key.path.p())}return on.resolve(o)},t.prototype.To=function(t,e){return on.resolve(this.pf(e))},t.prototype.Io=function(t,e){var n=this.yf(e+1),r=n<0?0:n;return on.resolve(this.Rn.length>r?this.Rn[r]:null)},t.prototype.Ao=function(){return on.resolve(0===this.Rn.length?-1:this.Vf-1)},t.prototype.Ro=function(t){return on.resolve(this.Rn.slice())},t.prototype.Vn=function(t,e){var n=this,r=new Hr(e,0),i=new Hr(e,Number.POSITIVE_INFINITY),o=[];return this.gf.vt([r,i],(function(t){var e=n.pf(t.ba);o.push(e)})),on.resolve(o)},t.prototype.vn=function(t,e){var n=this,r=new Z(w);return e.forEach((function(t){var e=new Hr(t,0),i=new Hr(t,Number.POSITIVE_INFINITY);n.gf.vt([e,i],(function(t){r=r.add(t.ba)}))})),on.resolve(this.bf(r))},t.prototype.$n=function(t,e){var n=e.path,r=n.length+1,i=n;U.W(i)||(i=i.child(""));var o=new Hr(new U(i),0),a=new Z(w);return this.gf.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(a=a.add(t.ba)),!0)}),o),on.resolve(this.bf(a))},t.prototype.bf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.pf(t);null!==r&&n.push(r)})),n},t.prototype.Po=function(t,e){var n=this;y(0===this.vf(e.batchId,"removed")),this.Rn.shift();var r=this.gf;return on.forEach(e.mutations,(function(i){var o=new Hr(i.key,e.batchId);return r=r.delete(o),n.Fi.oo(t,i.key)})).next((function(){n.gf=r}))},t.prototype.Vo=function(t){},t.prototype.tr=function(t,e){var n=new Hr(e,0),r=this.gf.Dt(n);return on.resolve(e.isEqual(r&&r.key))},t.prototype.po=function(t){return on.resolve()},t.prototype.vf=function(t,e){return this.yf(t)},t.prototype.yf=function(t){return 0===this.Rn.length?0:t-this.Rn[0].batchId},t.prototype.pf=function(t){var e=this.yf(t);return e<0||e>=this.Rn.length?null:this.Rn[e]},t}(),wo=function(){function t(t,e){this.mn=t,this.Sf=e,this.docs=new X(U.P),this.size=0}return t.prototype.un=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Sf(e);return this.docs=this.docs.et(r,{fi:e,size:a,readTime:n}),this.size+=a-o,this.mn.ri(t,r.path.p())},t.prototype.ln=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._n=function(t,e){var n=this.docs.get(e);return on.resolve(n?n.fi:null)},t.prototype.getEntries=function(t,e){var n=this,r=nt();return e.forEach((function(t){var e=n.docs.get(t);r=r.et(t,e?e.fi:null)})),on.resolve(r)},t.prototype.Sn=function(t,e,n){for(var r=it(),i=new U(e.path.child("")),o=this.docs.ut(i);o.wt();){var a=o.dt(),s=a.value,u=s.fi,c=s.readTime;if(!e.path.D(a.key.path))break;c.o(n)<=0||u instanceof Le&&e.matches(u)&&(r=r.et(u.key,u))}return on.resolve(r)},t.prototype.Df=function(t,e){return on.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Vi=function(e){return new t.gi(this)},t.prototype.yi=function(t){return on.resolve(this.size)},t}();wo.gi=function(t){function e(e){var n=this;return(n=t.call(this)||this).bi=e,n}return i.__extends(e,t),e.prototype.wn=function(t){var e=this,n=[];return this.on.forEach((function(r,i){i?n.push(e.bi.un(t,i,e.readTime)):e.bi.ln(r)})),on.nn(n)},e.prototype.fn=function(t,e){return this.bi._n(t,e)},e.prototype.dn=function(t,e){return this.bi.getEntries(t,e)},e}(an);var ko=function(){function t(t){this.persistence=t,this.Cf=new A((function(t){return Je(t)}),tn),this.lastRemoteSnapshotVersion=D.min(),this.highestTargetId=0,this.Ff=0,this.Nf=new qr,this.targetCount=0,this.$f=Fn.Di()}return t.prototype.ye=function(t,e){return this.Cf.forEach((function(t,n){return e(n)})),on.resolve()},t.prototype.xi=function(t){return on.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Mi=function(t){return on.resolve(this.Ff)},t.prototype.Ni=function(t){return this.highestTargetId=this.$f.next(),on.resolve(this.highestTargetId)},t.prototype.Li=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ff&&(this.Ff=e),on.resolve()},t.prototype.Bi=function(t){this.Cf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.$f=new Fn(e),this.highestTargetId=e),t.sequenceNumber>this.Ff&&(this.Ff=t.sequenceNumber)},t.prototype.Oi=function(t,e){return this.Bi(e),this.targetCount+=1,on.resolve()},t.prototype.Ui=function(t,e){return this.Bi(e),on.resolve()},t.prototype.Qi=function(t,e){return this.Cf.delete(e.target),this.Nf.ga(e.targetId),this.targetCount-=1,on.resolve()},t.prototype.ji=function(t,e,n){var r=this,i=0,o=[];return this.Cf.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Cf.delete(a),o.push(r.Wi(t,s.targetId)),i++)})),on.nn(o).next((function(){return i}))},t.prototype.Ki=function(t){return on.resolve(this.targetCount)},t.prototype.Gi=function(t,e){var n=this.Cf.get(e)||null;return on.resolve(n)},t.prototype.zi=function(t,e,n){return this.Nf.ma(e,n),on.resolve()},t.prototype.Yi=function(t,e,n){this.Nf.Va(e,n);var r=this.persistence.Fi,i=[];return r&&e.forEach((function(e){i.push(r.oo(t,e))})),on.nn(i)},t.prototype.Wi=function(t,e){return this.Nf.ga(e),on.resolve()},t.prototype.Xi=function(t,e){var n=this.Nf.ya(e);return on.resolve(n)},t.prototype.tr=function(t,e){return on.resolve(this.Nf.tr(e))},t}(),Co=function(){function t(t){var e=this;this.kf={},this.rr=new hn(0),this.or=!1,this.or=!0,this.Fi=t(this),this.Tr=new ko(this),this.mn=new mn,this.An=new wo(this.mn,(function(t){return e.Fi.xf(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ur=function(){return this.or=!1,Promise.resolve()},Object.defineProperty(t.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),t.prototype.yr=function(){},t.prototype.Xr=function(){return this.mn},t.prototype.zr=function(t){var e=this.kf[t.su()];return e||(e=new bo(this.mn,this.Fi),this.kf[t.su()]=e),e},t.prototype.Yr=function(){return this.Tr},t.prototype.Jr=function(){return this.An},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new Eo(this.rr.next());return this.Fi.Mf(),n(i).next((function(t){return r.Fi.Lf(i).next((function(){return t}))})).en().then((function(t){return i.In(),t}))},t.prototype.Of=function(t,e){return on.rn(Object.values(this.kf).map((function(n){return function(){return n.tr(t,e)}})))},t}(),Eo=function(t){function e(e){var n=this;return(n=t.call(this)||this).sr=e,n}return i.__extends(e,t),e}(un),So=function(){function t(t){this.persistence=t,this.Bf=new qr,this.qf=null}return t.Uf=function(e){return new t(e)},Object.defineProperty(t.prototype,"Qf",{get:function(){if(this.qf)return this.qf;throw g()},enumerable:!0,configurable:!0}),t.prototype.Hi=function(t,e,n){return this.Bf.Hi(n,e),this.Qf.delete(n),on.resolve()},t.prototype.Ji=function(t,e,n){return this.Bf.Ji(n,e),this.Qf.add(n),on.resolve()},t.prototype.oo=function(t,e){return this.Qf.add(e),on.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Bf.ga(e.targetId).forEach((function(t){return n.Qf.add(t)}));var r=this.persistence.Yr();return r.Xi(t,e.targetId).next((function(t){t.forEach((function(t){return n.Qf.add(t)}))})).next((function(){return r.Qi(t,e)}))},t.prototype.Mf=function(){this.qf=new Set},t.prototype.Lf=function(t){var e=this,n=this.persistence.Jr().Vi();return on.forEach(this.Qf,(function(r){return e.Wf(t,r).next((function(t){t||n.ln(r)}))})).next((function(){return e.qf=null,n.apply(t)}))},t.prototype.co=function(t,e){var n=this;return this.Wf(t,e).next((function(t){t?n.Qf.delete(e):n.Qf.add(e)}))},t.prototype.xf=function(t){return 0},t.prototype.Wf=function(t,e){var n=this;return on.rn([function(){return on.resolve(n.Bf.tr(e))},function(){return n.persistence.Yr().tr(t,e)},function(){return n.persistence.Of(t,e)}])},t}(),Io=function(){function t(t){this.jf=t.jf,this.Kf=t.Kf}return t.prototype.xu=function(t){this.Gf=t},t.prototype.Cu=function(t){this.zf=t},t.prototype.onMessage=function(t){this.Hf=t},t.prototype.close=function(){this.Kf()},t.prototype.send=function(t){this.jf(t)},t.prototype.Yf=function(){this.Gf()},t.prototype.Jf=function(t){this.zf(t)},t.prototype.Xf=function(t){this.Hf(t)},t}(),To={BatchGetDocuments:"batchGet",Commit:"commit"},Po="gl-js/ fire/"+l,Ao=function(){function t(t){this.s=t.s,this.Zf=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.td=function(t,e){if(e)for(var n in e.ru)e.ru.hasOwnProperty(n)&&(t[n]=e.ru[n]);t["X-Goog-Api-Client"]=Po},t.prototype.Yu=function(t,e,n){var r=this,i=this.ed(t);return new Promise((function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),a(new O(x.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(x).indexOf(e)>=0?e:x.UNKNOWN}(r.status);a(new O(i,r.message))}else a(new O(x.UNKNOWN,"Server responded with status "+s.getStatus()))}else d("Connection",'RPC "'+t+'" failed'),a(new O(x.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{d("Connection",'RPC "'+t+'" completed.')}}));var c=Object.assign({},e);delete c.database;var l=JSON.stringify(c);d("Connection","XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.td(h,n),s.send(i,"POST",l,h,15)}))},t.prototype.Ju=function(t,e,n){return this.Yu(t,e,n)},t.prototype.Mu=function(t,e){var n=[this.Zf,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.td(o.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");d("Connection","Creating WebChannel: "+c+" "+o);var f=r.createWebChannel(c,o),p=!1,g=!1,m=new Io({jf:function(t){g?d("Connection","Not sending because WebChannel is closed:",t):(p||(d("Connection","Opening WebChannel transport."),f.open(),p=!0),d("Connection","WebChannel sending:",t),f.send(t))},Kf:function(){return f.close()}}),_=function(t,e){f.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return _(u.WebChannel.EventType.OPEN,(function(){g||d("Connection","WebChannel transport opened.")})),_(u.WebChannel.EventType.CLOSE,(function(){g||(g=!0,d("Connection","WebChannel transport closed"),m.Jf())})),_(u.WebChannel.EventType.ERROR,(function(t){g||(g=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.WARN){var r=e.map(v);h.warn.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}("Connection","WebChannel transport errored:",t),m.Jf(new O(x.UNAVAILABLE,"The operation could not be completed")))})),_(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!g){var n=t.data[0];y(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){d("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=B[t];if(void 0!==e)return Q(e)}(i),a=r.message;void 0===o&&(o=x.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),g=!0,m.Jf(new O(o,a)),f.close()}else d("Connection","WebChannel received:",n),m.Xf(n)}})),setTimeout((function(){m.Yf()}),0),m},t.prototype.ed=function(t){return this.Zf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+To[t]},t}(),xo=function(){function t(){var t=this;this.sd=function(){return t.nd()},this.rd=function(){return t.od()},this.hd=[],this.ad()}return t.prototype.Pc=function(t){this.hd.push(t)},t.prototype.Ur=function(){window.removeEventListener("online",this.sd),window.removeEventListener("offline",this.rd)},t.prototype.ad=function(){window.addEventListener("online",this.sd),window.addEventListener("offline",this.rd)},t.prototype.nd=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.hd;t<e.length;t++)(0,e[t])(0)},t.prototype.od=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.hd;t<e.length;t++)(0,e[t])(1)},t._r=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Oo=function(){function t(){}return t.prototype.Pc=function(t){},t.prototype.Ur=function(){},t}(),No="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Do=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.P_=this.ud(t),this.persistence=this.ld(t),[4,this.persistence.start()];case 1:return n.sent(),this._d=this.fd(t),this.Tc=this.dd(t),this.m_=this.wd(t),this.Qc=this.Td(t),this.Ed=this.Id(t),this.P_.hc=function(t){return e.Qc.c_(t,1)},this.m_.Qc=this.Qc,[4,this.Tc.start()];case 2:return n.sent(),[4,this.P_.start()];case 3:return n.sent(),[4,this.m_.start()];case 4:return n.sent(),[4,this.m_.rl(this.Qc.k_)];case 5:return n.sent(),[2]}}))}))},t.prototype.Id=function(t){return new yo(this.Qc)},t.prototype.fd=function(t){return null},t.prototype.dd=function(t){return new Ur(this.persistence,new _o,t.Ad)},t.prototype.ld=function(t){if(t.md.Rd)throw new O(x.FAILED_PRECONDITION,No);return new Co(So.Uf)},t.prototype.wd=function(t){var e=this;return new Yi(this.Tc,t.Xu,t.Oo,(function(t){return e.Qc.c_(t,0)}),xo._r()?new xo:new Oo)},t.prototype.ud=function(t){return new ao},t.prototype.Td=function(t){return new po(this.Tc,this.m_,t.Xu,this.P_,t.Ad,t.V_)},t.prototype.clearPersistence=function(t){throw new O(x.FAILED_PRECONDITION,No)},t}(),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.gr((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Qc.rl(t)];case 1:return e.sent(),this._d&&(t&&!this._d.pr?this._d.start(this.Tc):t||this._d.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},e.prototype.dd=function(t){return new jr(this.persistence,new _o,t.Ad)},e.prototype.Td=function(t){var e=new vo(this.Tc,this.m_,t.Xu,this.P_,t.Ad,t.V_);return this.P_ instanceof oo&&(this.P_.Qc=e),e},e.prototype.fd=function(t){return new Lr(this.persistence.Fi.eo,t.Oo)},e.prototype.ld=function(t){var e=zn.to(t.Pd),n=Ci(t.Pd.s);return new zn(t.md.synchronizeTabs,e,t.clientId,Mr.ph(t.md.cacheSizeBytes),t.Oo,Pr(),"undefined"!=typeof document?document:null,n,this.P_,t.md.ir)},e.prototype.ud=function(t){if(t.md.Rd&&t.md.synchronizeTabs){var e=Pr();if(!oo._r(e))throw new O(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zn.to(t.Pd);return new oo(e,t.Oo,n,t.clientId,t.Ad)}return new ao},e.prototype.clearPersistence=function(t){var e=zn.to(t);return zn.clearPersistence(e)},e}(Do),Mo=function(){function t(t,e,n){this.Pd=t,this.credentials=e,this.Oo=n,this.clientId=b.t()}return t.prototype.start=function(t,e){var n=this;this.Hu();var r=new fn,i=new fn,o=!1;return this.credentials.au((function(a){if(!o)return o=!0,d("FirestoreClient","Initializing. user=",a.uid),n.Vd(t,e,a,i).then(r.resolve,r.reject);n.Oo.Cr((function(){return n.m_.il(a)}))})),this.Oo.Sr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.Hu(),this.Oo.enqueue((function(){return t.Qc.enableNetwork()}))},t.prototype.Vd=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l=this;return i.__generator(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,(c=this.Pd,Promise.resolve(new Ao(c)))];case 1:return o=h.sent(),a=Ci(this.Pd.s),s=function(t,e,n){return new Ki(t,e,n)}(o,this.credentials,a),[4,t.initialize({Oo:this.Oo,Pd:this.Pd,Xu:s,clientId:this.clientId,Ad:n,V_:100,md:e})];case 2:return h.sent(),this.persistence=t.persistence,this.P_=t.P_,this.Tc=t.Tc,this.m_=t.m_,this.Qc=t.Qc,this._d=t._d,this.gd=t.Ed,this.persistence.yr((function(){return i.__awaiter(l,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(u=h.sent(),r.reject(u),!this.pd(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.Vd(new Do,{Rd:!1},n,r))];case 4:return[2]}}))}))},t.prototype.pd=function(t){return"FirebaseError"===t.name?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Hu=function(){if(this.Oo.eh)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Hu(),this.Oo.enqueue((function(){return t.Qc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Oo.oh((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this._d&&this._d.stop(),[4,this.m_.Ur()];case 1:return t.sent(),[4,this.P_.Ur()];case 2:return t.sent(),[4,this.persistence.Ur()];case 3:return t.sent(),this.credentials.uu(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Hu();var e=new fn;return this.Oo.Sr((function(){return t.Qc.K_(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Hu();var i=new mo(t,e,n);return this.Oo.Sr((function(){return r.gd.listen(i)})),i},t.prototype.qc=function(t){var e=this;this.yd||this.Oo.Sr((function(){return e.gd.qc(t)}))},t.prototype.bd=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Hu(),e=new fn,[4,this.Oo.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.Tc.aa(t)];case 1:return(n=i.sent())instanceof Le?e.resolve(n):n instanceof Fe?e.resolve(null):e.reject(new O(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Or(r,"Failed to get document '"+t+" from cache"),e.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.vd=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Hu(),e=new fn,[4,this.Oo.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o,a,s,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.Tc.la(t,!0)];case 1:return n=i.sent(),r=new co(t,n._a),o=r.n_(n.documents),a=r.wn(o,!1),e.resolve(a.snapshot),[3,3];case 2:return s=i.sent(),u=Or(s,"Failed to execute query '"+t+" against cache"),e.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.Hu();var n=new fn;return this.Oo.Sr((function(){return e.Qc.write(t,n)})),n.promise},t.prototype.s=function(){return this.Pd.s},t.prototype.lf=function(t){var e=this;this.Hu(),this.Oo.Sr((function(){return e.gd.lf(t),Promise.resolve()}))},t.prototype._f=function(t){var e=this;this.yd||this.Oo.Sr((function(){return e.gd._f(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"yd",{get:function(){return this.Oo.eh},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Hu();var n=new fn;return this.Oo.Sr((function(){return e.Qc.runTransaction(e.Oo,t,n),Promise.resolve()})),n.promise},t}(),Lo=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Sd(this.observer.next,t)},t.prototype.error=function(t){this.Sd(this.observer.error,t)},t.prototype.Dd=function(){this.muted=!0},t.prototype.Sd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Fo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Uo=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Cd=n,this.Fd=r}return t.prototype.Nd=function(t){switch(St(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nt(t.integerValue||t.doubleValue);case 3:return this.$d(t.timestampValue);case 4:return this.kd(t);case 5:return t.stringValue;case 6:return new li(Dt(t.bytesValue));case 7:return this.xd(t.referenceValue);case 8:return this.Md(t.geoPointValue);case 9:return this.Ld(t.arrayValue);case 10:return this.Od(t.mapValue);default:throw g()}},t.prototype.Od=function(t){var e=this,n={};return T(t.fields||{},(function(t,r){n[t]=e.Nd(r)})),n},t.prototype.Md=function(t){return new ki(Nt(t.latitude),Nt(t.longitude))},t.prototype.Ld=function(t){var e=this;return(t.values||[]).map((function(t){return e.Nd(t)}))},t.prototype.kd=function(t){switch(this.Cd){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return kt(n)?t(n):n}(t);return null==e?null:this.Nd(e);case"estimate":return this.$d(Ct(t));default:return null}},t.prototype.$d=function(t){var e=Ot(t),n=new N(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.xd=function(t){var e=M.$(t);y(ge(e));var n=new S(e.get(1),e.get(3)),r=new U(e.g(5));return n.isEqual(this.s)||p("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Fd(r)},t}(),jo=Mr.vh,Vo=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new O(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Xr("settings","non-empty string","host",t.host),this.host=t.host,Yr("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(ri("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Yr("settings","object","credentials",t.credentials),this.credentials=t.credentials,Yr("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Yr("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?p("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&p("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,Yr("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Mr.Dh;else{if(t.cacheSizeBytes!==jo&&t.cacheSizeBytes<Mr.Sh)throw new O(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Mr.Sh);this.cacheSizeBytes=t.cacheSizeBytes}Yr("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),qo=function(){function t(e,n,r){var o=this;if(void 0===r&&(r=new Do),this.Bd=null,this.qd=new xr,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ud(),[4,this.Qd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.Bd=a,this.qa=t.Wd(a),this.jd=a.name,this.Kd=new qi(n)}else{var s=e;if(!s.projectId)throw new O(x.INVALID_ARGUMENT,"Must provide projectId");this.qa=new S(s.projectId,s.database),this.jd="[DEFAULT]",this.Kd=new Vi}this.Gd=r,this.zd=new Vo({})}return Object.defineProperty(t.prototype,"Hd",{get:function(){return this.Yd||(this.Yd=new xi(this.qa,this.zd.ignoreUndefinedProperties)),this.Yd},enumerable:!0,configurable:!0}),t.prototype.settings=function(t){zr("Firestore.settings",arguments,1),Kr("Firestore.settings","object",1,t);var e=new Vo(t);if(this.Qd&&!this.zd.isEqual(e))throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.zd=e,void 0!==e.credentials&&(this.Kd=function(t){if(!t)return new Vi;switch(t.type){case"gapi":var e=t.Jd;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Bi(e,t.wu||"0");case"provider":return t.Jd;default:throw new O(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Ud(),this.Qd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Ud(),this.Qd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Qd)throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&p("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new O(x.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Xd(this.Gd,{Rd:!0,cacheSizeBytes:this.zd.cacheSizeBytes,synchronizeTabs:r,ir:i})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.Qd&&!this.Qd.yd)throw new O(x.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new fn,[2,(this.qd.sh((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.Zd(),[4,this.Gd.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"tw",{get:function(){return this.Ud(),this.Qd.yd},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Ud(),this.Qd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.Ud(),Fo(t)?this.ew(t):(Kr("Firestore.onSnapshotsInSync","function",1,t),this.ew({next:t}))},t.prototype.ew=function(t){var e=this,n=new Lo({next:function(){t.next&&t.next()},error:function(t){throw g()}});return this.Qd.lf(n),function(){n.Dd(),e.Qd._f(n)}},t.prototype.Ud=function(){return this.Qd||this.Xd(new Do,{Rd:!1}),this.Qd},t.prototype.Zd=function(){return new E(this.qa,this.jd,this.zd.host,this.zd.ssl,this.zd.forceLongPolling)},t.prototype.Xd=function(t,e){var n=this.Zd();return this.Qd=new Mo(n,this.Kd,this.qd),this.Qd.start(t,e)},t.Wd=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new O(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new O(x.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new S(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Bd)throw new O(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Bd},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return zr("Firestore.collection",arguments,1),Kr("Firestore.collection","non-empty string",1,t),this.Ud(),new Yo(M.$(t),this,null)},t.prototype.doc=function(t){return zr("Firestore.doc",arguments,1),Kr("Firestore.doc","non-empty string",1,t),this.Ud(),zo.sw(M.$(t),this,null)},t.prototype.collectionGroup=function(t){if(zr("Firestore.collectionGroup",arguments,1),Kr("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new O(x.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Ud(),new Qo(new je(M.k,t),this,null)},t.prototype.runTransaction=function(t){var e=this;return zr("Firestore.runTransaction",arguments,1),Kr("Firestore.runTransaction","function",1,t),this.Ud().transaction((function(n){return t(new Ho(e,n))}))},t.prototype.batch=function(){return this.Ud(),new Bo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case a.LogLevel.DEBUG:return"debug";case a.LogLevel.ERROR:return"error";case a.LogLevel.SILENT:return"silent";case a.LogLevel.WARN:return"warn";case a.LogLevel.INFO:return"info";case a.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){zr("Firestore.setLogLevel",arguments,1),Zr("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),h.setLogLevel(t)},t.prototype.nw=function(){return this.zd.timestampsInSnapshots},t}(),Ho=function(){function t(t,e){this.iw=t,this.rw=e}return t.prototype.get=function(t){var e=this;zr("Transaction.get",arguments,1);var n=ta("Transaction.get",t,this.iw);return this.rw.nc([n.Ua]).then((function(t){if(!t||1!==t.length)return g();var r=t[0];if(r instanceof Fe)return new Wo(e.iw,n.Ua,null,!1,!1,n.Qa);if(r instanceof Le)return new Wo(e.iw,n.Ua,r,!1,!1,n.Qa);throw g()}))},t.prototype.set=function(t,e,n){Wr("Transaction.set",arguments,2,3);var r=ta("Transaction.set",t,this.iw);n=$o("Transaction.set",n);var i=na(r.Qa,e,"Transaction.set"),o=i[0],a=i[1],s=this.iw.Hd.Ja(a,o,n);return this.rw.set(r.Ua,s),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof fi?(Gr("Transaction.update",arguments,3),r=ta("Transaction.update",t,this.iw),i=this.iw.Hd.tu("Transaction.update",e,n,o)):(zr("Transaction.update",arguments,2),r=ta("Transaction.update",t,this.iw),i=this.iw.Hd.Za("Transaction.update",e)),this.rw.update(r.Ua,i),this},t.prototype.delete=function(t){zr("Transaction.delete",arguments,1);var e=ta("Transaction.delete",t,this.iw);return this.rw.delete(e.Ua),this},t}(),Bo=function(){function t(t){this.iw=t,this.ow=[],this.hw=!1}return t.prototype.set=function(t,e,n){Wr("WriteBatch.set",arguments,2,3),this.aw();var r=ta("WriteBatch.set",t,this.iw);n=$o("WriteBatch.set",n);var i=na(r.Qa,e,"WriteBatch.set"),o=i[0],a=i[1],s=this.iw.Hd.Ja(a,o,n);return this.ow=this.ow.concat(s.Wa(r.Ua,Se.Qe())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.aw(),"string"==typeof e||e instanceof fi?(Gr("WriteBatch.update",arguments,3),r=ta("WriteBatch.update",t,this.iw),i=this.iw.Hd.tu("WriteBatch.update",e,n,o)):(zr("WriteBatch.update",arguments,2),r=ta("WriteBatch.update",t,this.iw),i=this.iw.Hd.Za("WriteBatch.update",e)),this.ow=this.ow.concat(i.Wa(r.Ua,Se.exists(!0))),this},t.prototype.delete=function(t){zr("WriteBatch.delete",arguments,1),this.aw();var e=ta("WriteBatch.delete",t,this.iw);return this.ow=this.ow.concat(new xe(e.Ua,Se.Qe())),this},t.prototype.commit=function(){return this.aw(),this.hw=!0,this.ow.length>0?this.iw.Ud().write(this.ow):Promise.resolve()},t.prototype.aw=function(){if(this.hw)throw new O(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),zo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.qa,e,r)||this).Ua=e,i.firestore=n,i.Qa=r,i.Qd=i.firestore.Ud(),i}return i.__extends(e,t),e.sw=function(t,n,r){if(t.length%2!=0)throw new O(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.N()+" has "+t.length);return new e(new U(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Yo(this.Ua.path.p(),this.firestore,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ua.path.N()},enumerable:!0,configurable:!0}),e.prototype.collection=function(t){if(zr("DocumentReference.collection",arguments,1),Kr("DocumentReference.collection","non-empty string",1,t),!t)throw new O(x.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=M.$(t);return new Yo(this.Ua.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ii("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Ua.isEqual(t.Ua)&&this.Qa===t.Qa},e.prototype.set=function(t,e){Wr("DocumentReference.set",arguments,1,2),e=$o("DocumentReference.set",e);var n=na(this.Qa,t,"DocumentReference.set"),r=n[0],i=n[1],o=this.firestore.Hd.Ja(i,r,e);return this.Qd.write(o.Wa(this.Ua,Se.Qe()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof fi?(Gr("DocumentReference.update",arguments,2),n=this.firestore.Hd.tu("DocumentReference.update",t,e,r)):(zr("DocumentReference.update",arguments,1),n=this.firestore.Hd.Za("DocumentReference.update",t)),this.Qd.write(n.Wa(this.Ua,Se.exists(!0)))},e.prototype.delete=function(){return zr("DocumentReference.delete",arguments,0),this.Qd.write([new xe(this.Ua,Se.Qe())])},e.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Wr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Fo(t[i])||(ri("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),Yr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Fo(t[i])?n=t[i]:(Kr("DocumentReference.onSnapshot","function",i,t[i]),Qr("DocumentReference.onSnapshot","function",i+1,t[i+1]),Qr("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.uw(o,n)},e.prototype.uw=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Lo({next:function(t){if(e.next){var r=t.docs.get(n.Ua);e.next(new Wo(n.firestore,n.Ua,r,t.fromCache,t.hasPendingWrites,n.Qa))}},error:r}),o=this.Qd.listen(je.As(this.Ua.path),i,t);return function(){i.Dd(),n.Qd.qc(o)}},e.prototype.get=function(t){var e=this;return Wr("DocumentReference.get",arguments,0,1),Jo("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Ud().bd(e.Ua).then((function(t){n(new Wo(e.firestore,e.Ua,t,!0,t instanceof Le&&t.Xe,e.Qa))}),r):e.cw(n,r,t)}))},e.prototype.cw=function(t,e,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new O(x.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new O(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},e.prototype.withConverter=function(t){return new e(this.Ua,this.firestore,t)},e}(Si),Go=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Wo=function(){function t(t,e,n,r,i,o){this.iw=t,this.Ua=e,this.lw=n,this._w=r,this.fw=i,this.Qa=o}return t.prototype.data=function(t){var e=this;if(Wr("DocumentSnapshot.data",arguments,0,1),t=Zo("DocumentSnapshot.data",t),this.lw){if(this.Qa){var n=new Ko(this.iw,this.Ua,this.lw,this._w,this.fw,null);return this.Qa.fromFirestore(n,t)}return new Uo(this.iw.qa,this.iw.nw(),t.serverTimestamps||"none",(function(t){return new zo(t,e.iw,null)})).Nd(this.lw.fs())}},t.prototype.get=function(t,e){var n=this;if(Wr("DocumentSnapshot.get",arguments,1,2),e=Zo("DocumentSnapshot.get",e),this.lw){var r=this.lw.data().field(Mi("DocumentSnapshot.get",t));if(null!==r)return new Uo(this.iw.qa,this.iw.nw(),e.serverTimestamps||"none",(function(t){return new zo(t,n.iw,n.Qa)})).Nd(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new zo(this.Ua,this.iw,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.lw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Go(this.fw,this._w)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","DocumentSnapshot",1,e);return this.iw===e.iw&&this._w===e._w&&this.Ua.isEqual(e.Ua)&&(null===this.lw?null===e.lw:this.lw.isEqual(e.lw))&&this.Qa===e.Qa},t}(),Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Wo),Qo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.qa,n.Hd,e)||this).dw=e,i.firestore=n,i.Qa=r,i}return i.__extends(e,t),e.prototype.where=function(t,n,r){zr("Query.where",arguments,3),ni("Query.where",3,r);var i=Zr("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=Mi("Query.where",t),a=this.ww(o,i,r);return new e(this.dw.Ps(a),this.firestore,this.Qa)},e.prototype.orderBy=function(t,n){var r;if(Wr("Query.orderBy",arguments,1,2),Qr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new O(x.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Mi("Query.orderBy",t),o=this.Aw(i,r);return new e(this.dw.Vs(o),this.firestore,this.Qa)},e.prototype.limit=function(t){return zr("Query.limit",arguments,1),Kr("Query.limit","number",1,t),oi("Query.limit",1,t),new e(this.dw.gs(t),this.firestore,this.Qa)},e.prototype.limitToLast=function(t){return zr("Query.limitToLast",arguments,1),Kr("Query.limitToLast","number",1,t),oi("Query.limitToLast",1,t),new e(this.dw.ps(t),this.firestore,this.Qa)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Gr("Query.startAt",arguments,1);var i=this.pw("Query.startAt",t,n,!0);return new e(this.dw.ys(i),this.firestore,this.Qa)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Gr("Query.startAfter",arguments,1);var i=this.pw("Query.startAfter",t,n,!1);return new e(this.dw.ys(i),this.firestore,this.Qa)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Gr("Query.endBefore",arguments,1);var i=this.pw("Query.endBefore",t,n,!0);return new e(this.dw.bs(i),this.firestore,this.Qa)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Gr("Query.endAt",arguments,1);var i=this.pw("Query.endAt",t,n,!1);return new e(this.dw.bs(i),this.firestore,this.Qa)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ii("isEqual","Query",1,t);return this.firestore===t.firestore&&this.dw.isEqual(t.dw)&&this.Qa===t.Qa},e.prototype.withConverter=function(t){return new e(this.dw,this.firestore,t)},e.prototype.pw=function(t,e,n,r){if(ni(t,1,e),e instanceof Wo)return zr(t,i.__spreadArrays([e],n),1),this.mw(t,e.lw,r);var o=[e].concat(n);return this.Pw(t,o,r)},e.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Wr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Fo(t[i])||(ri("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),Yr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Fo(t[i])?n=t[i]:(Kr("Query.onSnapshot","function",i,t[i]),Qr("Query.onSnapshot","function",i+1,t[i+1]),Qr("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Vw(this.dw),this.uw(r,n)},e.prototype.uw=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Lo({next:function(t){e.next&&e.next(new Xo(n.firestore,n.dw,t,n.Qa))},error:r}),o=this.firestore.Ud(),a=o.listen(this.dw,i,t);return function(){i.Dd(),o.qc(a)}},e.prototype.get=function(t){var e=this;return Wr("Query.get",arguments,0,1),Jo("Query.get",t),this.Vw(this.dw),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Ud().vd(e.dw).then((function(t){n(new Xo(e.firestore,e.dw,t,e.Qa))}),r):e.cw(n,r,t)}))},e.prototype.cw=function(t,e,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new O(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},e}(function(){function t(t,e,n){this.qa=t,this.Hd=e,this.dw=n}return t.prototype.ww=function(t,e,n){var r;if(t.L()){if("array-contains"===e||"array-contains-any"===e)throw new O(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.Tw(n,e);for(var i=[],o=0,a=n;o<a.length;o++)i.push(this.Ew(a[o]));r={arrayValue:{values:i}}}else r=this.Ew(n)}else"in"!==e&&"array-contains-any"!==e||this.Tw(n,e),r=this.Hd.eu("Query.where",n,"in"===e);var s=Ve.create(t,e,r);return this.Iw(s),s},t.prototype.Aw=function(t,e){if(null!==this.dw.startAt)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.dw.endAt)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new Ye(t,e);return this.Rw(n),n},t.prototype.mw=function(t,e,n){if(!e)throw new O(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],i=0,o=this.dw.orderBy;i<o.length;i++){var a=o[i];if(a.field.L())r.push(Rt(this.qa,e.key));else{var s=e.field(a.field);if(kt(s))throw new O(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.N();throw new O(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new We(r,n)},t.prototype.Pw=function(t,e,n){var r=this.dw.ds;if(e.length>r.length)throw new O(x.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.L()){if("string"!=typeof a)throw new O(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this.dw.Bs()&&-1!==a.indexOf("/"))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this.dw.path.child(M.$(a));if(!U.W(s))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new U(s);i.push(Rt(this.qa,u))}else{var c=this.Hd.eu(t,a);i.push(c)}}return new We(i,n)},t.prototype.Vw=function(t){if(t.xs()&&0===t.ds.length)throw new O(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.Ew=function(t){if("string"==typeof t){if(""===t)throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.dw.Bs()&&-1!==t.indexOf("/"))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.dw.path.child(M.$(t));if(!U.W(e))throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Rt(this.qa,new U(e))}if(t instanceof Si)return Rt(this.qa,t.Ua);throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ei(t)+".")},t.prototype.Tw=function(t,e){if(!Array.isArray(t)||0===t.length)throw new O(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new O(x.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Iw=function(t){if(t instanceof Ve){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Ms()){var o=this.dw.Rs();if(null!==o&&!o.isEqual(t.field))throw new O(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this.dw.ms();null!==a&&this.gw(t.field,a)}else if(i||r){var s=null;if(i&&(s=this.dw.Ls(n)),null===s&&r&&(s=this.dw.Ls(e)),null!=s)throw new O(x.INVALID_ARGUMENT,s===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.Rw=function(t){if(null===this.dw.ms()){var e=this.dw.Rs();null!==e&&this.gw(e,t.field)}},t.prototype.gw=function(t,e){if(!e.isEqual(t))throw new O(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}()),Xo=function(){function t(t,e,n,r){this.iw=t,this.yw=e,this.bw=n,this.Qa=r,this.vw=null,this.Sw=null,this.metadata=new Go(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.bw.docs._()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bw.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Wr("QuerySnapshot.forEach",arguments,1,2),Kr("QuerySnapshot.forEach","function",1,t),this.bw.docs.forEach((function(r){t.call(e,n.Dw(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Qo(this.yw,this.iw,this.Qa)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(ri("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Yr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.bw.qt)throw new O(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vw&&this.Sw===e||(this.vw=function(t,e,n,r){if(n.Lt._()){var i=0;return n.docChanges.map((function(e){return{type:"added",doc:new Ko(t,e.doc.key,e.doc,n.fromCache,n.Ot.has(e.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.Lt;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Ko(t,e.doc.key,e.doc,n.fromCache,n.Ot.has(e.doc.key),r),a=-1,s=-1;return 0!==e.type&&(a=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(s=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:ea(e.type),doc:i,oldIndex:a,newIndex:s}}))}(this.iw,e,this.bw,this.Qa),this.Sw=e),this.vw},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","QuerySnapshot",1,e);return this.iw===e.iw&&this.yw.isEqual(e.yw)&&this.bw.isEqual(e.bw)&&this.Qa===e.Qa},t.prototype.Dw=function(t){return new Ko(this.iw,t.key,t,this.metadata.fromCache,this.bw.Ot.has(t.key),this.Qa)},t}(),Yo=function(t){function e(e,n,r){var i=this;if((i=t.call(this,je.As(e),n,r)||this).Cw=e,e.length%2!=1)throw new O(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.N()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.dw.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.dw.path.p();return t._()?null:new zo(new U(t),this.firestore,null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.dw.path.N()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){Wr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.t()),Kr("CollectionReference.doc","non-empty string",1,t);var e=M.$(t);return zo.sw(this.dw.path.child(e),this.firestore,this.Qa)},e.prototype.add=function(t){zr("CollectionReference.add",arguments,1),Kr("CollectionReference.add","object",1,this.Qa?this.Qa.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Cw,this.firestore,t)},e}(Qo);function $o(t,e){if(void 0===e)return{merge:!1};if(ri(t,e,["merge","mergeFields"]),Yr(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+ei(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new O(x.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+ei(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof fi}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new O(x.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Zo(t,e){return void 0===e?{}:(ri(t,e,["serverTimestamps"]),$r(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Jo(t,e){Qr(t,"object",1,e),e&&(ri(t,e,["source"]),$r(t,0,"source",e.source,["default","server","cache"]))}function ta(t,e,n){if(e instanceof Si){if(e.firestore!==n)throw new O(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw ii(t,"DocumentReference",1,e)}function ea(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function na(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var ra=["length","name"];function ia(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new O(x.INVALID_ARGUMENT,t)}for(var r=0,i=Object.getOwnPropertyNames(t);r<i.length;r++){var o=i[r];-1===ra.indexOf(o)&&(n[o]=t[o])}return n}var oa=ia(qo,"Use firebase.firestore() instead."),aa=ia(Ho,"Use firebase.firestore().runTransaction() instead."),sa=ia(Bo,"Use firebase.firestore().batch() instead."),ua=ia(zo,"Use firebase.firestore().doc() instead."),ca=ia(Wo),la=ia(Ko),ha=ia(Qo),fa=ia(Xo),da=ia(Yo,"Use firebase.firestore().collection() instead."),pa=ia(bi,"Use FieldValue.<field>() instead."),va=ia(li,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ga={Firestore:oa,GeoPoint:ki,Timestamp:N,Blob:va,Transaction:aa,WriteBatch:sa,DocumentReference:ua,DocumentSnapshot:ca,Query:ha,QueryDocumentSnapshot:la,QuerySnapshot:fa,CollectionReference:da,FieldPath:fi,FieldValue:pa,setLogLevel:qo.setLogLevel,CACHE_SIZE_UNLIMITED:jo};function ya(t){!function(t,e){t.INTERNAL.registerComponent(new c.Component("firestore",(function(t){return function(t,e){return new qo(t,e,new Ro)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ga)))}(t),t.registerVersion("@firebase/firestore","1.15.5")}ya(o),e.__PRIVATE_registerFirestore=ya},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.15.5","app"),t.exports=i},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return I}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return a})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!0,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.15.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!a.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.7",void 0),t.registerVersion("fire-js","")}(m),e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(e),n.d(e,"ErrorCode",(function(){return Qn})),n.d(e,"EventType",(function(){return Xn})),n.d(e,"WebChannel",(function(){return Yn})),n.d(e,"XhrIo",(function(){return $n})),n.d(e,"createWebChannelTransport",(function(){return Kn}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},s=o||self;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var m=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++d)}(this)},b.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function E(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function S(t){return/^[\s\xa0]*$/.test(t)}var I,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var x=s.navigator;if(x){var O=x.userAgent;if(O){I=O;break t}}I=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=u;var F,U,j=P(I,"Opera"),V=P(I,"Trident")||P(I,"MSIE"),q=P(I,"Edge"),H=q||V,B=P(I,"Gecko")&&!(P(I.toLowerCase(),"webkit")&&!P(I,"Edge"))&&!(P(I,"Trident")||P(I,"MSIE"))&&!P(I,"Edge"),z=P(I.toLowerCase(),"webkit")&&!P(I,"Edge");function G(){var t=s.document;return t?t.documentMode:void 0}t:{var W="",K=(U=I,B?/rv:([^\);]+)(\)|;)/.exec(U):q?/Edge\/([\d\.]+)/.exec(U):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):z?/WebKit\/(\S+)/.exec(U):j?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(K&&(W=K?K[1]:""),V){var Q=G();if(null!=Q&&Q>parseFloat(W)){F=String(Q);break t}}F=W}var X={};function Y(t){return function(t,e){var n=X;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=T(String(F)).split("."),r=T(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=A(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||A(0==a[2].length,0==s[2].length)||A(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var $=s.document&&V&&(G()||parseInt(F,10))||void 0,Z=!V||9<=Number($),J=V&&!Y("9"),tt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",u,e),s.removeEventListener("test",u,e)}catch(n){}return t}();function et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function nt(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(B){t:{try{L(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}et.prototype.b=function(){this.defaultPrevented=!0},_(nt,et);var rt={2:"touch",3:"pen",4:"mouse"};nt.prototype.b=function(){nt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,J)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var it="closure_listenable_"+(1e6*Math.random()|0),ot=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++ot,this.V=this.X=!1}function st(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function ut(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=w(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(st(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function lt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}ut.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=lt(t,e,r,i);return-1<a?(e=t[a],n||(e.X=!1)):((e=new at(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),ft={};function dt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=wt(r),e&&e[it]?e.sa(n,r,h(i)?!!i.capture:!!i,o):pt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)dt(t,e[o],n,r,i);return null}return n=wt(n),t&&t[it]?t.ra(e,n,h(r)?!!r.capture:!!r,i):pt(t,e,n,!1,r,i)}function pt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=_t(t);if(s||(t[ht]=s=new ut(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=mt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[it])ct(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(ct(n,t),0==n.b&&(n.src=null,e[ht]=null)):st(t)}}}function gt(t){return t in ft?ft[t]:ft[t]="on"+t}function yt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&vt(t),n.call(r,e)}function mt(t,e){if(t.V)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new nt(e,this))}return yt(t,new nt(e,this))}function _t(t){return(t=t[ht])instanceof ut?t:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(t){return"function"==c(t)?t:(t[bt]||(t[bt]=function(e){return t.handleEvent(e)}),t[bt])}function kt(){b.call(this),this.c=new ut(this),this.J=this,this.A=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.V&&a.capture==n){var s=a.listener,u=a.aa||a.src;a.X&&ct(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}_(kt,b),kt.prototype[it]=!0,(i=kt.prototype).addEventListener=function(t,e,n,r){dt(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=h(i)?!!i.capture:!!i,r=wt(r),e&&e[it]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=lt(a=e.a[n],r,i,o))&&(st(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=lt(n,r,i,o)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},i.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new et(t,n);else if(t instanceof et)t.target=t.target||n;else{var i=t;M(t=new et(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ct(a,r,!0,t)&&i}if(i=Ct(a=t.a=n,r,!0,t)&&i,i=Ct(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ct(a=t.a=e[o],r,!1,t)&&i;return i},i.C=function(){if(kt.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)st(n[r]);delete e.a[t],e.b--}}this.A=null},i.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Et=s.JSON.stringify;function St(){this.b=this.a=null}var It,Tt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new At}),(function(t){t.reset()}),100);function Pt(){var t=Dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function At(){this.next=this.b=this.a=null}function xt(t){s.setTimeout((function(){throw t}),0)}function Ot(t,e){It||function(){var t=s.Promise.resolve(void 0);It=function(){t.then(Rt)}}(),Nt||(It(),Nt=!0),Dt.add(t,e)}St.prototype.add=function(t,e){var n=Tt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},At.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},At.prototype.reset=function(){this.next=this.b=this.a=null};var Nt=!1,Dt=new St;function Rt(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){xt(n)}var e=Tt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Nt=!1}function Mt(t,e){kt.call(this),this.b=t||1,this.a=e||s,this.f=g(this.Ua,this),this.g=m()}function Lt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ft(t,e,n){if("function"==c(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Ut(t,e,n){b.call(this),this.f=null!=n?g(t,n):t,this.c=e,this.b=g(this.Pa,this),this.a=[]}function jt(t){t.T=Ft(t.b,t.c),t.f.apply(null,t.a)}function Vt(t){b.call(this),this.b=t,this.a={}}_(Mt,kt),(i=Mt.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var t=m()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Lt(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=m())},i.C=function(){Mt.M.C.call(this),Lt(this),delete this.a},_(Ut,b),(i=Ut.prototype).ba=!1,i.T=null,i.Ia=function(t){this.a=arguments,this.T?this.ba=!0:jt(this)},i.C=function(){Ut.M.C.call(this),this.T&&(s.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,jt(this))},_(Vt,b);var qt=[];function Ht(t,e,n,r){Array.isArray(n)||(n&&(qt[0]=n.toString()),n=qt);for(var i=0;i<n.length;i++){var o=dt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Bt(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vt(t)}),t),t.a={}}function zt(){}Vt.prototype.C=function(){Vt.M.C.call(this),Bt(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=null;function Wt(){return Gt=Gt||new kt}function Kt(t){et.call(this,"serverreachability",t)}function Qt(t){var e=Wt();e.dispatchEvent(new Kt(e,t))}function Xt(t){et.call(this,"statevent",t)}function Yt(t){var e=Wt();e.dispatchEvent(new Xt(e,t))}function $t(t){et.call(this,"timingevent",t)}function Zt(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}_(Kt,et),_(Xt,et),_($t,et);var Jt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},te={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ee(){}function ne(){}ee.prototype.a=null;var re,ie={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function oe(){et.call(this,"d")}function ae(){et.call(this,"c")}function se(){}function ue(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Vt(this),this.N=ce,this.O=new Mt(t=H?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(oe,et),_(ae,et),_(se,ee),re=new se;var ce=45e3,le={},he={};function fe(t,e,n){t.B=1,t.f=Re(Pe(e)),t.j=n,t.F=!0,de(t,null)}function de(t,e){t.s=m(),ge(t),t.A=Pe(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Ke(n.b,"t",r),t.w=0,t.a=jn(t.g,t.g.w?e:null),0<t.J&&(t.D=new Ut(g(t.ya,t,t.a),t.J)),Ht(t.G,t.a,"readystatechange",t.Sa),e=t.m?D(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),Qt(1)}function pe(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=ve(t,n);if(i==he){4==e&&(t.c=4,Yt(14),r=!1);break}if(i==le){t.c=4,Yt(15),r=!1;break}we(t,i)}4==e&&0==n.length&&(t.c=1,Yt(16),r=!1),t.b=t.b&&r,r||(be(t),_e(t))}function ve(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?he:(n=Number(e.substring(n,r)),isNaN(n)?le:(r+=1)+n>e.length?he:(e=e.substr(r,n),t.w=r+n,e))}function ge(t){t.P=m()+t.N,ye(t,t.N)}function ye(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Zt(g(t.Qa,t),e)}function me(t){t.h&&(s.clearTimeout(t.h),t.h=null)}function _e(t){0==t.g.u||t.l||Rn(t.g,t)}function be(t){me(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Lt(t.O),Bt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function we(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||tn(n.b,t)))if(n.A=t.H,!t.o&&tn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Dn(n),n.a.cancel(),n.a=null}Nn(n),Yt(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Zt(g(n.Na,n),6e3));if(1>=Je(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Ln(n,11)}else if((t.o||n.a==t)&&Dn(n),!S(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(n.G=(i=e[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var a=i[5];null!=a&&"number"==typeof a&&0<a&&(n.D=1.5*a);var s=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=s.b;!l.a&&(P(c,"spdy")||P(c,"quic")||P(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(en(l,l.b),l.b=null))}if(s.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.ha=h,De(s.v,s.s,h))}}n.u=3,n.c&&n.c.na();var f=t;if((s=n).ea=Un(s,s.w?s.R:null,s.P),f.o){nn(s.b,f);var d=f,p=s.D;p&&d.setTimeout(p),d.h&&(me(d),ge(d)),s.a=f}else On(s);0<n.f.length&&Tn(n)}else"stop"!=i[0]&&"close"!=i[0]||Ln(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ln(n,7):En(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Qt(4)}catch(v){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)k(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(l(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ee(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Se(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Se(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=ue.prototype).setTimeout=function(t){this.N=t},i.Sa=function(t){t=t.target;var e=this.D;e&&3==bn(t)?e.Ia():this.ya(t)},i.ya=function(t){try{if(t==this.a)t:{var e=bn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!H&&!this.a.Y())){this.l||4!=e||7==n||Qt(8==n||0>=r?3:2),me(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.c=3,Yt(12),be(this),_e(this);break t}this.o=!0,we(this,u)}this.F?(pe(this,e,o),H&&this.b&&3==e&&(Ht(this.G,this.O,"tick",this.Ra),this.O.start())):we(this,o),4==e&&be(this),this.b&&!this.l&&(4==e?Rn(this.g,this):(this.b=!1,ge(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Yt(12)):(this.c=0,Yt(13)),be(this),_e(this)}}}catch(c){}},i.Ra=function(){if(this.a){var t=bn(this.a),e=this.a.Y();this.w<e.length&&(me(this),pe(this,t,e),this.b&&4!=t&&ge(this))}},i.cancel=function(){this.l=!0,be(this)},i.Qa=function(){this.h=null;var t=m();0<=t-this.P?(2!=this.B&&(Qt(3),Yt(17)),be(this),this.c=2,_e(this)):ye(this,this.P-t)},(i=Ce.prototype).I=function(){Ee(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Ee(this),this.a.concat()},i.get=function(t,e){return Se(this.b,t)?this.b[t]:e},i.set=function(t,e){Se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ie=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Te(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Te){this.a=void 0!==e?e:t.a,Ae(this,t.f),this.j=t.j,xe(this,t.c),Oe(this,t.h),this.g=t.g,e=t.b;var n=new Be;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Ne(this,n),this.i=t.i}else t&&(n=String(t).match(Ie))?(this.a=!!e,Ae(this,n[1]||"",!0),this.j=Me(n[2]||""),xe(this,n[3]||"",!0),Oe(this,n[4]),this.g=Me(n[5]||"",!0),Ne(this,n[6]||"",!0),this.i=Me(n[7]||"")):(this.a=!!e,this.b=new Be(null,this.a))}function Pe(t){return new Te(t)}function Ae(t,e,n){t.f=n?Me(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xe(t,e,n){t.c=n?Me(e,!0):e}function Oe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ne(t,e,n){e instanceof Be?(t.b=e,function(t,e){e&&!t.f&&(ze(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ge(this,e),Ke(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Le(e,qe)),t.b=new Be(e,t.a))}function De(t,e,n){t.b.set(e,n)}function Re(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function Me(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Le(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Te.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Le(e,Ue,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Le(e,Ue,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Le(n,"/"==n.charAt(0)?Ve:je,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Le(n,He)),t.join("")};var Ue=/[#\/\?@]/g,je=/[#\?:]/g,Ve=/[#\?]/g,qe=/[#\?@]/g,He=/#/g;function Be(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ze(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ge(t,e){ze(t),e=Qe(t,e),Se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Se((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ee(t)))}function We(t,e){return ze(t),e=Qe(t,e),Se(t.a.b,e)}function Ke(t,e,n){Ge(t,e),0<n.length&&(t.c=null,t.a.set(Qe(t,e),E(n)),t.b+=n.length)}function Qe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Xe(t,e){this.b=t,this.a=e}function Ye(t){this.g=t||$e,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ca&&s.ca.ua&&s.ca.ua()&&s.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=Be.prototype).add=function(t,e){ze(this),this.c=null,t=Qe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){ze(this),this.a.forEach((function(n,r){k(n,(function(n){t.call(e,n,r,this)}),this)}),this)},i.K=function(){ze(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},i.I=function(t){ze(this);var e=[];if("string"==typeof t)We(this,t)&&(e=C(e,this.a.get(Qe(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},i.set=function(t,e){return ze(this),this.c=null,We(this,t=Qe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var $e=10;function Ze(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Je(t){return t.b?1:t.a?t.a.size:0}function tn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function en(t,e){t.a?t.a.add(e):t.b=e}function nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=r(t.a.values()),a=o.next();!a.done;a=o.next())i=i.concat(a.value.i)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return E(t.c)}function on(){}function an(){this.a=new on}function sn(t,e,n){var r=n||"";try{ke(t,(function(t,n){var i=t;h(t)&&(i=Et(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ye.prototype.cancel=function(){var t,e;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},on.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},on.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var cn=s.JSON.parse;function ln(t){kt.call(this),this.headers=new Ce,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}_(ln,kt);var hn="",fn=/^https?$/i,dn=["POST","PUT"];function pn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,gn(t),mn(t)}function gn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function yn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=bn(t)||2!=t.S()))if(t.l&&4==bn(t))Ft(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==bn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Ie)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!fn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<bn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.S()+"]",gn(t)}}finally{mn(t)}}}function mn(t,e){if(t.a){_n(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function bn(t){return t.a?t.a.readyState:0}function wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):De(t,e,n))}function kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=kn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=kn("baseRetryDelayMs",5e3,t),this.Ga=kn("retryDelaySeedMs",1e4,t),this.Da=kn("forwardChannelMaxRetries",2,t),this.ga=kn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Ye(t&&t.concurrentRequestLimit),this.ja=new an,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function En(t){if(Sn(t),3==t.u){var e=t.H++,n=Pe(t.v);De(n,"SID",t.B),De(n,"RID",e),De(n,"TYPE","terminate"),An(t,n),(e=new ue(t,e,void 0)).B=2,e.f=Re(Pe(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=jn(e.g,null),e.a.$(e.f)),e.s=m(),ge(e)}Fn(t)}function Sn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(s.clearTimeout(t.i),t.i=null),Dn(t),t.b.cancel(),t.g&&("number"==typeof t.g&&s.clearTimeout(t.g),t.g=null)}function In(t,e){t.f.push(new Xe(t.Fa++,e)),3==t.u&&Tn(t)}function Tn(t){Ze(t.b)||t.g||(t.g=!0,Ot(t.xa,t),t.o=0)}function Pn(t,e){var n;n=e?e.W:t.H++;var r=Pe(t.v);De(r,"SID",t.B),De(r,"RID",n),De(r,"AID",t.G),An(t,r),t.h&&t.j&&wn(r,t.h,t.j),n=new ue(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=xn(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),en(t.b,n),fe(n,r,e)}function An(t,e){t.c&&ke({},(function(t,n){De(e,n,t)}))}function xn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?g(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{sn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function On(t){t.a||t.i||(t.J=1,Ot(t.wa,t),t.m=0)}function Nn(t){return!(t.a||t.i||3<=t.m||(t.J++,t.i=Zt(g(t.wa,t),Mn(t,t.m)),t.m++,0))}function Dn(t){null!=t.l&&(s.clearTimeout(t.l),t.l=null)}function Rn(t,e){var n=null;if(t.a==e){Dn(t),t.a=null;var r=2}else{if(!tn(t.b,e))return;n=e.i,nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=m()-e.s;var i=t.o;(r=Wt()).dispatchEvent(new $t(r,n,e,i)),Tn(t)}else On(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(Je(t.b)>=t.b.f-(t.g?1:0)||(t.g?(t.f=e.i.concat(t.f),0):1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)||(t.g=Zt(g(t.xa,t,e),Mn(t,t.o)),t.o++,0)))}(t,e)||2==r&&Nn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ln(t,5);break;case 4:Ln(t,10);break;case 3:Ln(t,6);break;default:Ln(t,2)}}function Mn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Ln(t,e){if(2==e){var n=null;t.c&&(n=null);var r=g(t.Ta,t);n||(n=new Te("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Ae(n,"https"),Re(n)),function(t,e){var n=new zt;if(s.Image){var r=new Image;r.onload=y(un,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(un,n,r,"TestLoadImage: error",!1,e),r.onabort=y(un,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(un,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yt(2);t.u=0,t.c&&t.c.la(e),Fn(t),Sn(t)}function Fn(t){t.u=0,t.A=-1,t.c&&(0==rn(t.b).length&&0==t.f.length||(t.b.c.length=0,E(t.f),t.f.length=0),t.c.ka())}function Un(t,e,n){var r=function(t){return t instanceof Te?Pe(t):new Te(t,void 0)}(n);if(""!=r.c)e&&xe(r,e+"."+r.c),Oe(r,r.h);else{var i=s.location;r=function(t,e,n,r){var i=new Te(null,void 0);return t&&Ae(i,t),e&&xe(i,e),n&&Oe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&N(t.N,(function(t,e){De(r,e,t)})),n=t.ha,(e=t.s)&&n&&De(r,e,n),De(r,"VER",t.oa),An(t,r),r}function jn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ln(t.Ea)).F=t.w,e}function Vn(){}function qn(){if(V&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function Hn(t,e){kt.call(this),this.a=new Cn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!S(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Gn(this)}function Bn(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function zn(){ae.call(this),this.status=1}function Gn(t){this.a=t}(i=ln.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.G?this.G:re),this.a.onreadystatechange=g(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void vn(this,o)}t=n||"";var i=new Ce(this.headers);r&&ke(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=pn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=w(dn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.B=function(t){return V&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.ta,this)):this.m=Ft(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vn(this,o)}},i.ta=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mn(this,!0)),ln.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?yn(this):this.Oa())},i.Oa=function(){yn(this)},i.S=function(){try{return 2<bn(this)?this.a.status:-1}catch(U){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},i.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cn(e)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=Cn.prototype).oa=8,i.u=1,i.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new ue(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?M(r=D(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=xn(this,n,e),De(i=Pe(this.v),"RID",t),De(i,"CVER",22),this.s&&De(i,"X-HTTP-Session-Id",this.s),An(this,i),this.h&&r&&wn(i,this.h,r),en(this.b,n),this.fa?(De(i,"$req",e),De(i,"SID","null"),n.R=!0,fe(n,i,null)):fe(n,i,e),this.u=2}}else 3==this.u&&(t?Pn(this,t):0==this.f.length||Ze(this.b)||Pn(this))},i.wa=function(){this.i=null,this.a=new ue(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Pe(this.ea);De(t,"RID","rpc"),De(t,"SID",this.B),De(t,"CI",this.U?"0":"1"),De(t,"AID",this.G),An(this,t),De(t,"TYPE","xmlhttp"),this.h&&this.j&&wn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Re(Pe(t)),e.j=null,e.F=!0,de(e,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Nn(this),Yt(19))},i.Ta=function(t){Yt(t?2:1)},(i=Vn.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},qn.prototype.a=function(t,e){return new Hn(t,e)},_(Hn,kt),(i=Hn.prototype).addEventListener=function(t,e,n,r){Hn.M.addEventListener.call(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){Hn.M.removeEventListener.call(this,t,e,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Yt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=Un(t,null,t.P),Tn(t)},i.close=function(){En(this.a)},i.La=function(t){if("string"==typeof t){var e={};e.__data__=t,In(this.a,e)}else this.g?((e={}).__data__=Et(t),In(this.a,e)):In(this.a,t)},i.C=function(){this.a.c=null,delete this.f,En(this.a),delete this.a,Hn.M.C.call(this)},_(Bn,oe),_(zn,ae),_(Gn,Vn),Gn.prototype.na=function(){this.a.dispatchEvent("a")},Gn.prototype.ma=function(t){this.a.dispatchEvent(new Bn(t))},Gn.prototype.la=function(t){this.a.dispatchEvent(new zn(t))},Gn.prototype.ka=function(){this.a.dispatchEvent("b")},qn.prototype.createWebChannel=qn.prototype.a,Hn.prototype.send=Hn.prototype.La,Hn.prototype.open=Hn.prototype.Ka,Hn.prototype.close=Hn.prototype.close,Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,te.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",kt.prototype.listen=kt.prototype.ra,ln.prototype.listenOnce=ln.prototype.sa,ln.prototype.getLastError=ln.prototype.Ma,ln.prototype.getLastErrorCode=ln.prototype.qa,ln.prototype.getStatus=ln.prototype.S,ln.prototype.getResponseJson=ln.prototype.Ja,ln.prototype.getResponseText=ln.prototype.Y,ln.prototype.send=ln.prototype.$;var Wn={createWebChannelTransport:function(){return new qn},ErrorCode:Jt,EventType:te,WebChannel:ne,XhrIo:ln},Kn=Wn.createWebChannelTransport,Qn=Wn.ErrorCode,Xn=Wn.EventType,Yn=Wn.WebChannel,$n=Wn.XhrIo;e.default=Wn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function a(t){setTimeout((function(){throw t}),0)}var s={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},u=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!==t&&"object"==typeof t}var l,h=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=((l=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(r(i))try{i.call(this)}catch(p){e=p instanceof h?d(p.errors):[p]}if(u(o))for(var s=-1,l=o.length;++s<l;){var f=o[s];if(c(f))try{f.unsubscribe()}catch(p){e=e||[],p instanceof h?e=e.concat(d(p.errors)):e.push(p)}}if(e)throw new h(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new l),l);function d(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!t){o.destination=s;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),t,r,i)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(f),g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,a=i.complete,i!==s&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=a,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(v),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(t){return t}function _(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b(e)}function b(t){return 0===t.length?m:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var w,k=((w=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof v)return t;if(t[p])return t[p]()}return t||e||n?new v(t,e,n):new v(s)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof v?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=C(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:b(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=C(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new w(t)},w);function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var E,S=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),I=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(f),T=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(v),P=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:p,value:function(){return new T(this)}},{key:"lift",value:function(t){var e=new A(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new S;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new I(this,t))}},{key:"asObservable",value:function(){var t=new k;return t.source=this,t}}]),n}(k)).create=function(t,e){return new A(t,e)},E),A=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):f.EMPTY}}]),n}(P);function x(t){return t&&"function"==typeof t.schedule}var O=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),N=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",R=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function M(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var L=function(t){if(t&&"function"==typeof t[y])return r=t,function(t){var e=r[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return N(t);if(M(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,a),t};if(t&&"function"==typeof t[D])return e=t,function(t){for(var n=e[D]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=c(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function F(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new O(t,n,r);if(!i.closed)return e instanceof k?e.subscribe(i):L(e)(i)}var U=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(v);function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}var V=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))}}]),t}(),q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(v);function H(t,e){return new k((function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){var i=t[y]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(M(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(R(t))return H(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k((function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[D](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof k?t:new k(L(t))}function z(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(z((function(n,r){return B(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new G(t,n))})}var G=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new W(t,this.project,this.concurrent))}}]),t}(),W=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new O(this,e,n),i=this.destination;i.add(r);var o=F(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(U);function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return z(m,t)}function Q(t,e){return e?H(t,e):new k(N(t))}function X(){return function(t){return t.lift(new $(t))}}var Y,$=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new Z(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),Z=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),J={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=f.EMPTY)),t}},{key:"refCount",value:function(){return X()(this)}}]),n}(k).prototype)._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}},tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(T);function et(){return new P}function nt(t){return{toString:t}.toString()}function rt(t,e,n){return nt((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var it=rt("Inject",(function(t){return{token:t}})),ot=rt("Optional"),at=rt("Self"),st=rt("SkipSelf"),ut=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(var e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function lt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function dt(t){return pt(t,t[gt])||pt(t,t[_t])}function pt(t,e){return e&&e.token===t?e:null}function vt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(bt))?t[yt]:null}var gt=ct({"\u0275prov":ct}),yt=ct({"\u0275inj":ct}),mt=ct({"\u0275provFallback":ct}),_t=ct({ngInjectableDef:ct}),bt=ct({ngInjectorDef:ct});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Ct=ct({__forward_ref__:ct});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return wt(this())},t}function St(t){return It(t)?t():t}function It(t){return"function"==typeof t&&t.hasOwnProperty(Ct)&&t.__forward_ref__===Et}var Tt,Pt="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,Nt=Pt||Ot||At||xt,Dt=ct({"\u0275cmp":ct}),Rt=ct({"\u0275dir":ct}),Mt=ct({"\u0275pipe":ct}),Lt=ct({"\u0275mod":ct}),Ft=ct({"\u0275loc":ct}),Ut=ct({"\u0275fac":ct}),jt=ct({__NG_ELEMENT_ID__:ct}),Vt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ht({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),qt=new Vt("INJECTOR",-1),Ht={},Bt=/\n/gm,zt=ct({provide:String,useValue:ct}),Gt=void 0;function Wt(t){var e=Gt;return Gt=t,e}function Kt(t){var e=Tt;return Tt=t,e}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default;if(void 0===Gt)throw new Error("inject() must be called from an injection context");return null===Gt?Yt(t,void 0,e):Gt.get(t,e&ut.Optional?null:void 0,e)}function Xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default;return(Tt||Qt)(St(t),e)}function Yt(t,e,n){var r=dt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ut.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(wt(t),"]"))}function $t(t){for(var e=[],n=0;n<t.length;n++){var r=St(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ut.Default,a=0;a<r.length;a++){var s=r[a];s instanceof ot||"Optional"===s.ngMetadataName||s===ot?o|=ut.Optional:s instanceof st||"SkipSelf"===s.ngMetadataName||s===st?o|=ut.SkipSelf:s instanceof at||"Self"===s.ngMetadataName||s===at?o|=ut.Self:i=s instanceof it||s===it?s.token:s}e.push(Xt(i,o))}else e.push(Xt(r))}return e}var Zt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht;if(e===Ht){var n=new Error("NullInjectorError: No provider for ".concat(wt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Jt=function t(){_classCallCheck(this,t)},te=function t(){_classCallCheck(this,t)};function ee(t,e){t.forEach((function(t){return Array.isArray(t)?ee(t,e):e(t)}))}function ne(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function re(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ie(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function oe(t,e,n){var r=se(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function ae(t,e){var n=se(t,e);if(n>=0)return t[1|n]}function se(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var ue=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ce=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),le={},he=[],fe=0;function de(t){return nt((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ue.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||he,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ce.Emulated,id:"c",styles:t.styles||he,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=fe++,i.inputs=me(t.inputs,r),i.outputs=me(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(pe)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(ve)}:null,i}))}function pe(t){return we(t)||function(t){return t[Rt]||null}(t)}function ve(t){return function(t){return t[Mt]||null}(t)}var ge={};function ye(t){var e={type:t.type,bootstrap:t.bootstrap||he,declarations:t.declarations||he,imports:t.imports||he,exports:t.exports||he,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt((function(){ge[t.id]=t.type})),e}function me(t,e){if(null==t)return le;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var _e=de;function be(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function we(t){return t[Dt]||null}function ke(t,e){return t.hasOwnProperty(Ut)?t[Ut]:null}function Ce(t,e){var n=t[Lt]||null;if(!n&&!0===e)throw new Error("Type ".concat(wt(t)," does not have '\u0275mod' property."));return n}function Ee(t){return Array.isArray(t)&&"object"==typeof t[1]}function Se(t){return Array.isArray(t)&&!0===t[1]}function Ie(t){return 0!=(8&t.flags)}function Te(t){return 2==(2&t.flags)}function Pe(t){return 1==(1&t.flags)}function Ae(t){return null!==t.template}function xe(t){return 0!=(512&t[2])}var Oe=void 0;function Ne(){return void 0!==Oe?Oe:"undefined"!=typeof document?document:void 0}function De(t){return!!t.listen}var Re={createRenderer:function(t,e){return Ne()}};function Me(t){for(;Array.isArray(t);)t=t[0];return t}function Le(t,e){return Me(e[t+20])}function Fe(t,e){return Me(e[t.index])}function Ue(t,e){return t.data[e+20]}function je(t,e){return t[e+20]}function Ve(t,e){var n=e[t];return Ee(n)?n:n[0]}function qe(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function He(t){return 4==(4&t[2])}function Be(t){return 128==(128&t[2])}function ze(t,e){return null===t||null==e?null:t[e]}function Ge(t){t[18]=0}function We(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Ke={lFrame:gn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Qe(){return Ke.bindingsEnabled}function Xe(){return Ke.lFrame.lView}function Ye(){return Ke.lFrame.tView}function $e(t){Ke.lFrame.contextLView=t}function Ze(){return Ke.lFrame.previousOrParentTNode}function Je(t,e){Ke.lFrame.previousOrParentTNode=t,Ke.lFrame.isParent=e}function tn(){return Ke.lFrame.isParent}function en(){Ke.lFrame.isParent=!1}function nn(){return Ke.checkNoChangesMode}function rn(t){Ke.checkNoChangesMode=t}function on(){var t=Ke.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function an(){return Ke.lFrame.bindingIndex++}function sn(t){var e=Ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function un(t,e){var n=Ke.lFrame;n.bindingIndex=n.bindingRootIndex=t,cn(e)}function cn(t){Ke.lFrame.currentDirectiveIndex=t}function ln(t){var e=Ke.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function hn(){return Ke.lFrame.currentQueryIndex}function fn(t){Ke.lFrame.currentQueryIndex=t}function dn(t,e){var n=vn();Ke.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function pn(t,e){var n=vn(),r=t[1];Ke.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function vn(){var t=Ke.lFrame,e=null===t?null:t.child;return null===e?gn(t):e}function gn(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function yn(){var t=Ke.lFrame;return Ke.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var mn=yn;function _n(){var t=yn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bn(){return Ke.lFrame.selectedIndex}function wn(t){Ke.lFrame.selectedIndex=t}function kn(){var t=Ke.lFrame;return Ue(t.tView,t.selectedIndex)}function Cn(){Ke.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function En(){Ke.lFrame.currentNamespace=null}function Sn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function In(t,e,n){An(t,e,3,n)}function Tn(t,e,n,r){(3&t[2])===n&&An(t,e,n,r)}function Pn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function An(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(xn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function xn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var On=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Nn(t,e,n){for(var r=De(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Rn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Dn(t){return 3===t||4===t||6===t}function Rn(t){return 64===t.charCodeAt(0)}function Mn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ln(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ln(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Fn(t){return-1!==t}function Un(t){return 32767&t}function jn(t){return t>>16}function Vn(t,e){for(var n=jn(t),r=e;n>0;)r=r[15],n--;return r}function qn(t){return"string"==typeof t?t:null==t?"":""+t}function Hn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qn(t)}var Bn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt);function zn(t){return t instanceof Function?t():t}var Gn=!0;function Wn(t){var e=Gn;return Gn=t,e}var Kn=0;function Qn(t,e){var n=Yn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Xn(r.data,t),Xn(e,null),Xn(r.blueprint,null));var i=$n(t,e),o=t.injectorIndex;if(Fn(i))for(var a=Un(i),s=Vn(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Xn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function $n(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Zn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[jt]:n.charCodeAt(0)||0;null==r&&(r=n[jt]=Kn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function Jn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ut.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[jt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){dn(e,t);try{var a=o();if(null!=a||r&ut.Optional)return a;throw new Error("No provider for ".concat(Hn(n),"!"))}finally{mn()}}else if("number"==typeof o){if(-1===o)return new ar(t,e);var s=null,u=Yn(t,e),c=-1,l=r&ut.Host?e[16][6]:null;for((-1===u||r&ut.SkipSelf)&&(c=-1===u?$n(t,e):e[u+8],or(r,!1)?(s=e[1],u=Un(c),e=Vn(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(ir(o,u,h.data)){var f=er(u,e,n,s,r,l);if(f!==tr)return f}or(r,e[1].data[u+8]===l)&&ir(o,u,e)?(s=h,u=Un(c),e=Vn(c,e)):u=-1}}}if(r&ut.Optional&&void 0===i&&(i=null),0==(r&(ut.Self|ut.Host))){var d=e[9],p=Kt(void 0);try{return d?d.get(n,i,r&ut.Optional):Yt(n,i,r&ut.Optional)}finally{Kt(p)}}if(r&ut.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Hn(n),"]"))}var tr={};function er(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=nr(s,a,n,null==r?Te(s)&&Gn:r!=a&&3===s.type,i&ut.Host&&o===s);return null!==u?rr(e,a,u,s):tr}function nr(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Ae(d)&&d.type===n)return u}return null}function rr(t,e,n,r){var i=t[n],o=e.data;if(i instanceof On){var a=i;if(a.resolving)throw new Error("Circular dep for "+Hn(o[n]));var s,u=Wn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=Kt(a.injectImpl)),dn(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&Kt(s),Wn(u),a.resolving=!1,mn()}}return i}function ir(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function or(t,e){return!(t&ut.Self||t&ut.Host&&e)}var ar=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return Jn(this._tNode,this._lView,t,void 0,e)}}]),t}();function sr(t){return nt((function(){var e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ut]||function t(e){var n=e;if(It(e))return function(){var e=t(St(n));return e?e():null};var r=ke(n);if(null===r){var i=vt(n);r=i&&i.factory}return r||null}(e);return null!==n?n:function(t){return new t}}))}function ur(t){return t.ngDebugContext}function cr(t){return t.ngOriginalError}function lr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var hr=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||lr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?ur(t)?ur(t):this._findContext(cr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=cr(t);e&&cr(e);)e=cr(e);return e}}]),t}(),fr=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),dr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(fr),pr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(fr),vr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(fr),gr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(fr),yr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(fr);function mr(t){return t instanceof fr?t.changingThisBreaksApplicationSecurity:t}function _r(t,e){var n=br(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function br(t){return t instanceof fr&&t.getTypeName()||null}var wr=!0,kr=!1;function Cr(){return kr=!0,wr}var Er=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Sr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tr(t){return(t=String(t)).match(Sr)||t.match(Ir)?t:(Cr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Pr(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Ar(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var xr,Or=Pr("area,br,col,hr,img,wbr"),Nr=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dr=Pr("rp,rt"),Rr=Ar(Dr,Nr),Mr=Ar(Or,Ar(Nr,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ar(Dr,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rr),Lr=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fr=Pr("srcset"),Ur=Ar(Lr,Fr,Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jr=Pr("script,style,template"),Vr=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Mr.hasOwnProperty(e))return this.sanitizedSomething=!0,!jr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Ur.hasOwnProperty(s)){var u=o.value;Lr[s]&&(u=Tr(u)),Fr[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Tr(t.trim())})).join(", ")),this.buf.push(" ",a,'="',Br(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Mr.hasOwnProperty(e)&&!Or.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Br(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),qr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hr=/([^\#-~ |!])/g;function Br(t){return t.replace(/&/g,"&amp;").replace(qr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Hr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zr(t,e){var n=null;try{xr=xr||new Er(t);var r=e?String(e):"";n=xr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=xr.getInertBodyElement(r)}while(r!==o);var a=new Vr,s=a.sanitizeChildren(Gr(n)||n);return Cr()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Gr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Kr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qr=/^url\(([^)]+)\)$/;function Xr(t){var e=$r();return e?e.sanitize(Wr.HTML,t)||"":_r(t,"HTML")?mr(t):zr(Ne(),qn(t))}function Yr(t){var e=$r();return e?e.sanitize(Wr.URL,t)||"":_r(t,"URL")?mr(t):Tr(qn(t))}function $r(){var t=Xe();return t&&t[12]}function Zr(t,e){t.__ngContext__=e}function Jr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function ti(){throw new Error("Cannot mix multi providers and regular providers")}function ei(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ni(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ei((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 0===t.type&&"ng-template"!==t.tagName}function ii(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function oi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Dn(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(ai(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(ai(r))return!1;a=!0}continue}var l=si(8&r?"class":u,i,ri(t),n);if(-1===l){if(ai(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ei(f,c,0)||2&r&&c!==h){if(ai(r))return!1;a=!0}}}}else{if(!a&&!ai(r)&&!ai(u))return!1;if(a&&ai(u))continue;a=!1,r=u|1&r}}return ai(r)||a}function ai(t){return 0==(1&t)}function si(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ai(a)||(e+=li(o,i),i=""),r=a,o=o||!ai(r);n++}return""!==i&&(e+=li(o,i)),e}var fi={};function di(t){var e=t[3];return Se(e)?e[3]:e}function pi(t){return gi(t[13])}function vi(t){return gi(t[4])}function gi(t){for(;null!==t&&!Se(t);)t=t[4];return t}function yi(t){mi(Ye(),Xe(),bn()+t,nn())}function mi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&In(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Tn(e,o,0,n)}wn(n)}function _i(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function wi(t){return 2|t}function ki(t){return(131068&t)>>2}function Ci(t,e){return-131069&t|e<<2}function Ei(t){return 1|t}function Si(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];fn(i),a.contentQueries(2,e[o],o)}}}function Ii(t,e,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ti(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ge(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Pi(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=Ze(),s=tn(),u=s?a:a&&a.parent,c=t.data[n]=Ui(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return Je(s,!0),s}function Ai(t,e,n){pn(e,e[6]);try{var r=t.viewQuery;null!==r&&ao(1,r,n);var i=t.template;null!==i&&Ni(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Si(t,e),t.staticViewQueries&&ao(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)eo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,_n()}}function xi(t,e,n,r){var i=e[2];if(256!=(256&i)){pn(e,e[6]);var o=nn();try{Ge(e),Ke.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ni(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&In(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Tn(e,u,0,null),Pn(e,0)}if(function(t){for(var e=pi(t);null!==e;e=vi(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&We(o,1),i[2]|=1024}}(e),function(t){for(var e=pi(t);null!==e;e=vi(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Be(r)&&xi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Si(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&In(e,c)}else{var l=t.contentHooks;null!==l&&Tn(e,l,1),Pn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(wn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(un(r,i),a(2,e[i])),i++)}}finally{wn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)to(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&ao(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&In(e,d)}else{var p=t.viewHooks;null!==p&&Tn(e,p,2),Pn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,We(e[3],-1))}finally{_n()}}}function Oi(t,e,n,r){var i=e[10],o=!nn(),a=He(e);try{o&&!a&&i.begin&&i.begin(),a&&Ai(t,e,r),xi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ni(t,e,n,r,i){var o=bn();try{wn(-1),2&r&&e.length>20&&mi(t,e,0,nn()),n(r,i)}finally{wn(o)}}function Di(t,e,n){if(Ie(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Ri(t,e,n){Qe()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Qn(n,e),Zr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Ae(u);c&&Yi(e,n,u);var l=rr(e,t,s,n);Zr(l,e),null!==a&&$i(0,s-i,l,u,0,a),c&&(Ve(n.index,e)[8]=l)}}(t,e,n,Fe(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=Ke.lFrame.currentDirectiveIndex;try{wn(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];cn(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?zi(l,h):a&&o.push(null)}}finally{wn(-1),cn(u)}}(t,e,n))}function Mi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Li(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fi(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:fi);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Ui(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ji(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Vi(t,e,n,r,i,o,a,s){var u,c=Fe(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(ho(t,n,u,r,i),Te(e)&&function(t,e){var n=Ve(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,De(o)?o.setProperty(c,r,i):Rn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function qi(t,e,n,r){var i=!1;if(Qe()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ui(n,a.selectors,!1)&&(i||(i=[]),Zn(Qn(n,e),t,a.type),Ae(a)?(2&n.flags&&Jr(n),Wi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,Qi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}Gi(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Mn(n.mergedAttrs,d.hostAttrs),Xi(t,e,d),Ki(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),Hi(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||ri(e)?null:Zi(l,i);o.push(h),a=ji(l,u,a),s=ji(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),Bi(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Mn(n.mergedAttrs,n.attrs),i}function Hi(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Bi(t,e,n){for(var r=0;r<n;r++)e.push(fi),t.blueprint.push(fi),t.data.push(null)}function zi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Gi(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Wi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ki(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ae(e)&&(n[""]=t)}}function Qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=ke(n.type)),i=new On(r,Ae(n),null);t.blueprint.push(i),e.push(i)}function Yi(t,e,n){var r=Fe(e,t),i=Li(n),o=t[10],a=no(t,Ti(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function $i(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Zi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function to(t,e){var n=Ve(e,t);if(Be(n)){var r=n[1];80&n[2]?xi(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=pi(e);null!==n;n=vi(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];xi(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Ve(a[s],e);Be(u)&&u[5]>0&&t(u)}}(n)}}function eo(t,e){var n=Ve(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ai(r,n,n[8])}function no(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ro(t){for(;t;){t[2]|=64;var e=di(t);if(xe(t)&&!e)return t;t=e}return null}function io(t,e,n){var r=e[10];r.begin&&r.begin();try{xi(t,e,t.template,n)}catch(i){throw lo(e,i),i}finally{r.end&&r.end()}}function oo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=qe(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function ao(t,e,n){fn(0),e(t,n)}var so=Promise.resolve(null);function uo(t){return t[7]||(t[7]=[])}function co(t){return t.cleanup||(t.cleanup=[])}function lo(t,e){var n=t[9],r=n?n.get(hr,null):null;r&&r.handleError(e)}function ho(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function fo(t,e){var n=e[3];return-1===t.index?Se(n)?n:null:n}function po(t,e){var n=fo(t,e);return n?Io(e[11],n[7]):null}function vo(t,e,n,r,i){if(null!=r){var o,a=!1;Se(r)?o=r:Ee(r)&&(a=!0,r=r[0]);var s=Me(r);0===t&&null!==n?null==i?Eo(e,n,s):Co(e,n,s,i||null):1===t&&null!==n?Co(e,n,s,i||null):2===t?function(t,e,n){var r=Io(t,e);r&&function(t,e,n,r){De(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Me(n)&&vo(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Oo(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function go(t,e,n,r){var i=po(t.node,e);i&&Oo(t,e,e[11],n?1:2,i,r)}function yo(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&We(e[3],-1),n.splice(r,1)}function mo(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&yo(i,r),e>0&&(t[n-1][4]=r[4]);var o=re(t,10+e);go(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function _o(t,e){if(!(256&e[2])){var n=e[11];De(n)&&n.destroyNode&&Oo(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return wo(t[1],t);for(;e;){var n=null;if(Ee(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ee(e)&&wo(e[1],e),e=bo(e,t);null===e&&(e=t),Ee(e)&&wo(e[1],e),n=e&&e[4]}e=n}}(e)}}function bo(t,e){var n;return Ee(t)&&(n=t[6])&&2===n.type?fo(n,t):t[3]===e?null:t[3]}function wo(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof On)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Me(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&De(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Se(e[3])){r!==e[3]&&yo(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function ko(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?po(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Fe(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==ce.ShadowDom&&a!==ce.Native)return null}return Fe(r,n)}function Co(t,e,n,r){De(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Eo(t,e,n){De(t)?t.appendChild(e,n):e.appendChild(n)}function So(t,e,n,r){null!==r?Co(t,e,n,r):Eo(t,e,n)}function Io(t,e){return De(t)?t.parentNode(e):e.parentNode}function To(t,e){if(2===t.type){var n=fo(t,e);return null===n?null:Ao(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Fe(t,e):null}function Po(t,e,n,r){var i=ko(t,r,e);if(null!=i){var o=e[11],a=To(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)So(o,i,n[s],a);else So(o,i,n,a)}}function Ao(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Fe(n,e);if(0===r)return Ao(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Se(o)?Ao(-1,o):Me(o)}var a=e[16],s=a[6],u=di(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function xo(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&Zr(Me(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(xo(t,e,n.child,r,i,o,!1),vo(e,t,i,s,o)):1===u?No(t,e,r,n,i,o):vo(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Oo(t,e,n,r,i,o){xo(n,r,t.node.child,e,i,o,!1)}function No(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)vo(e,t,i,s[u],o);else xo(t,e,s,a[3],i,o,!0)}function Do(t,e,n){De(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ro(t,e,n){De(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Mo,Lo,Fo,Uo=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}_o(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,uo(n=this._lView).push(r),e.firstCreatePass&&co(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){ro(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){io(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){rn(!0);try{io(t,e,n)}finally{rn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Oo(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Me(a)),Se(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=di(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),jo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){oo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){rn(!0);try{oo(t)}finally{rn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Uo);function Vo(t,e,n){return Mo||(Mo=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Mo(Fe(e,n))}function qo(t,e,n,r){return Lo||(Lo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Ti(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ai(e,n,t),new Uo(n)}}]),n}(t)),0===n.type?new Lo(r,n,Vo(e,n,r)):null}function Ho(t,e,n,r){var i;Fo||(Fo=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(Jt,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Se(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Fo(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ne(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),go(r,n,!0,Ao(s,this._lContainer)),t.attachToViewContainerRef(this),ne(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=mo(t,e);n&&_o(n[1],n)}(this._lContainer,e),re(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=mo(this._lContainer,e);return n&&null!=re(this._lContainer[8],e)?new Uo(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Vo(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new ar(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=$n(this._hostTNode,this._hostView),e=Vn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=jn(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Fn(t)&&null!=n?new ar(n,e):new ar(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Se(o))i=o;else{var a;if(4===n.type)a=Me(o);else if(a=r[11].createComment(""),xe(r)){var s=r[11],u=Fe(n,r);Co(s,Io(s,u),a,function(t,e){return De(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Po(r[1],r,a,n);r[n.index]=i=Ji(o,r,a,n),no(r,i)}return new Fo(i,n,r)}function Bo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Te(t)){var r=Ve(t.index,e);return new Uo(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Uo(e[16],e):null}(Ze(),Xe(),t)}var zo=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Go()},t}(),Go=Bo,Wo=new Vt("Set Injector scope."),Ko={},Qo={},Xo=[],Yo=void 0;function $o(){return void 0===Yo&&(Yo=new Zt),Yo}function Zo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Jo(t,n,e||$o(),r)}var Jo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ee(n,(function(t){return i.processProvider(t,e,n)})),ee([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(qt,na(void 0,this));var s=this.records.get(Wo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:wt(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.Default;this.assertNotDestroyed();var r,i=Wt(this);try{if(!(n&ut.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Vt)&&dt(t);o=a&&this.injectableDefInScope(a)?na(ta(t),Ko):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&ut.Self?$o():this.parent).get(t,e=n&ut.Optional&&e===Ht?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(wt(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):wt(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Bt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Wt(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(wt(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=St(t)))return!1;var i=vt(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=vt(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{ee(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;ee(i,(function(t){return r.processProvider(t,n,i||Xo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,na(i.factory,Ko));var h=i.providers;if(null!=h&&!s){var f=t;ee(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=ia(t=St(t))?t:St(t&&t.provide),i=function(t,e,n){return ra(t)?na(void 0,t.useValue):na(ea(t,e,n),Ko)}(t,e,n);if(ia(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&ti()}else{var a=this.records.get(r);a?void 0===a.multi&&ti():((a=na(void 0,Ko,!0)).factory=function(){return $t(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Qo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(wt(t)):e.value===Ko&&(e.value=Qo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function ta(t){var e=dt(t),n=null!==e?e.factory:ke(t);if(null!==n)return n;var r=vt(t);if(null!==r)return r.factory;if(t instanceof Vt)throw new Error("Token ".concat(wt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=ie(e,"?");throw new Error("Can't resolve all parameters for ".concat(wt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[gt]||t[_t]||t[mt]&&t[mt]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function ea(t,e,n){var r,i=void 0;if(ia(t)){var o=St(t);return ke(o)||ta(o)}if(ra(t))i=function(){return St(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray($t(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Xt(St(t.useExisting))};else{var a=St(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(wt(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return ke(a)||ta(a);i=function(){return _construct(a,_toConsumableArray($t(t.deps)))}}return i}function na(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function ra(t){return null!==t&&"object"==typeof t&&zt in t}function ia(t){return"function"==typeof t}var oa=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Zo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},aa=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?oa(t,e,""):oa(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Ht,t.NULL=new Zt,t.\u0275prov=ht({token:t,providedIn:"any",factory:function(){return Xt(qt)}}),t.__NG_ELEMENT_ID__=-1,t}(),sa=new Vt("AnalyzeForEntryComponents"),ua=new Map,ca=new Set;function la(t){return"string"==typeof t?t:t.text()}function ha(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=kt(i,s):2==o&&(r=kt(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var fa=null;function da(){if(!fa){var t=Nt.Symbol;if(t&&t.iterator)fa=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(fa=r)}}return fa}function pa(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var va=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ga(t){return!!ya(t)&&(Array.isArray(t)||!(t instanceof Map)&&da()in t)}function ya(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ma(t,e,n){return t[e]=n}function _a(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ba(t,e,n,r){var i=Xe();return _a(i,an(),e)&&(Ye(),function(t,e,n,r,i,o){var a=Fe(t,e),s=e[11];if(null==r)De(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?qn(r):i(r,t.tagName||"",n);De(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(kn(),i,t,e,n,r)),ba}function wa(t,e,n,r){return _a(t,an(),n)?e+qn(n)+r:fi}function ka(t,e,n,r,i,o,a,s){var u=Xe(),c=Ye(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Pi(e,n[6],t,0,a||null,ze(c,s));qi(e,n,l,ze(c,u)),Sn(e,l);var h=l.tViews=Fi(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Ui(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];Je(h,!1);var f=u[11].createComment("");Po(c,u,f,h),Zr(f,u),no(u,u[l]=Ji(f,u,f,h)),Pe(h)&&Ri(c,u,h),null!=a&&Mi(u,h,s)}function Ca(t){return je(Ke.lFrame.contextLView,t)}function Ea(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut.Default,n=Xe();return null==n?Xt(t,e):Jn(Ze(),n,St(t),e)}function Sa(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Dn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(Ze(),t)}function Ia(){throw new Error("invalid")}function Ta(t,e,n){var r=Xe();return _a(r,an(),e)&&Vi(Ye(),kn(),r,t,e,r[11],n,!1),Ta}function Pa(t,e,n,r,i){var o=i?"class":"style";ho(t,n,e.inputs[o],o,r)}function Aa(t,e,n,r){var i=Xe(),o=Ye(),a=20+t,s=i[11],u=i[a]=Ii(e,s,Ke.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=ze(s,o),c=Pi(e,n[6],t,3,i,u);return qi(e,n,c,ze(s,a)),null!==c.attrs&&ha(c,c.attrs,!1),null!==c.mergedAttrs&&ha(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];Je(c,!0);var l=c.mergedAttrs;null!==l&&Nn(s,u,l);var h=c.classes;null!==h&&Ro(s,u,h);var f=c.styles;null!==f&&Do(s,u,f),Po(o,i,u,c),0===Ke.lFrame.elementDepthCount&&Zr(u,i),Ke.lFrame.elementDepthCount++,Pe(c)&&(Ri(o,i,c),Di(o,c,i)),null!==r&&Mi(i,c)}function xa(){var t=Ze();tn()?en():Je(t=t.parent,!1);var e=t;Ke.lFrame.elementDepthCount--;var n=Ye();n.firstCreatePass&&(Sn(n,t),Ie(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Pa(n,e,Xe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Pa(n,e,Xe(),e.stylesWithoutHost,!1)}function Oa(t,e,n,r){Aa(t,e,n,r),xa()}function Na(t,e,n){var r=Xe(),i=Ye(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=ze(o,r),s=Pi(e,n[6],t,4,"ng-container",a);return null!==a&&ha(s,a,!0),qi(e,n,s,ze(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];Je(a,!0);var s=r[o]=r[11].createComment("");Po(i,r,s,a),Zr(s,r),Pe(a)&&(Ri(i,r,a),Di(i,a,r)),null!=n&&Mi(r,a)}function Da(){var t=Ze(),e=Ye();tn()?en():Je(t=t.parent,!1),e.firstCreatePass&&(Sn(e,t),Ie(t)&&e.queries.elementEnd(t))}function Ra(){return Xe()}function Ma(t){return!!t&&"function"==typeof t.then}function La(t){return!!t&&"function"==typeof t.subscribe}function Fa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Xe(),o=Ye(),a=Ze();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Pe(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=uo(e),h=!0;if(3===r.type){var f=Fe(r,e),d=s?s(f):le,p=d.target||f,v=l.length,g=s?function(t){return s(Me(t[r.index])).target}:r.index;if(De(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=ja(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=ja(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var C=e[_[k]][_[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],a,t,e,n,r),Fa}function Ua(t,e,n){try{return!1!==e(n)}catch(r){return lo(t,r),!1}}function ja(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Ve(t.index,e):e;0==(32&e[2])&&ro(a);for(var s=Ua(e,n,o),u=i.__ngNextListenerFn__;u;)s=Ua(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Va(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Ke.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ke.lFrame.contextLView))[8]}(t)}function qa(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?ui(t,o,!0):ci(r,o))return i}else n=i}return n}function Ha(t,e,n){return Ba(t,"",e,"",n),Ha}function Ba(t,e,n,r,i){var o=Xe(),a=wa(o,e,n,r);return a!==fi&&Vi(Ye(),kn(),o,t,a,o[11],i,!1),Ba}var za=[];function Ga(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?bi(o):ki(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Wa(t[s],e)&&(u=!0,t[s+1]=r?Ei(c):wi(c)),s=r?bi(c):ki(c)}u&&(t[n+1]=r?wi(o):Ei(o))}function Wa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&se(t,e)>=0}var Ka={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qa(t){return t.substring(Ka.key,Ka.keyEnd)}function Xa(t,e){var n=Ka.textEnd;return n===e?-1:(e=Ka.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ka.key=e,n),Ya(t,e,n))}function Ya(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function $a(t,e,n){return es(t,e,n,!1),$a}function Za(t,e){return es(t,e,null,!0),Za}function Ja(t){!function(t,e,n,r){var i=Ye(),o=sn(2);i.firstUpdatePass&&rs(i,null,o,!0);var a=Xe();if(n!==fi&&_a(a,o,n)){var s=i.data[bn()+20];if(cs(s,!0)&&!ns(i,o)){var u=s.classesWithoutHost;null!==u&&(n=kt(u,n||"")),Pa(i,s,a,n,!0)}else!function(t,e,n,r,i,o,a,s){i===fi&&(i=za);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&as(t,e,n,r,p,v,!0,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return za;var r=[],i=mr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(oe,ts,t)}function ts(t,e){for(var n=function(t){return function(t){Ka.key=0,Ka.keyEnd=0,Ka.value=0,Ka.valueEnd=0,Ka.textEnd=t.length}(t),Xa(t,Ya(t,0,Ka.textEnd))}(e);n>=0;n=Xa(e,n))oe(t,Qa(e),!0)}function es(t,e,n,r){var i,o,a=Xe(),s=Ye(),u=sn(2);(s.firstUpdatePass&&rs(s,t,u,r),e!==fi&&_a(a,u,e))&&(null==n&&(i=null===(o=Ke.lFrame)?null:o.currentSanitizer)&&(n=i),as(s,s.data[bn()+20],a,a[11],t,a[u+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(mr(t)))),t}(e,n),r,u))}function ns(t,e){return e>=t.expandoStartIndex}function rs(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[bn()+20],a=ns(t,n);cs(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=ln(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=os(n=is(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=is(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==ki(r))return t[bi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[bi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=os(s=is(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=os(r,t[o].hostAttrs,n);return os(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=bi(a),u=ki(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||se(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=bi(t[s+1]);t[r+1]=_i(f,s),0!==f&&(t[f+1]=Ci(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=_i(s,0),0!==s&&(t[s+1]=Ci(t[s+1],r)),s=r;else t[r+1]=_i(u,0),0===s?s=r:t[u+1]=Ci(t[u+1],r),u=r;l&&(t[r+1]=wi(t[r+1])),Ga(t,c,r,!0),Ga(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&se(o,e)>=0&&(n[r+1]=Ei(n[r+1]))}(e,c,t,r,o),a=_i(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function is(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=os(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function os(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oe(t,a,!!n||e[++o]))}return void 0===t?null:t}function as(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];us(1==(1&c)?ss(u,e,n,i,ki(c),a):void 0)||(us(o)||2==(2&c)&&(o=ss(u,null,n,i,s,a)),function(t,e,n,r,i){var o=De(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Le(bn(),n),i,o))}}function ss(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===fi&&(f=h?za:void 0);var d=h?ae(f,r):l===r?f:void 0;if(c&&!us(d)&&(d=ae(u,r)),us(d)&&(s=d,a))return s;var p=t[i+1];i=a?bi(p):ki(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=ae(v,r))}return s}function us(t){return void 0!==t}function cs(t,e){return 0!=(t.flags&(e?16:32))}function ls(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Xe(),r=Ye(),i=t+20,o=r.firstCreatePass?Pi(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return De(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Po(r,n,a,o),Je(o,!1)}function hs(t){return fs("",t,""),hs}function fs(t,e,n){var r=Xe(),i=wa(r,t,e,n);return i!==fi&&function(t,e,n){var r=Le(e,t),i=t[11];De(i)?i.setValue(r,n):r.textContent=n}(r,bn(),i),fs}function ds(t,e,n){var r=Xe();return _a(r,an(),e)&&Vi(Ye(),kn(),r,t,e,r[11],n,!0),ds}function ps(t,e,n){var r=Xe();if(_a(r,an(),e)){var i=Ye(),o=kn();Vi(i,o,r,t,e,function(t,e,n){return(null===t||Ae(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(ln(i.data),o,r),n,!0)}return ps}function vs(t,e){var n=qe(t)[1],r=n.data.length-1;Sn(n,{directiveStart:r,directiveEnd:r+1})}function gs(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=ys(t.inputs),o.declaredInputs=ys(t.declaredInputs),o.outputs=ys(t.outputs);var a=i.hostBindings;a&&bs(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&ms(t,s),u&&_s(t,u),lt(t.inputs,i.inputs),lt(t.declaredInputs,i.declaredInputs),lt(t.outputs,i.outputs),Ae(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===gs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mn(i.hostAttrs,n=Mn(n,i.hostAttrs))}}(r)}function ys(t){return t===le?{}:t===he?[]:t}function ms(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function _s(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function bs(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ws=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function ks(t){t.type.prototype.ngOnChanges&&(t.setInput=Cs,t.onChanges=function(){var t=Es(this),e=t&&t.current;if(e){var n=t.previous;if(n===le)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Cs(t,e,n,r){var i=Es(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:le,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new ws(u&&u.currentValue,e,a===le),t[r]=e}function Es(t){return t.__ngSimpleChanges__||null}function Ss(t,e,n,r,i){if(t=St(t),Array.isArray(t))for(var o=0;o<t.length;o++)Ss(t[o],e,n,r,i);else{var a=Ye(),s=Xe(),u=ia(t)?t:St(t.provide),c=ea(t),l=Ze(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(ia(t)||!t.multi){var p=new On(c,i,Ea),v=Ps(u,e,i?h:h+d,f);-1===v?(Zn(Qn(l,s),a,u),Is(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=Ps(u,e,h+d,f),y=Ps(u,e,h,h+d),m=g>=0&&n[g],_=y>=0&&n[y];if(i&&!_||!i&&!m){Zn(Qn(l,s),a,u);var b=function(t,e,n,r,i){var o=new On(t,n,Ea);return o.multi=[],o.index=e,o.componentProviders=0,Ts(o,i,r&&!n),o}(i?xs:As,n.length,i,r,c);!i&&_&&(n[y].providerFactory=b),Is(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else Is(a,t,g>-1?g:y,Ts(n[i?y:g],c,!i&&r));!i&&r&&_&&n[y].componentProviders++}}}function Is(t,e,n,r){var i=ia(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Ts(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ps(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function As(t,e,n,r){return Os(this.multi,[])}function xs(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=rr(n,n[1],this.providerFactory.index,r);Os(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Os(o,i=[]);return i}function Os(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ns(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Ye();if(r.firstCreatePass){var i=Ae(t);Ss(n,r.data,r.blueprint,i,!0),Ss(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}ks.ngInherit=!0;var Ds=function t(){_classCallCheck(this,t)},Rs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(wt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Ms=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Rs,t}(),Ls=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Fs(t)},t}(),Fs=function(t){return Vo(t,Ze(),Xe())},Us=function t(){_classCallCheck(this,t)},js=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Vs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return qs()},t}(),qs=function(){var t=Xe(),e=Ve(Ze().index,t);return function(t){var e=t[11];if(De(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ee(e)?e:t)},Hs=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return null}}),t}(),Bs=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},zs=new Bs("9.1.11"),Gs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return ga(t)}},{key:"create",value:function(t){return new Ks(t)}}]),t}(),Ws=function(t,e){return e},Ks=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ws}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<$s(n,r,i)?e:n,a=$s(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ga(t))throw new Error("Error trying to diff '".concat(wt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&pa(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),pa(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[da()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&pa(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),pa(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(pa(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(pa(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Qs(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ys),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ys),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Qs=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Xs=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&pa(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ys=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Xs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function $s(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Zs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||ya(t)}},{key:"create",value:function(){return new Js}}]),t}(),Js=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ya(t)))throw new Error("Error trying to diff '".concat(wt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new tu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){pa(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),tu=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},eu=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new st,new ot]]}}}]),t}();return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return new t([new Gs])}}),t}(),nu=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new st,new ot]]}}}]),t}();return t.\u0275prov=ht({token:t,providedIn:"root",factory:function(){return new t([new Zs])}}),t}(),ru=[new Zs],iu=new eu([new Gs]),ou=new nu(ru),au=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return su(t,Ls)},t}(),su=function(t,e){return qo(t,e,Ze(),Xe())},uu=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return cu(t,Ls)},t}(),cu=function(t,e){return Ho(t,e,Ze(),Xe())},lu={},hu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=we(t);return new pu(e,this.ngModule)}}]),n}(Ms);function fu(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var du=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Bn}}),pu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(hi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,lu,i);return o!==lu||r===lu?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Us,Re),u=a.get(Hs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(De(t))return t.selectRootElement(e,n===ce.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Ii(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Bn,clean:so,playerHandler:null,flags:0},v=Fi(0,-1,null,1,0,null,null,null,null,null),g=Ti(null,v,p,f,null,null,s,c,u,a);pn(g,null);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Pi(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(ha(s,u,!0),null!==t&&(Nn(i,t,u),null!==s.classes&&Ro(i,t,s.classes),null!==s.styles&&Do(i,t,s.styles)));var c=r.createRenderer(t,e),l=Ti(n,Li(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(Zn(Qn(s,n),a,e.type),Wi(a,s),Qi(s,n.length,1)),no(n,l),n[20]=l}(h,this.componentDef,g,s,c);if(h)if(n)Nn(c,h,["ng-version",zs.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&Nn(c,h,_),b&&b.length>0&&Ro(c,h,b.join(" "))}if(o=Ue(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=Ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gi(t,r,1),Xi(t,e,n));var i=rr(e,t,e.length-1,r);Zr(i,e);var o=Fe(r,e);return o&&Zr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=Ze();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){wn(s.index-20);var u=n[1];Hi(u,e),Bi(u,n,e.hostVars),zi(e,a)}return a}(y,this.componentDef,g,p,[vs]),Ai(v,g,null)}finally{_n()}var E=new vu(this.componentType,i,Vo(Ls,o,g),g,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return fu(this.componentDef.inputs)}},{key:"outputs",get:function(){return fu(this.componentDef.outputs)}}]),n}(Ds),vu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new jo(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=Ui(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new ar(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),gu=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],yu={};function mu(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=_u(e);if(n)return n;var r=e.split("-")[0];if(n=_u(r))return n;if("en"===r)return gu;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function _u(t){return t in yu||(yu[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),yu[t]}var bu=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function wu(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ku=new Map,Cu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new hu(_assertThisInitialized(i));var o=Ce(t),a=t[Ft]||null;return a&&wu(a),i._bootstrapComponents=zn(o.bootstrap),i._r3Injector=Zo(t,r,[{provide:Jt,useValue:_assertThisInitialized(i)},{provide:Ms,useValue:i.componentFactoryResolver}],wt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aa.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.Default;return t===aa||t===Jt||t===qt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Jt),Eu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Ce(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(wt(e)," vs ").concat(wt(e.name)))})(n,ku.get(n),e),ku.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new Cu(this.moduleType,t)}}]),n}(te);function Su(t,e,n){var r=on()+t,i=Xe();return i[r]===fi?ma(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Iu(t,e,n,r){return Pu(Xe(),on(),t,e,n,r)}function Tu(t,e){var n=t[e];return n===fi?void 0:n}function Pu(t,e,n,r,i,o){var a=e+n;return _a(t,a,i)?ma(t,a+1,o?r.call(o,i):r(i)):Tu(t,a+1)}function Au(t,e,n,r,i,o,a){var s=e+n;return function(t,e,n,r){var i=_a(t,e,n);return _a(t,e+1,r)||i}(t,s,i,o)?ma(t,s+2,a?r.call(a,i,o):r(i,o)):Tu(t,s+2)}function xu(t,e){var n,r=Ye(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=ke(n.type)),a=Kt(Ea),s=Wn(!1),u=o();return Wn(s),Kt(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,Xe(),t,u),u}function Ou(t,e,n){var r=Xe(),i=je(r,t);return Ru(r,Du(r,t)?Pu(r,on(),e,i.transform,n,i):i.transform(n))}function Nu(t,e,n,r){var i=Xe(),o=je(i,t);return Ru(i,Du(i,t)?Au(i,on(),e,o.transform,n,r,o):o.transform(n,r))}function Du(t,e){return t[1].data[e+20].pure}function Ru(t,e){return va.isWrapped(e)&&(e=va.unwrap(e),t[Ke.lFrame.bindingIndex]=fi),e}var Mu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof f&&t.add(s),s}}]),n}(P);function Lu(){return this._results[da()]()}var Fu=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Mu,this.length=0;var e=da(),n=t.prototype;n[e]||(n[e]=Lu)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Uu=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),ju=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Xu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Vu=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},qu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Hu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Bu(e,n[r]));else{var i=this.metadata.predicate;i===au?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,nr(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ls||r===uu||r===au&&0===e.type)this.addMatch(e.index,-2);else{var i=nr(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Bu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function zu(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Vo(Ls,t,e):0===t.type?qo(au,Ls,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ls?Vo(Ls,e,t):n===au?qo(au,Ls,e,t):n===uu?Ho(uu,Ls,e,t):void 0}(t,e,r):rr(t,t[1],n,e)}function Gu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:zu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Wu(t){var e=Xe(),n=Ye(),r=hn();fn(r+1);var i=Xu(n,r);if(t.dirty&&He(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Gu(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];t(g[1],g,l,i)}}}return i}(n,e,r,[]):Gu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ku(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new qu),t.queries.track(new Hu(e,n))}(t,new Vu(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new Fu;!function(t,e,n,r){var i=uo(e);i.push(n),t.firstCreatePass&&co(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new ju),e[19].queries.push(new Uu(n))}(t,e)}(Ye(),Xe(),e,n,r,0,Ze(),t)}function Qu(){return t=Xe(),e=hn(),t[19].queries[e].queryList;var t,e}function Xu(t,e){return t.queries.getByIndex(e)}function Yu(t,e){return qo(au,Ls,t,e)}var $u=new Vt("Application Initializer"),Zu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ma(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt($u,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),Ju=new Vt("AppId"),tc={provide:Ju,useFactory:function(){return"".concat(ec()).concat(ec()).concat(ec())},deps:[]};function ec(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var nc=new Vt("Platform Initializer"),rc=new Vt("Platform ID"),ic=new Vt("appBootstrapListener"),oc=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),ac=new Vt("LocaleId"),sc=new Vt("DefaultCurrencyCode"),uc=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},cc=function(t){return new Eu(t)},lc=cc,hc=function(t){return Promise.resolve(cc(t))},fc=function(t){var e=cc(t),n=zn(Ce(t).declarations).reduce((function(t,e){var n=we(e);return n&&t.push(new pu(n)),t}),[]);return new uc(e,n)},dc=fc,pc=function(t){return Promise.resolve(fc(t))},vc=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=lc,this.compileModuleAsync=hc,this.compileModuleAndAllComponentsSync=dc,this.compileModuleAndAllComponentsAsync=pc}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),gc=new Vt("compilerOptions"),yc=Promise.resolve(0);function mc(t){"undefined"==typeof Zone?yc.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var _c=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mu(!1),this.onMicrotaskEmpty=new Mu(!1),this.onStable=new Mu(!1),this.onError=new Mu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Nt.requestAnimationFrame,e=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,(function(){t.lastRequestAnimationFrameId=-1,Cc(t),kc(t)})),Cc(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return Ec(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Sc(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return Ec(n),t.invoke(r,i,o,a,s)}finally{Sc(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Cc(n),kc(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,wc,bc,bc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function bc(){}var wc={};function kc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Cc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ec(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sc(t){t._nesting--,kc(t)}var Ic,Tc=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mu,this.onMicrotaskEmpty=new Mu,this.onStable=new Mu,this.onError=new Mu}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Pc=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){_c.assertNotInAngularZone(),mc((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())mc((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt(_c))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),Ac=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,xc.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return xc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}(),xc=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Oc=function(t,e,n){var r=t.get(gc,[]).concat(e),i=new Eu(n);if(0===ua.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=Nt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=aa.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(la))}return e}return ua.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){ca.delete(t)}(n)}));e.push(u)})),ua=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Nc=new Vt("AllowMultipleToken"),Dc=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function Rc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new Vt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Mc();if(!o||o.injector.get(Nc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Wo,useValue:"platform"});!function(t){if(Ic&&!Ic.destroyed&&!Ic.injector.get(Nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ic=t.get(Lc);var e=t.get(nc,null);e&&e.forEach((function(t){return t()}))}(aa.create({providers:a,name:r}))}return function(t){var e=Mc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Mc(){return Ic&&!Ic.destroyed?Ic:null}var Lc=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Tc:("zone.js"===n?void 0:n)||new _c({enableLongStackTrace:Cr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:_c,useValue:o}];return o.run((function(){var e=aa.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(hr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Vc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Zu)).runInitializers(),a.donePromise.then((function(){return wu(n.injector.get(ac,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Ma(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Fc({},n);return Oc(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(jc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(wt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt(aa))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}();function Fc(t,e){return Array.isArray(e)?e.reduce(Fc,t):Object.assign(Object.assign({},t),e)}var Uc,jc=((Uc=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Cr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new k((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),c=new k((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){_c.assertNotInAngularZone(),mc((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){_c.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return x(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof k?e[0]:K(r)(Q(e,i))}(u,c.pipe((function(t){return X()((e=et,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,J);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ds?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Jt),o=n.create(aa.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Pc,null);return a&&o.injector.get(Ac).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Cr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Vc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ic,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Vc(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Uc)(Xt(_c),Xt(oc),Xt(aa),Xt(hr),Xt(Ms),Xt(Zu))},Uc.\u0275prov=ht({token:Uc,factory:Uc.\u0275fac}),Uc);function Vc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var qc=function t(){_classCallCheck(this,t)},Hc=function t(){_classCallCheck(this,t)},Bc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},zc=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Bc}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Gc(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Gc(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Xt(vc),Xt(Hc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t}();function Gc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Wc=Rc(null,"core",[{provide:rc,useValue:"unknown"},{provide:Lc,deps:[aa]},{provide:Ac,deps:[]},{provide:oc,deps:[]}]),Kc=[{provide:jc,useClass:jc,deps:[_c,oc,aa,hr,Ms,Zu]},{provide:du,deps:[_c],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Zu,useClass:Zu,deps:[[new ot,$u]]},{provide:vc,useClass:vc,deps:[]},tc,{provide:eu,useFactory:function(){return iu},deps:[]},{provide:nu,useFactory:function(){return ou},deps:[]},{provide:ac,useFactory:function(t){return wu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new it(ac),new ot,new st]]},{provide:sc,useValue:"USD"}],Qc=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=ye({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Xt(jc))},providers:Kc}),t}(),Xc={apiKey:"AIzaSyDwR0x3roioa6ZuEmOm8UwKTvmc08WDSfk",authDomain:"write-your-heart-out-b338b.firebaseapp.com",databaseURL:"https://write-your-heart-out-b338b.firebaseio.com",projectId:"write-your-heart-out-b338b",storageBucket:"write-your-heart-out-b338b.appspot.com",messagingSenderId:"451879950201",appId:"1:451879950201:web:b6e98720e6f8f2199201a8",measurementId:"G-L1B51XC9TV"},Yc=null;function $c(){return Yc}var Zc,Jc=new Vt("DocumentToken"),tl=((Zc=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Zc)},Zc.\u0275prov=ht({factory:el,token:Zc,providedIn:"platform"}),Zc);function el(){return Xt(il)}var nl,rl=new Vt("Location Initialized"),il=((nl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=$c().getLocation(),this._history=$c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return $c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){$c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){$c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){ol()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){ol()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(tl)).\u0275fac=function(t){return new(t||nl)(Xt(Jc))},nl.\u0275prov=ht({factory:al,token:nl,providedIn:"platform"}),nl);function ol(){return!!window.history.pushState}function al(){return new il(Xt(Jc))}function sl(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ul(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function cl(t){return t&&"?"!==t[0]?"?"+t:t}var ll,hl=((ll=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ll)},ll.\u0275prov=ht({factory:fl,token:ll,providedIn:"root"}),ll);function fl(t){var e=Xt(Jc).location;return new yl(Xt(tl),e&&e.origin||"")}var dl,pl,vl,gl=new Vt("appBaseHref"),yl=((vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return sl(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+cl(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+cl(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+cl(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(hl)).\u0275fac=function(t){return new(t||vl)(Xt(tl),Xt(gl,8))},vl.\u0275prov=ht({token:vl,factory:vl.\u0275fac}),vl),ml=((pl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=sl(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+cl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+cl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(hl)).\u0275fac=function(t){return new(t||pl)(Xt(tl),Xt(gl,8))},pl.\u0275prov=ht({token:pl,factory:pl.\u0275fac}),pl),_l=((dl=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._subject=new Mu,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=ul(wl(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+cl(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,wl(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cl(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cl(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||dl)(Xt(hl),Xt(tl))},dl.normalizeQueryParams=cl,dl.joinWithSlash=sl,dl.stripTrailingSlash=ul,dl.\u0275prov=ht({factory:bl,token:dl,providedIn:"root"}),dl);function bl(){return new _l(Xt(hl),Xt(tl))}function wl(t){return t.replace(/\/index.html$/,"")}var kl=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Cl=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),El=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),Sl=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Il=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function Tl(t,e){return Nl(mu(t)[bu.DateFormat],e)}function Pl(t,e){return Nl(mu(t)[bu.TimeFormat],e)}function Al(t,e){return Nl(mu(t)[bu.DateTimeFormat],e)}function xl(t,e){var n=mu(t),r=n[bu.NumberSymbols][e];if(void 0===r){if(e===Il.CurrencyDecimal)return n[bu.NumberSymbols][Il.Decimal];if(e===Il.CurrencyGroup)return n[bu.NumberSymbols][Il.Group]}return r}function Ol(t){if(!t[bu.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[bu.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Nl(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Dl(t){var e=_slicedToArray(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var Rl=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ml={},Ll=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fl=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Ul=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),jl=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Vl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function ql(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function Hl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(t,e){switch(t){case Ul.FullYear:return e.getFullYear();case Ul.Month:return e.getMonth();case Ul.Date:return e.getDate();case Ul.Hours:return e.getHours();case Ul.Minutes:return e.getMinutes();case Ul.Seconds:return e.getSeconds();case Ul.FractionalSeconds:return e.getMilliseconds();case Ul.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===Ul.Hours)0===u&&-12===n&&(u=12);else if(t===Ul.FractionalSeconds)return s=e,ql(u,3).substr(0,s);var c=xl(a,Il.MinusSign);return ql(u,e,c,r,i)}}function Bl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cl.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(t,e,n,r,i,o){switch(n){case jl.Months:return function(t,e,n){var r=mu(t),i=Nl([r[bu.MonthsFormat],r[bu.MonthsStandalone]],e);return Nl(i,n)}(e,i,r)[t.getMonth()];case jl.Days:return function(t,e,n){var r=mu(t),i=Nl([r[bu.DaysFormat],r[bu.DaysStandalone]],e);return Nl(i,n)}(e,i,r)[t.getDay()];case jl.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var u,c=function(t){var e=mu(t);return Ol(e),(e[bu.ExtraData][2]||[]).map((function(t){return"string"==typeof t?Dl(t):[Dl(t[0]),Dl(t[1])]}))}(e),l=function(t,e,n){var r=mu(t);Ol(r);var i=Nl([r[bu.ExtraData][0],r[bu.ExtraData][1]],e)||[];return Nl(i,n)||[]}(e,i,r);if(c.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],c=o.hours,h=o.minutes;a>=r&&s>=i&&(a<c||a===c&&s<h)&&(u=l[e])}else{var f=t.hours,d=t.minutes;f===a&&d===s&&(u=l[e])}})),u)return u}return function(t,e,n){var r=mu(t),i=Nl([r[bu.DayPeriodsFormat],r[bu.DayPeriodsStandalone]],e);return Nl(i,n)}(e,i,r)[a<12?0:1];case jl.Eras:return function(t,e){return Nl(mu(t)[bu.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function zl(t){return function(e,n,r){var i=-1*r,o=xl(n,Il.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Fl.Short:return(i>=0?"+":"")+ql(a,2,o)+ql(Math.abs(i%60),2,o);case Fl.ShortGMT:return"GMT"+(i>=0?"+":"")+ql(a,1,o);case Fl.Long:return"GMT"+(i>=0?"+":"")+ql(a,2,o)+":"+ql(Math.abs(i%60),2,o);case Fl.Extended:return 0===r?"Z":(i>=0?"+":"")+ql(a,2,o)+":"+ql(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Gl(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return ql(i,t,xl(r,Il.MinusSign))}}var Wl={};function Kl(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Ql(t){return t instanceof Date&&!isNaN(t.valueOf())}var Xl,Yl=function t(){_classCallCheck(this,t)},$l=((Xl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return mu(t)[bu.PluralCase]}(e||this.locale)(t)){case kl.Zero:return"zero";case kl.One:return"one";case kl.Two:return"two";case kl.Few:return"few";case kl.Many:return"many";default:return"other"}}}]),n}(Yl)).\u0275fac=function(t){return new(t||Xl)(Xt(ac))},Xl.\u0275prov=ht({token:Xl,factory:Xl.\u0275fac}),Xl);function Zl(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var Jl,th,eh,nh=((Jl=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+wt(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ga(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||Jl)(Ea(eu),Ea(nu),Ea(Ls),Ea(Vs))},Jl.\u0275dir=_e({type:Jl,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Jl),rh=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),ih=((th=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new rh(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new oh(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new oh(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Cr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||th)(Ea(uu),Ea(au),Ea(eu))},th.\u0275dir=_e({type:th,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),th),oh=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},ah=((eh=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new sh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){uh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){uh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||eh)(Ea(uu),Ea(au))},eh.\u0275dir=_e({type:eh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),eh),sh=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function uh(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(wt(e),"'."))}function ch(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(wt(t),"'"))}var lh,hh,fh,dh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),ph=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),vh=new dh,gh=((fh=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):pa(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,va.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Ma(e))return ph;if(La(e))return vh;throw ch(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||fh)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.Default,e=Bo(!0);if(null!=e||t&ut.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},fh.\u0275pipe=be({name:"async",type:fh,pure:!1}),fh),yh=((hh=function(){function t(e){_classCallCheck(this,t),this.locale=e}return _createClass(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){var i=function(t){if(Ql(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=_slicedToArray(t.split("-").map((function(t){return+t})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(e=t.match(Rl))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(e)}var s=new Date(t);if(!Ql(s))throw new Error('Unable to convert "'.concat(t,'" into a date'));return s}(t);e=function t(e,n){var r=function(t){return mu(t)[bu.LocaleId]}(e);if(Ml[r]=Ml[r]||{},Ml[r][n])return Ml[r][n];var i="";switch(n){case"shortDate":i=Tl(e,Sl.Short);break;case"mediumDate":i=Tl(e,Sl.Medium);break;case"longDate":i=Tl(e,Sl.Long);break;case"fullDate":i=Tl(e,Sl.Full);break;case"shortTime":i=Pl(e,Sl.Short);break;case"mediumTime":i=Pl(e,Sl.Medium);break;case"longTime":i=Pl(e,Sl.Long);break;case"fullTime":i=Pl(e,Sl.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=Vl(Al(e,Sl.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");i=Vl(Al(e,Sl.Medium),[s,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");i=Vl(Al(e,Sl.Long),[c,l]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=Vl(Al(e,Sl.Full),[h,f])}return i&&(Ml[r][n]=i),i}(n,e)||e;for(var o,a=[];e;){if(!(o=Ll.exec(e))){a.push(e);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;e=s}var u=i.getTimezoneOffset();r&&(u=Kl(r,u),i=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Kl(e,r)-r))}(i,r));var c="";return a.forEach((function(t){var e=function(t){if(Wl[t])return Wl[t];var e;switch(t){case"G":case"GG":case"GGG":e=Bl(jl.Eras,El.Abbreviated);break;case"GGGG":e=Bl(jl.Eras,El.Wide);break;case"GGGGG":e=Bl(jl.Eras,El.Narrow);break;case"y":e=Hl(Ul.FullYear,1,0,!1,!0);break;case"yy":e=Hl(Ul.FullYear,2,0,!0,!0);break;case"yyy":e=Hl(Ul.FullYear,3,0,!1,!0);break;case"yyyy":e=Hl(Ul.FullYear,4,0,!1,!0);break;case"M":case"L":e=Hl(Ul.Month,1,1);break;case"MM":case"LL":e=Hl(Ul.Month,2,1);break;case"MMM":e=Bl(jl.Months,El.Abbreviated);break;case"MMMM":e=Bl(jl.Months,El.Wide);break;case"MMMMM":e=Bl(jl.Months,El.Narrow);break;case"LLL":e=Bl(jl.Months,El.Abbreviated,Cl.Standalone);break;case"LLLL":e=Bl(jl.Months,El.Wide,Cl.Standalone);break;case"LLLLL":e=Bl(jl.Months,El.Narrow,Cl.Standalone);break;case"w":e=Gl(1);break;case"ww":e=Gl(2);break;case"W":e=Gl(1,!0);break;case"d":e=Hl(Ul.Date,1);break;case"dd":e=Hl(Ul.Date,2);break;case"E":case"EE":case"EEE":e=Bl(jl.Days,El.Abbreviated);break;case"EEEE":e=Bl(jl.Days,El.Wide);break;case"EEEEE":e=Bl(jl.Days,El.Narrow);break;case"EEEEEE":e=Bl(jl.Days,El.Short);break;case"a":case"aa":case"aaa":e=Bl(jl.DayPeriods,El.Abbreviated);break;case"aaaa":e=Bl(jl.DayPeriods,El.Wide);break;case"aaaaa":e=Bl(jl.DayPeriods,El.Narrow);break;case"b":case"bb":case"bbb":e=Bl(jl.DayPeriods,El.Abbreviated,Cl.Standalone,!0);break;case"bbbb":e=Bl(jl.DayPeriods,El.Wide,Cl.Standalone,!0);break;case"bbbbb":e=Bl(jl.DayPeriods,El.Narrow,Cl.Standalone,!0);break;case"B":case"BB":case"BBB":e=Bl(jl.DayPeriods,El.Abbreviated,Cl.Format,!0);break;case"BBBB":e=Bl(jl.DayPeriods,El.Wide,Cl.Format,!0);break;case"BBBBB":e=Bl(jl.DayPeriods,El.Narrow,Cl.Format,!0);break;case"h":e=Hl(Ul.Hours,1,-12);break;case"hh":e=Hl(Ul.Hours,2,-12);break;case"H":e=Hl(Ul.Hours,1);break;case"HH":e=Hl(Ul.Hours,2);break;case"m":e=Hl(Ul.Minutes,1);break;case"mm":e=Hl(Ul.Minutes,2);break;case"s":e=Hl(Ul.Seconds,1);break;case"ss":e=Hl(Ul.Seconds,2);break;case"S":e=Hl(Ul.FractionalSeconds,1);break;case"SS":e=Hl(Ul.FractionalSeconds,2);break;case"SSS":e=Hl(Ul.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zl(Fl.Short);break;case"ZZZZZ":e=zl(Fl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zl(Fl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zl(Fl.Long);break;default:return null}return Wl[t]=e,e}(t);c+=e?e(i,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}(e,n,i||this.locale,r)}catch(o){throw ch(t,o.message)}}}]),t}()).\u0275fac=function(t){return new(t||hh)(Ea(ac))},hh.\u0275pipe=be({name:"date",type:hh,pure:!0}),hh),mh=((lh=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:lh}),lh.\u0275inj=ft({factory:function(t){return new(t||lh)},providers:[{provide:Yl,useClass:$l}]}),lh);function _h(t){return"server"===t}var bh,wh,kh,Ch,Eh,Sh=((bh=function t(){_classCallCheck(this,t)}).\u0275prov=ht({token:bh,providedIn:"root",factory:function(){return new Ih(Xt(Jc),window,Xt(hr))}}),bh),Ih=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),Th=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Ph||(Ph=document.querySelector("base"))?Ph.getAttribute("href"):null;return null==n?null:(e=n,wh||(wh=document.createElement("a")),wh.setAttribute("href",e),"/"===wh.pathname.charAt(0)?wh.pathname:"/"+wh.pathname)}},{key:"resetBaseElement",value:function(){Ph=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Zl(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,Yc||(Yc=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),Ph=null,Ah=new Vt("TRANSITION_ID"),xh=[{provide:$u,useFactory:function(t,e,n){return function(){n.get(Zu).donePromise.then((function(){var n=$c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Ah,Jc,aa],multi:!0}],Oh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Nt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Nt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Nt.getAllAngularRootElements=function(){return t.getAllRootElements()},Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push((function(t){var e=Nt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?$c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,xc=e}}]),t}(),Nh=new Vt("EventManagerPlugins"),Dh=((kh=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||kh)(Xt(Nh),Xt(_c))},kh.\u0275prov=ht({token:kh,factory:kh.\u0275fac}),kh),Rh=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=$c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Mh=((Eh=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Eh)},Eh.\u0275prov=ht({token:Eh,factory:Eh.\u0275fac}),Eh),Lh=((Ch=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return $c().remove(t)}))}}]),n}(Mh)).\u0275fac=function(t){return new(t||Ch)(Xt(Jc))},Ch.\u0275prov=ht({token:Ch,factory:Ch.\u0275fac}),Ch),Fh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Uh=/%COMP%/g;function jh(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?jh(t,i,n):(i=i.replace(Uh,t),n.push(i))}return n}function Vh(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var qh,Hh,Bh,zh,Gh,Wh,Kh=((qh=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Qh(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ce.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Xh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case ce.Native:case ce.ShadowDom:return new Yh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=jh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||qh)(Xt(Dh),Xt(Lh),Xt(Ju))},qh.\u0275prov=ht({token:qh,factory:qh.\u0275fac}),qh),Qh=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Fh[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Fh[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Fh[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&js.DashCase?t.style.setProperty(e,n,r&js.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&js.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Vh(n)):this.eventManager.addEventListener(t,e,Vh(n))}}]),t}(),Xh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=jh(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(Uh,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(Uh,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Qh),Yh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===ce.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=jh(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Qh),$h=((Hh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Rh)).\u0275fac=function(t){return new(t||Hh)(Xt(Jc))},Hh.\u0275prov=ht({token:Hh,factory:Hh.\u0275fac}),Hh),Zh=["alt","control","meta","shift"],Jh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ef={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},nf=((Gh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return $c().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Zh.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&tf.hasOwnProperty(e)&&(e=tf[e]))}return Jh[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Zh.forEach((function(r){r!=n&&(0,ef[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Rh)).\u0275fac=function(t){return new(t||Gh)(Xt(Jc))},Gh.\u0275prov=ht({token:Gh,factory:Gh.\u0275fac}),Gh),rf=((zh=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||zh)},zh.\u0275prov=ht({factory:function(){return Xt(of)},token:zh,providedIn:"root"}),zh),of=((Bh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case Wr.NONE:return e;case Wr.HTML:return _r(e,"HTML")?mr(e):zr(this._doc,String(e));case Wr.STYLE:return _r(e,"Style")?mr(e):function(t){if(!(t=String(t).trim()))return"";var e=t.match(Qr);return e&&Tr(e[1])===e[1]||t.match(Kr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Cr()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e);case Wr.SCRIPT:if(_r(e,"Script"))return mr(e);throw new Error("unsafe value used in a script context");case Wr.URL:return br(e),_r(e,"URL")?mr(e):Tr(String(e));case Wr.RESOURCE_URL:if(_r(e,"ResourceURL"))return mr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return new dr(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new pr(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new vr(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new gr(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new yr(t)}}]),n}(rf)).\u0275fac=function(t){return new(t||Bh)(Xt(Jc))},Bh.\u0275prov=ht({factory:function(){return t=Xt(qt),new of(t.get(Jc));var t},token:Bh,providedIn:"root"}),Bh),af=Rc(Wc,"browser",[{provide:rc,useValue:"browser"},{provide:nc,useValue:function(){Th.makeCurrent(),Oh.init()},multi:!0},{provide:Jc,useFactory:function(){return function(t){Oe=t}(document),document},deps:[]}]),sf=[[],{provide:Wo,useValue:"root"},{provide:hr,useFactory:function(){return new hr},deps:[]},{provide:Nh,useClass:$h,multi:!0,deps:[Jc,_c,rc]},{provide:Nh,useClass:nf,multi:!0,deps:[Jc]},[],{provide:Kh,useClass:Kh,deps:[Dh,Lh,Ju]},{provide:Us,useExisting:Kh},{provide:Mh,useExisting:Lh},{provide:Lh,useClass:Lh,deps:[Jc]},{provide:Pc,useClass:Pc,deps:[_c]},{provide:Dh,useClass:Dh,deps:[Nh,_c]},[]],uf=((Wh=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Ju,useValue:e.appId},{provide:Ah,useExisting:Ju},xh]}}}]),t}()).\u0275mod=ye({type:Wh}),Wh.\u0275inj=ft({factory:function(t){return new(t||Wh)(Xt(Wh,12))},providers:sf,imports:[mh,Qc]}),Wh);"undefined"!=typeof window&&window;var cf=function t(){_classCallCheck(this,t)};function lf(t,e){return{type:7,name:t,definitions:e,options:{}}}function hf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function ff(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function df(t){return{type:6,styles:t,offset:null}}function pf(t,e,n){return{type:0,name:t,styles:e,options:n}}function vf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function gf(t){Promise.resolve(null).then(t)}var yf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;gf((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),mf=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?gf((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==a&&n._onFinish()})),t.onDestroy((function(){++i==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function _f(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bf(t){switch(t.length){case 0:return new yf;case 1:return t[0];default:return new mf(t)}}function wf(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function kf(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&Cf(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&Cf(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&Cf(n,"destroy",t))}))}}function Cf(t,e,n){var r=n.totalTime,i=Ef(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Ef(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Sf(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function If(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Tf=function(t,e){return!1},Pf=function(t,e){return!1},Af=function(t,e,n){return[]},xf=_f();(xf||"undefined"!=typeof Element)&&(Tf=function(t,e){return t.contains(e)},Pf=function(){if(xf||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Pf}(),Af=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var Of=null,Nf=!1;function Df(t){Of||(Of=("undefined"!=typeof document?document.body:null)||{},Nf=!!Of.style&&"WebkitAppearance"in Of.style);var e=!0;return Of.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in Of.style)&&Nf)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Of.style),e}var Rf=Pf,Mf=Tf,Lf=Af;function Ff(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var Uf,jf=((Uf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Df(t)}},{key:"matchesElement",value:function(t,e){return Rf(t,e)}},{key:"containsElement",value:function(t,e){return Mf(t,e)}},{key:"query",value:function(t,e,n){return Lf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new yf(n,r)}}]),t}()).\u0275fac=function(t){return new(t||Uf)},Uf.\u0275prov=ht({token:Uf,factory:Uf.\u0275fac}),Uf),Vf=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new jf,t}();function qf(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Hf(parseFloat(e[1]),e[2])}function Hf(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Bf(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=Hf(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Hf(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function zf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Gf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else zf(t,n);return n}function Wf(t,e,n){return n?e+":"+n+";":""}function Kf(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=Wf(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Wf(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function Qf(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=nd(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),_f()&&Kf(t))}function Xf(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=nd(e);t.style[n]=""})),_f()&&Kf(t))}function Yf(t){return Array.isArray(t)?1==t.length?t[0]:ff(t):t}var $f=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zf(t){var e=[];if("string"==typeof t){for(var n;n=$f.exec(t);)e.push(n[1]);$f.lastIndex=0}return e}function Jf(t,e,n){var r=t.toString(),i=r.replace($f,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function td(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var ed=/-+([a-z0-9])/g;function nd(t){return t.replace(ed,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function rd(t,e){return 0===t||0===e}function id(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=ad(t,e)}))},s=1;s<e.length;s++)a()}return e}function od(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function ad(t,e){return window.getComputedStyle(t)[e]}var sd=new Set(["true","1"]),ud=new Set(["false","0"]);function cd(t,e){var n=sd.has(t)||ud.has(t),r=sd.has(e)||ud.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?sd.has(t):ud.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?sd.has(e):ud.has(e)),a&&s}}var ld=new RegExp("s*:selfs*,?","g");function hd(t,e,n){return new fd(t).build(e,n)}var fd=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new dd(e);return this._resetContextStyleTimingState(n),od(this,Yf(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(pd(t)){var e=t;Object.keys(e).forEach((function(t){Zf(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=td(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=od(this,Yf(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(cd(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(cd(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:vd(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return od(n,t,e)})),options:vd(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=od(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:vd(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return gd(Bf(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=gd(0,0,"");return i.dynamic=!0,i.strValue=r,i}return gd((n=n||Bf(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:df({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=df(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(pd(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=Zf(a)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(pd(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(pd(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:od(this,Yf(t.animation),e),options:vd(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:vd(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vd(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(ld,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,Sf(e.collectedStyles,e.currentQuerySelector,{});var s=od(this,Yf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:vd(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Bf(t.timings,e.errors,!0);return{type:12,animation:od(this,Yf(t.animation),e),timings:n,options:null}}}]),t}(),dd=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function pd(t){return!Array.isArray(t)&&"object"==typeof t}function vd(t){var e;return t?(t=zf(t)).params&&(t.params=(e=t.params)?zf(e):null):t={},t}function gd(t,e,n){return{duration:t,delay:e,easing:n}}function yd(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var md=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),_d=new RegExp(":enter","g"),bd=new RegExp(":leave","g");function wd(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new kd).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var kd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new md;var l=new Ed(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),od(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[yd(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?qf(n.duration):null,o=null!=n.delay?qf(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),od(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cd);var a=qf(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return od(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?qf(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),od(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Bf(e.params?Jf(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?qf(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cd);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),od(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;od(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),Cd={},Ed=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Sd(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=qf(r.duration)),null!=r.delay&&(i.delay=qf(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=Jf(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Cd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Id(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(_d,"."+this._enterClassName)).replace(bd,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),Sd=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Gf(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=Jf(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=Gf(o,!0);Object.keys(s).forEach((function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(s.offset=a/t.duration),i.push(s)}));var o=e.size?td(e.values()):[],a=n.size?td(n.values()):[];if(r){var s=i[0],u=zf(s);s.offset=0,u.offset=1,i=[s,u]}return yd(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),Id=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=Gf(t[0],!1);u.offset=0,o.push(u);var c=Gf(t[0],!1);c.offset=Td(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=Gf(t[h],!1);f.offset=Td((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return yd(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Sd);function Td(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Pd=function t(){_classCallCheck(this,t)},Ad=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return nd(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(xd[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(Pd),xd=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Od(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Nd={},Dd=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Nd,f=this.buildStyles(n,a&&a.params||Nd,l),d=s&&s.params||Nd,p=this.buildStyles(r,d,l),v=new Set,g=new Map,y=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:wd(t,e,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),l.length)return Od(e,this._triggerName,n,r,m,f,p,[],[],g,y,w,l);b.forEach((function(t){var n=t.element,r=Sf(g,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=Sf(y,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=td(v.values());return Od(e,this._triggerName,n,r,m,f,p,b,k,g,y,w)}}]),t}(),Rd=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=zf(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Jf(o,r,e)),n[t]=o}))}})),n}}]),t}(),Md=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new Rd(t.style,t.options&&t.options.params||{})})),Ld(this.states,"true","1"),Ld(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new Dd(e,t,r.states))})),this.fallbackTransition=new Dd(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Ld(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Fd=new md,Ud=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=hd(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=wf(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=wd(this._driver,e,a,"ng-enter","ng-leave",{},{},i,Fd,o)).forEach((function(t){var e=Sf(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=bf(n.map((function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=Ef(e,"","","");return kf(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),jd=[],Vd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hd=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=zf(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Bd=new Hd("void"),zd=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$d(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=Sf(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=Sf(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||($d(t,"ng-trigger"),$d(t,"ng-trigger-"+e),u[e]=Bd),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Wd(this.id,e,t),s=this._engine.statesByElement.get(t);s||($d(t,"ng-trigger"),$d(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new Hd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=Bd),"void"===c.value||u.value!==c.value){var l=Sf(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||($d(t,"ng-animate-queued"),a.onStart((function(){Zd(t,"ng-animate-queued")}))),a.onDone((function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Xf(t,p),Qf(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&bf(a).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Bd,s=new Hd("void"),u=new Wd(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==Vd||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){$d(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=Ef(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,kf(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Gd=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new zd(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Kd(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Kd(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),$d(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zd(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Kd(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Kd(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return bf(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Vd,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)$d(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?bf(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new md,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(t){l.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)l.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Yd(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return $d(t,n)}))}));for(var g=[],y=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(g.push(b),y.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return y.add(t)})):m.add(b))}var k=new Map,C=Yd(f,Array.from(y));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return $d(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return Zd(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return Zd(t,n)}))})),g.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),g=n._buildInstruction(t,r,v,d,f);if(g.errors&&g.errors.length)S.push(g);else{if(f)return e.onStart((function(){return Xf(o,g.fromStyles)})),e.onDestroy((function(){return Qf(o,g.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return Xf(o,g.fromStyles)})),e.onDestroy((function(){return Qf(o,g.toStyles)})),void i.push(e);g.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,g.timelines),a.push({instruction:g,player:e,element:o}),g.queriedElements.forEach((function(t){return Sf(s,t,[]).push(e)})),g.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),g.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(S.length){var T=[];S.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(T)}var P=new Map,A=new Map;a.forEach((function(t){var e=t.element;r.has(e)&&(A.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,P))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){Sf(P,e,[]).push(t),t.destroy()}))}));var x=g.filter((function(t){return tp(t,u,c)})),O=new Map;Xd(O,this.driver,m,c,"*").forEach((function(t){tp(t,u,c)&&x.push(t)}));var N=new Map;d.forEach((function(t,e){Xd(N,n.driver,new Set(t),u,"!")})),x.forEach((function(t){var e=O.get(t),n=N.get(t);O.set(t,Object.assign(Object.assign({},e),n))}));var D=[],R=[],M={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(l.has(e))return a.onDestroy((function(){return Qf(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=M;if(A.size>1){for(var c=e,h=[];c=c.parentNode;){var f=A.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(t){return A.set(t,u)}))}var d=n._buildAnimation(a.namespaceId,s,P,o,N,O);if(a.setRealPlayer(d),u===M)D.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=bf(p)),i.push(a)}}else Xf(e,s.fromStyles),a.onDestroy((function(){return Qf(e,s.toStyles)})),R.push(a),l.has(e)&&i.push(a)})),R.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=bf(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<g.length;L++){var F=g[L],U=F.__ng_removed;if(Zd(F,"ng-leave"),!U||!U.hasAnimation){var j=[];if(s.size){var V=s.get(F);V&&V.length&&j.push.apply(j,_toConsumableArray(V));for(var q=this.driver.query(F,".ng-animating",!0),H=0;H<q.length;H++){var B=s.get(q[H]);B&&B.length&&j.push.apply(j,_toConsumableArray(B))}}var z=j.filter((function(t){return!t.destroyed}));z.length?Jd(this,F,z):this.processLeaveNode(F)}}return g.length=0,D.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),D}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=Sf(n,t,[]);i._getPreviousPlayers(t,u,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}Xf(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new yf(e.duration,e.delay);var p,v,g=f!==u,y=(p=(n.get(f)||jd).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof mf?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),m=i.get(f),_=o.get(f),b=wf(0,a._normalizer,0,e.keyframes,m,_),w=a._buildPlayer(e,b,y);if(e.subTimeline&&r&&h.add(f),g){var k=new Wd(t,s,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(t){Sf(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return $d(t,"ng-animating")}));var d=bf(f);return d.onDestroy((function(){l.forEach((function(t){return Zd(t,"ng-animating")})),Qf(u,e.toStyles)})),h.forEach((function(t){Sf(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new yf(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Wd=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new yf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return kf(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){Sf(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Kd(t){return t&&1===t.nodeType}function Qd(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Xd(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(Qd(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=qd,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return Qd(t,o[s++])})),a}function Yd(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function $d(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Zd(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Jd(t,e,n){bf(n).onDone((function(){return t.processLeaveNode(e)}))}function tp(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var ep=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Gd(e,n,r),this._timelineEngine=new Ud(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=hd(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new Md(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(If(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(If(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function np(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=ip(e[0]),e.length>1&&(r=ip(e[e.length-1]))):e&&(n=ip(e)),n||r?new rp(t,n,r):null}var rp=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Qf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Qf(this._element,this._initialStyles),this._endStyles&&(Qf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Xf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xf(this._element,this._endStyles),this._endStyles=null),Qf(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function ip(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];op(i)&&((e=e||{})[i]=t[i])}return e}function op(t){return"display"===t||"position"===t}var ap=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=fp(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),hp(t,"",e),lp(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){sp(this._element,this._name,"paused")}},{key:"resume",value:function(){sp(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=up(this._element,this._name);this._position=t*this._duration,hp(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),lp(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=fp(t,"").split(","),r=cp(n,e);r>=0&&(n.splice(r,1),hp(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function sp(t,e,n){hp(t,"PlayState",n,up(t,e))}function up(t,e){var n=fp(t,"");return n.indexOf(",")>0?cp(n.split(","),e):cp([n],e)}function cp(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function lp(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function hp(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function fp(t,e){return t.style["animation"+e]}var dp=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new ap(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:ad(t.element,r))}))}this.currentSnapshot=e}}]),t}(),pp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=Ff(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(yf),vp=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Df(t)}},{key:"matchesElement",value:function(t,e){return Rf(t,e)}},{key:"containsElement",value:function(t,e){return Mf(t,e)}},{key:"query",value:function(t,e,n){return Lf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return Ff(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof dp})),u={};rd(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=id(t,e,u));if(0==n)return new pp(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=np(t,e),d=new dp(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),gp=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:ad(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),yp=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(mp().toString()),this._cssKeyframesDriver=new vp}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Df(t)}},{key:"matchesElement",value:function(t,e){return Rf(t,e)}},{key:"containsElement",value:function(t,e){return Mf(t,e)}},{key:"query",value:function(t,e,n){return Lf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(t){return t instanceof gp}));rd(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=np(t,e=id(t,e=e.map((function(t){return Gf(t,!1)})),u));return new gp(t,e,s,l)}}]),t}();function mp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var _p,bp=((_p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ce.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?ff(t):t;return Cp(this._renderer,null,e,"register",[n]),new wp(e,this._renderer)}}]),n}(cf)).\u0275fac=function(t){return new(t||_p)(Xt(Us),Xt(Jc))},_p.\u0275prov=ht({token:_p,factory:_p.\u0275fac}),_p),wp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new kp(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),kp=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Cp(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function Cp(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var Ep,Sp,Ip,Tp=((Ep=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Pp("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)})),new Ap(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||Ep)(Xt(Us),Xt(ep),Xt(_c))},Ep.\u0275prov=ht({token:Ep,factory:Ep.\u0275fac}),Ep),Pp=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),Ap=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,r,i,o)).factory=t,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(Pp),xp=((Sp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(ep)).\u0275fac=function(t){return new(t||Sp)(Xt(Jc),Xt(Vf),Xt(Pd))},Sp.\u0275prov=ht({token:Sp,factory:Sp.\u0275fac}),Sp),Op=[{provide:Vf,useFactory:function(){return"function"==typeof mp()?new yp:new vp}},{provide:new Vt("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:cf,useClass:bp},{provide:Pd,useFactory:function(){return new Ad}},{provide:ep,useClass:xp},{provide:Us,useFactory:function(t,e,n){return new Tp(t,e,n)},deps:[Kh,ep,_c]}],Np=((Ip=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:Ip}),Ip.\u0275inj=ft({factory:function(t){return new(t||Ip)},providers:Op,imports:[uf]}),Ip);function Dp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return x(r)?(e.pop(),H(e,r)):Q(e)}var Rp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(P),Mp=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Lp={},Fp=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Up(t,this.resultSelector))}}]),t}(),Up=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(Lp),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(F(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Lp?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(U),jp=new k((function(t){return t.complete()}));function Vp(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):jp}function qp(t){return new k((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?B(n):Vp()).subscribe(e)}))}function Hp(){return K(1)}function Bp(t,e){return function(n){return n.lift(new zp(t,e))}}var zp=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gp(t,this.predicate,this.thisArg))}}]),t}(),Gp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(v),Wp=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Kp(t){return function(e){return 0===t?Vp():e.lift(new Qp(t))}}var Qp=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Wp}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xp(t,this.total))}}]),t}(),Xp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(v);function Yp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jp;return function(e){return e.lift(new $p(t))}}var $p=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Zp(t,this.errorFactory))}}]),t}(),Zp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(v);function Jp(){return new Mp}function tv(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new ev(t))}}var ev=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new nv(t,this.defaultValue))}}]),t}(),nv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(v);function rv(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Bp((function(e,n){return t(e,n,r)})):m,Kp(1),n?tv(e):Yp((function(){return new Mp})))}}function iv(t){return function(e){var n=new ov(t),r=e.lift(n);return n.caught=r}}var ov=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new av(t,this.selector,this.caught))}}]),t}(),av=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new O(this,void 0,void 0);this.add(r);var i=F(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(U);function sv(t){return function(e){return 0===t?Vp():e.lift(new uv(t))}}var uv=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Wp}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new cv(t,this.total))}}]),t}(),cv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(v);function lv(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Bp((function(e,n){return t(e,n,r)})):m,sv(1),n?tv(e):Yp((function(){return new Mp})))}}var hv=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new fv(t,this.predicate,this.thisArg,this.source))}}]),t}(),fv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(v);function dv(t,e){return"function"==typeof e?function(n){return n.pipe(dv((function(n,r){return B(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new pv(t))}}var pv=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new vv(t,this.project))}}]),t}(),vv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new O(this,e,n),o=this.destination;o.add(i),this.innerSubscription=F(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(U);function gv(){return Hp()(Dp.apply(void 0,arguments))}function yv(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new mv(t,e,n))}}var mv=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new _v(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),_v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(v);function bv(t,e){return z(t,e,1)}function wv(){}function kv(t,e,n){return function(r){return r.lift(new Cv(t,e,n))}}var Cv=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ev(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Ev=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t))._tapNext=wv,s._tapError=wv,s._tapComplete=wv,s._tapError=o||wv,s._tapComplete=a||wv,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||wv,s._tapError=i.error||wv,s._tapComplete=i.complete||wv),s}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(v);function Sv(t){return function(e){return e.lift(new Tv(t))}}var Iv,Tv=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Pv(t,this.callback))}}]),t}(),Pv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new f(r)),i}return n}(v),Av=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},xv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Av),Ov=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Av),Nv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Av),Dv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Av),Rv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Av),Mv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Av),Lv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Av),Fv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Av),Uv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Av),jv=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Vv=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),qv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Hv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Bv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),zv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Gv=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Wv=((Iv=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Iv)},Iv.\u0275cmp=de({type:Iv,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Oa(0,"router-outlet")},directives:function(){return[rm]},encapsulation:2}),Iv),Kv=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Qv(t){return new Kv(t)}function Xv(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Yv(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var $v=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function Zv(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Jv(r,tg(e,r))}}function Jv(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Zv(t.children,e)}function tg(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function eg(t){var e=t.children&&t.children.map(eg),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Wv),n}function ng(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!rg(t[n=r[o]],e[n]))return!1;return!0}function rg(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function ig(t){return Array.prototype.concat.apply([],t)}function og(t){return t.length>0?t[t.length-1]:null}function ag(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function sg(t){return La(t)?t:Ma(t)?B(Promise.resolve(t)):Dp(t)}function ug(t,e,n){return n?function(t,e){return ng(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!fg(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return rg(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!fg(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!fg(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!fg(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var cg=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return gg.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Qv(this.queryParams)),this._queryParamMap}}]),t}(),lg=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,ag(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return yg(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),hg=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Cg(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Qv(this.parameters)),this._parameterMap}}]),t}();function fg(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function dg(t,e){var n=[];return ag(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),ag(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var pg=function t(){_classCallCheck(this,t)},vg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Pg(t);return new cg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return yg(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return ag(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=dg(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(yg(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(_g(t),"=").concat(_g(e))})).join("&"):"".concat(_g(t),"=").concat(_g(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),gg=new vg;function yg(t){return t.segments.map((function(t){return Cg(t)})).join("/")}function mg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _g(t){return mg(t).replace(/%3B/gi,";")}function bg(t){return mg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wg(t){return decodeURIComponent(t)}function kg(t){return wg(t.replace(/\+/g,"%20"))}function Cg(t){return"".concat(bg(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(bg(t),"=").concat(bg(e[t]))})).join("")));var e}var Eg=/^[^\/()?;=#]+/;function Sg(t){var e=t.match(Eg);return e?e[0]:""}var Ig=/^[^=?&#]+/,Tg=/^[^?&#]+/,Pg=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lg([],{}):new lg([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new lg(t,e)),n}},{key:"parseSegment",value:function(){var t=Sg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new hg(wg(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Sg(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Sg(this.remaining);r&&(n=r,this.capture(n))}t[wg(e)]=wg(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Ig);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Tg);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=kg(e),o=kg(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Sg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new lg([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ag=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=xg(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=xg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Og(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Og(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function xg(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=xg(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Og(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Og(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Ng=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Dg(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Rg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Vg(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ag);function Mg(t,e){var n=function(t,e){var n=new Ug([],{},{},"",{},"primary",e,null,t.root,-1,{});return new jg("",new Ng(n,[]))}(t,e),r=new Rp([new hg("",{})]),i=new Rp({}),o=new Rp({}),a=new Rp({}),s=new Rp(""),u=new Lg(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Rg(new Ng(u,[]),n)}var Lg=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(j((function(t){return Qv(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j((function(t){return Qv(t)})))),this._queryParamMap}}]),t}();function Fg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Ug=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Qv(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Qv(this.queryParams)),this._queryParamMap}}]),t}(),jg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Vg(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return qg(this._root)}}]),n}(Ag);function Vg(t,e){e.value._routerState=t,e.children.forEach((function(e){return Vg(t,e)}))}function qg(t){var e=t.children.length>0?" { ".concat(t.children.map(qg).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Hg(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ng(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ng(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ng(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ng(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bg(t,e){var n,r;return ng(t.params,e.params)&&fg(n=t.url,r=e.url)&&n.every((function(t,e){return ng(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||Bg(t.parent,e.parent))}function zg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gg(t,e,n,r,i){var o={};return r&&ag(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new cg(n.root===t?e:function t(e,n,r){var i={};return ag(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new lg(e.segments,i)}(n.root,t,e),o,i)}var Wg=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zg(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==og(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Kg=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Qg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Xg(t,e,n){if(t||(t=new lg([],{})),0===t.segments.length&&t.hasChildren())return Yg(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Qg(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ty(s,u,a))return o;r+=2}else{if(!ty(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new lg(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new lg(t.segments.slice(r.pathIndex),t.children),Yg(o,0,i)}return r.match&&0===i.length?new lg(t.segments,{}):r.match&&!t.hasChildren()?$g(t,e,n):r.match?Yg(t,0,i):$g(t,e,n)}function Yg(t,e,n){if(0===n.length)return new lg(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return ag(r,(function(n,r){null!==n&&(i[r]=Xg(t.children[r],e,n))})),ag(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new lg(t.segments,i)}function $g(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Zg(n[i].outlets);return new lg(r,o)}if(0===i&&zg(n[0]))r.push(new hg(t.segments[e].path,n[0])),i++;else{var a=Qg(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&zg(s)?(r.push(new hg(a,Jg(s))),i+=2):(r.push(new hg(a,{})),i++)}}return new lg(r,{})}function Zg(t){var e={};return ag(t,(function(t,n){null!==t&&(e[n]=$g(new lg([],{}),0,t))})),e}function Jg(t){var e={};return ag(t,(function(t,n){return e[n]=""+t})),e}function ty(t,e,n){return t==n.path&&ng(e,n.parameters)}var ey=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hg(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Dg(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),ag(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Dg(t),o=t.value.component?r.children:e;ag(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Dg(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new zv(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Hv(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Hg(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ny(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function ny(t){Hg(t.value),t.children.forEach(ny)}function ry(t){return"function"==typeof t}function iy(t){return t instanceof cg}var oy=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},ay=function t(e){_classCallCheck(this,t),this.urlTree=e};function sy(t){return new k((function(e){return e.error(new oy(t))}))}function uy(t){return new k((function(e){return e.error(new ay(t))}))}function cy(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var ly=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Jt)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(j((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(iv((function(e){if(e instanceof ay)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof oy)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(j((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(iv((function(t){if(t instanceof oy)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new lg([],{primary:t}):t;return new cg(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j((function(t){return new lg([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Dp({});var o=[],a=[],s={};return ag(n,(function(n,i){var u=function(n,i){return r.expandSegmentGroup(t,e,i,n)}(i,n).pipe(j((function(t){return s[i]=t})));"primary"===i?o.push(u):a.push(u)})),Dp.apply(null,o.concat(a)).pipe(Hp(),rv(),j((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Dp.apply(void 0,_toConsumableArray(n)).pipe(j((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(iv((function(t){if(t instanceof oy)return Dp(null);throw t})))})),Hp(),lv((function(t){return!!t})),iv((function(t,n){if(t instanceof Mp||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Dp(new lg([],{}));throw new oy(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return py(r)!==o?sy(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):sy(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?uy(o):this.lineralizeSegments(n,o).pipe(z((function(n){var o=new lg(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=hy(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return sy(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?uy(f):this.lineralizeSegments(r,f).pipe(z((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j((function(t){return n._loadedConfig=t,new lg(r,{})}))):Dp(new lg(r,{}));var o=hy(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return sy(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(z((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return dy(t,e,n)&&"primary"!==py(n)}))}(t,n,r)?{segmentGroup:fy(new lg(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==py(o)&&(n[py(o)]=new lg([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new lg(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return dy(t,e,n)}))}(t,n,r)?{segmentGroup:fy(new lg(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;dy(t,e,s)&&!r[py(s)]&&(o[py(s)]=new lg([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(j((function(t){return new lg(s,t)}))):0===r.length&&0===u.length?Dp(new lg(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(j((function(t){return new lg(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Dp(new $v(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Dp(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?B(i).pipe(j((function(r){var i,o=t.get(r);if(function(t){return t&&ry(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!ry(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return sg(i)}))).pipe(Hp(),(r=function(t){return!0===t},function(t){return t.lift(new hv(r,void 0,t))})):Dp(!0)}(t.injector,e,n).pipe(z((function(n){return n?r.configLoader.load(t.injector,e).pipe(j((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(Xv("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Dp(new $v([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Dp(n);if(r.numberOfChildren>1||!r.children.primary)return cy(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new cg(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return ag(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return ag(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new lg(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function hy(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Yv)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function fy(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new lg(t.segments.concat(e.segments),e.children)}return t}function dy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function py(t){return t.outlet||"primary"}var vy=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},gy=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function yy(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function my(t,e,n){var r=Dg(t),i=t.value;ag(r,(function(t,r){my(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new gy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var _y=Symbol("INITIAL_VALUE");function by(){return dv((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return x(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),Q(e,i).lift(new Fp(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(sv(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return x(r)?(e.pop(),function(t){return gv(e,t,r)}):function(t){return gv(e,t)}}(_y))})))).pipe(yv((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==_y)return t;if(r===_y&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||iy(r))return r}return t}),t)}),_y),Bp((function(t){return t!==_y})),j((function(t){return iy(t)?t:!0===t})),sv(1))}))}function wy(t,e){return null!==t&&e&&e(new Bv(t)),Dp(!0)}function ky(t,e){return null!==t&&e&&e(new qv(t)),Dp(!0)}function Cy(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Dp(r.map((function(r){return qp((function(){var i,o=yy(r,e,n);if(function(t){return t&&ry(t.canActivate)}(o))i=sg(o.canActivate(e,t));else{if(!ry(o))throw new Error("Invalid CanActivate guard");i=sg(o(e,t))}return i.pipe(lv())}))}))).pipe(by()):Dp(!0)}function Ey(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return qp((function(){return Dp(e.guards.map((function(i){var o,a=yy(i,e.node,n);if(function(t){return t&&ry(t.canActivateChild)}(a))o=sg(a.canActivateChild(r,t));else{if(!ry(a))throw new Error("Invalid CanActivateChild guard");o=sg(a(r,t))}return o.pipe(lv())}))).pipe(by())}))}));return Dp(i).pipe(by())}var Sy=function t(){_classCallCheck(this,t)},Iy=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Ay(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ug([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ng(n,e),i=new jg(this.url,r);return this.inheritParamsAndData(i._root),Dp(i)}catch(o){return new k((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Fg(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=dg(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof Sy))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Sy}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Sy;if((t.outlet||"primary")!==r)throw new Sy;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?og(n).parameters:{};i=new Ug(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ny(t),r,t.component,t,Ty(e),Py(e)+n.length,Dy(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Sy;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Yv)(n,t,e);if(!r)throw new Sy;var i={};ag(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Ug(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ny(t),r,t.component,t,Ty(e),Py(e)+o.length,Dy(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Ay(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Ng(i,d)]}if(0===c.length&&0===f.length)return[new Ng(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Ng(i,p)]}}]),t}();function Ty(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Py(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ay(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return xy(t,e,n)&&"primary"!==Oy(n)}))}(t,n,r)){var o=new lg(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Oy(s)){var u=new lg([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Oy(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new lg(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return xy(t,e,n)}))}(t,n,r)){var a=new lg(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(xy(t,n,c)&&!i[Oy(c)]){var l=new lg([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Oy(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new lg(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function xy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Oy(t){return t.outlet||"primary"}function Ny(t){return t.data||{}}function Dy(t){return t.resolve||{}}function Ry(t,e,n,r){var i=yy(t,e,r);return sg(i.resolve?i.resolve(e,n):i(e,n))}function My(t){return function(e){return e.pipe(dv((function(e){var n=t(e);return n?B(n).pipe(j((function(){return e}))):B([e])})))}}var Ly=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Fy=new Vt("ROUTES"),Uy=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new $v(ig(i.injector.get(Fy)).map(eg),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?B(this.loader.load(t)):sg(t()).pipe(z((function(t){return t instanceof te?Dp(t):B(e.compiler.compileModuleAsync(t))})))}}]),t}(),jy=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Vy(t){throw t}function qy(t,e,n){return e.parse("/")}function Hy(t,e){return Dp(null)}var By,zy,Gy,Wy=((Gy=function(){function t(e,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new P,this.errorHandler=Vy,this.malformedUriErrorHandler=qy,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hy,afterPreactivation:Hy},this.urlHandlingStrategy=new jy,this.routeReuseStrategy=new Ly,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Jt),this.console=o.get(oc);var l=o.get(_c);this.isNgZoneEnabled=l instanceof _c,this.resetConfig(u),this.currentUrlTree=new cg(new lg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Uy(a,s,(function(t){return c.triggerEvent(new jv(t))}),(function(t){return c.triggerEvent(new Vv(t))})),this.routerState=Mg(this.currentUrlTree,this.rootComponentType),this.transitions=new Rp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Bp((function(t){return 0!==t.id})),j((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),dv((function(t){var r,i,o,a=!1,s=!1;return Dp(t).pipe(kv((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),dv((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Dp(t).pipe(dv((function(t){var r=e.transitions.getValue();return n.next(new xv(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?jp:[t]})),dv((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(dv((function(t){return function(t,e,n,r,i){return new ly(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(j((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),kv((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(z((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Iy(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(j((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),kv((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),kv((function(t){var r=new Rv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new xv(u,e.serializeUrl(c),l,h);n.next(d);var p=Mg(c,e.rootComponentType).snapshot;return Dp(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),jp})),My((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),kv((function(t){var n=new Mv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),j((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Dg(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fg(t.url,e.url)||!ng(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bg(t,e)||!ng(t.queryParams,e.queryParams);case"paramsChange":default:return!Bg(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new vy(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new gy(u&&u.outlet&&u.outlet.component||null,s))}else s&&my(n,u,o),o.canActivateChecks.push(new vy(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),ag(a,(function(t,e){return my(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(z((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Dp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return B(t).pipe(z((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Dp(o.map((function(o){var a,s=yy(o,e,i);if(function(t){return t&&ry(t.canDeactivate)}(s))a=sg(s.canDeactivate(t,e,n,r));else{if(!ry(s))throw new Error("Invalid CanDeactivate guard");a=sg(s(t,e,n,r))}return a.pipe(lv())}))).pipe(by()):Dp(!0)}(t.component,t.route,n,e,r)})),lv((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(z((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return B(e).pipe(bv((function(e){return B([ky(e.route.parent,r),wy(e.route,r),Ey(t,e.path,n),Cy(t,e.route,n)]).pipe(Hp(),lv((function(t){return!0!==t}),!0))})),lv((function(t){return!0!==t}),!0))}(r,a,t,e):Dp(n)})),j((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),kv((function(t){if(iy(t.guardsResult)){var n=Xv('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),kv((function(t){var n=new Lv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Bp((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Nv(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),My((function(t){if(t.guards.canActivateChecks.length)return Dp(t).pipe(kv((function(t){var n=new Fv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(z((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?B(i).pipe(bv((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Dp({});if(1===i.length){var o=i[0];return Ry(t[o],e,n,r).pipe(j((function(t){return _defineProperty({},o,t)})))}var a={};return B(i).pipe(z((function(i){return Ry(t[i],e,n,r).pipe(j((function(t){return a[i]=t,t})))}))).pipe(rv(),j((function(){return a})))}(t._resolve,t,e,r).pipe(j((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Fg(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return _(yv(t,e),Kp(1),tv(e))(n)}:function(e){return _(yv((function(e,n,r){return t(e,n,r+1)})),Kp(1))(e)}}((function(t,e){return t})),j((function(e){return t}))):Dp(t)})))}),kv((function(t){var n=new Uv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),My((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),j((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Ng(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Lg(new Rp((u=n.value).url),new Rp(u.params),new Rp(u.queryParams),new Rp(u.fragment),new Rp(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new Ng(c,l)}(t,e._root,n?n._root:void 0);return new Rg(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),kv((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},j((function(t){return new ey(i,t.targetRouterState,t.currentRouterState,o).activate(r),t}))),kv({next:function(){a=!0},complete:function(){a=!0}}),Sv((function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new Nv(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null})),iv((function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=iy(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Nv(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Dv(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var u;return jp})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Zv(t),this.config=t.map(eg),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;Cr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;if(a)switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Gg(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wg(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return ag(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new Wg(n,e,r)}(n);if(o.toRoot())return Gg(e.root,new lg([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new Kg(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Kg(n.snapshot._urlSegment,!0,0);var r=zg(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Kg(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Yg(a.segmentGroup,a.index,o.commands):Xg(a.segmentGroup,a.index,o.commands);return Gg(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Cr()&&this.isNgZoneEnabled&&!_c.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=iy(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(iy(t))return ug(this.currentUrlTree,t,e);var n=this.parseUrl(t);return ug(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Ov(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){Ia()},Gy.\u0275dir=_e({type:Gy}),Gy),Ky=((zy=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"onClick",value:function(){var t={skipLocationChange:Xy(this.skipLocationChange),replaceUrl:Xy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Cr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Xy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Xy(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||zy)(Ea(Wy),Ea(Lg),Sa("tabindex"),Ea(Vs),Ea(Ls))},zy.\u0275dir=_e({type:zy,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Fa("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),zy),Qy=((By=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof Ov&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Xy(this.skipLocationChange),replaceUrl:Xy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Cr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Xy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Xy(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||By)(Ea(Wy),Ea(Lg),Ea(hl))},By.\u0275dir=_e({type:By,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Fa("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(ds("href",e.href,Yr),ba("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ks]}),By);function Xy(t){return""===t||!!t}var Yy,$y,Zy,Jy,tm=((Yy=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe((function(t){t instanceof Ov&&a.update()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this.links.changes.subscribe((function(e){return t.update()})),this.linksWithHrefs.changes.subscribe((function(e){return t.update()})),this.update()}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}()).\u0275fac=function(t){return new(t||Yy)(Ea(Wy),Ea(Ls),Ea(Vs),Ea(Ky,8),Ea(Qy,8))},Yy.\u0275dir=_e({type:Yy,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(Ku(n,Ky,!0),Ku(n,Qy,!0)),2&t&&(Wu(r=Qu())&&(e.links=r),Wu(r=Qu())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ks]}),Yy),em=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new nm,this.attachRef=null},nm=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new em,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),rm=(($y=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mu,this.deactivateEvents=new Mu,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new im(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||$y)(Ea(nm),Ea(uu),Ea(Ms),Sa("name"),Ea(zo))},$y.\u0275dir=_e({type:$y,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),$y),im=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Lg?this.route:t===nm?this.childContexts:this.parent.get(t,e)}}]),t}(),om=function t(){_classCallCheck(this,t)},am=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Dp(null)}}]),t}(),sm=((Jy=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Uy(n,r,(function(t){return e.triggerEvent(new jv(t))}),(function(t){return e.triggerEvent(new Vv(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Bp((function(t){return t instanceof Ov})),bv((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Jt);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return B(r).pipe(K(),j((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(z((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||Jy)(Xt(Wy),Xt(qc),Xt(vc),Xt(aa),Xt(om))},Jy.\u0275prov=ht({token:Jy,factory:Jy.\u0275fac}),Jy),um=((Zy=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof xv?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ov&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Gv&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Gv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){Ia()},Zy.\u0275dir=_e({type:Zy}),Zy),cm=new Vt("ROUTER_CONFIGURATION"),lm=new Vt("ROUTER_FORROOT_GUARD"),hm=[_l,{provide:pg,useClass:vg},{provide:Wy,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Wy(null,t,e,n,r,i,o,ig(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),s.errorHandler&&(l.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var h=$c();l.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution),l},deps:[pg,nm,_l,aa,qc,vc,Fy,cm,[function(){return function t(){_classCallCheck(this,t)}}(),new ot],[function(){return function t(){_classCallCheck(this,t)}}(),new ot]]},nm,{provide:Lg,useFactory:function(t){return t.routerState.root},deps:[Wy]},{provide:qc,useClass:zc},sm,am,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(iv((function(){return Dp(null)})))}}]),t}(),{provide:cm,useValue:{enableTracing:!1}}];function fm(){return new Dc("Router",Wy)}var dm,pm=((dm=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[hm,mm(e),{provide:lm,useFactory:ym,deps:[[Wy,new ot,new st]]},{provide:cm,useValue:n||{}},{provide:hl,useFactory:gm,deps:[tl,[new it(gl),new ot],cm]},{provide:um,useFactory:vm,deps:[Wy,Sh,cm]},{provide:om,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:am},{provide:Dc,multi:!0,useFactory:fm},[bm,{provide:$u,multi:!0,useFactory:wm,deps:[bm]},{provide:Cm,useFactory:km,deps:[bm]},{provide:ic,multi:!0,useExisting:Cm}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[mm(e)]}}}]),t}()).\u0275mod=ye({type:dm}),dm.\u0275inj=ft({factory:function(t){return new(t||dm)(Xt(lm,8),Xt(Wy,8))}}),dm);function vm(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new um(t,e,n)}function gm(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new ml(t,e):new yl(t,e)}function ym(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mm(t){return[{provide:sa,multi:!0,useValue:t},{provide:Fy,multi:!0,useValue:t}]}var _m,bm=((_m=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new P}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(rl,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(Wy),i=t.injector.get(cm);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Dp(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(cm),n=this.injector.get(sm),r=this.injector.get(um),i=this.injector.get(Wy),o=this.injector.get(jc);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||_m)(Xt(aa))},_m.\u0275prov=ht({token:_m,factory:_m.\u0275fac}),_m);function wm(t){return t.appInitializer.bind(t)}function km(t){return t.bootstrapListener.bind(t)}var Cm=new Vt("Router Initializer");function Em(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(u(r))return Sm(r,null);if(c(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Sm(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Sm(e=1===e.length&&u(e[0])?e[0]:e,null).pipe(j((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return Sm(e,null)}function Sm(t,e){return new k((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=B(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Im,Tm,Pm,Am,xm=new Vt("NgValueAccessor"),Om={provide:xm,useExisting:Et((function(){return Nm})),multi:!0},Nm=((Im=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Im)(Ea(Vs),Ea(Ls))},Im.\u0275dir=_e({type:Im,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Fa("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Ns([Om])]}),Im),Dm={provide:xm,useExisting:Et((function(){return Mm})),multi:!0},Rm=new Vt("CompositionEventMode"),Mm=((Am=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=$c()?$c().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Am)(Ea(Vs),Ea(Ls),Ea(Rm,8))},Am.\u0275dir=_e({type:Am,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Fa("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Ns([Dm])]}),Am),Lm=((Pm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||Pm)},Pm.\u0275dir=_e({type:Pm}),Pm),Fm=((Tm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Lm)).\u0275fac=function(t){return Um(t||Tm)},Tm.\u0275dir=_e({type:Tm,features:[gs]}),Tm),Um=sr(Fm);function jm(){throw new Error("unimplemented")}var Vm,qm,Hm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return jm()}},{key:"asyncValidator",get:function(){return jm()}}]),n}(Lm),Bm=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),zm=((qm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Bm)).\u0275fac=function(t){return new(t||qm)(Ea(Hm,2))},qm.\u0275dir=_e({type:qm,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Za("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[gs]}),qm),Gm=((Vm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Bm)).\u0275fac=function(t){return new(t||Vm)(Ea(Fm,2))},Vm.\u0275dir=_e({type:Vm,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Za("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[gs]}),Vm);function Wm(t){return null==t||0===t.length}var Km=new Vt("NgValidators"),Qm=new Vt("NgAsyncValidators"),Xm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ym=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Wm(e.value)||Wm(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Wm(e.value)||Wm(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Wm(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Wm(t.value)||Xm.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Wm(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Wm(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter($m);return 0==e.length?null:function(t){return Jm(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter($m);return 0==e.length?null:function(t){return Em(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Zm)).pipe(j(Jm))}}}]),t}();function $m(t){return null!=t}function Zm(t){var e=Ma(t)?B(t):t;if(!La(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Jm(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function t_(t){return t.validate?function(e){return t.validate(e)}:t}function e_(t){return t.validate?function(e){return t.validate(e)}:t}var n_,r_,i_,o_,a_={provide:xm,useExisting:Et((function(){return s_})),multi:!0},s_=((n_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||n_)(Ea(Vs),Ea(Ls))},n_.\u0275dir=_e({type:n_,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Fa("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ns([a_])]}),n_),u_={provide:xm,useExisting:Et((function(){return l_})),multi:!0},c_=((i_=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||i_)},i_.\u0275prov=ht({token:i_,factory:i_.\u0275fac}),i_),l_=((r_=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Hm),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||r_)(Ea(Vs),Ea(Ls),Ea(c_),Ea(aa))},r_.\u0275dir=_e({type:r_,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Fa("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ns([u_])]}),r_),h_={provide:xm,useExisting:Et((function(){return f_})),multi:!0},f_=((o_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||o_)(Ea(Vs),Ea(Ls))},o_.\u0275dir=_e({type:o_,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Fa("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ns([h_])]}),o_),d_='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',p_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',v_='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',g_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+d_)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(p_,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(v_))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+d_)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+p_)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),y_={provide:xm,useExisting:Et((function(){return w_})),multi:!0};function m_(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var __,b_,w_=((b_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=pa}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=m_(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||b_)(Ea(Vs),Ea(Ls))},b_.\u0275dir=_e({type:b_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Fa("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ns([y_])]}),b_),k_=((__=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(m_(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}()).\u0275fac=function(t){return new(t||__)(Ea(Ls),Ea(Vs),Ea(w_,9))},__.\u0275dir=_e({type:__,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),__),C_={provide:xm,useExisting:Et((function(){return T_})),multi:!0};function E_(t,e){return null==t?""+e:("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var S_,I_,T_=((I_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=pa}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||I_)(Ea(Vs),Ea(Ls))},I_.\u0275dir=_e({type:I_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Fa("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ns([C_])]}),I_),P_=((S_=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(E_(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(E_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}()).\u0275fac=function(t){return new(t||S_)(Ea(Ls),Ea(Vs),Ea(T_,9))},S_.\u0275dir=_e({type:S_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S_);function A_(t,e){return[].concat(_toConsumableArray(e.path),[t])}function x_(t,e){t||R_(e,"Cannot find control with"),e.valueAccessor||R_(e,"No value accessor for form control with"),t.validator=Ym.compose([t.validator,e.validator]),t.asyncValidator=Ym.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&O_(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&O_(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function O_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function N_(t,e){null==t&&R_(e,"Cannot find control with"),t.validator=Ym.compose([t.validator,e.validator]),t.asyncValidator=Ym.composeAsync([t.asyncValidator,e.asyncValidator])}function D_(t){return R_(t,"There is no FormControl instance attached to form control element with")}function R_(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function M_(t){return null!=t?Ym.compose(t.map(t_)):null}function L_(t){return null!=t?Ym.composeAsync(t.map(e_)):null}function F_(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!pa(e,n.currentValue)}var U_=[Nm,f_,s_,w_,T_,l_];function j_(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function V_(t,e){if(!e)return null;Array.isArray(e)||R_(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Mm?n=e:(o=e,U_.some((function(t){return o.constructor===t}))?(r&&R_(t,"More than one built-in value accessor matches form control with"),r=e):(i&&R_(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(R_(t,"No valid value accessor for form control with"),null)}function q_(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function H_(t){var e=z_(t)?t.validators:t;return Array.isArray(e)?M_(e):e||null}function B_(t,e){var n=z_(e)?e.asyncValidators:t;return Array.isArray(n)?L_(n):n||null}function z_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var G_,W_,K_,Q_,X_,Y_,$_,Z_,J_=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=H_(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=B_(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Zm(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof eb?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof nb&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new Mu,this.statusChanges=new Mu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){z_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),tb=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,H_(i),B_(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(J_),eb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,H_(r),B_(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof tb?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(J_),nb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,H_(r),B_(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof tb?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(J_),rb={provide:Fm,useExisting:Et((function(){return ob}))},ib=Promise.resolve(null),ob=((W_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new Mu,i.form=new eb({},M_(t),L_(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;ib.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),x_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;ib.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),q_(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;ib.then((function(){var n=e._findContainer(t.path),r=new eb({});N_(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;ib.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;ib.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,j_(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Fm)).\u0275fac=function(t){return new(t||W_)(Ea(Km,10),Ea(Qm,10))},W_.\u0275dir=_e({type:W_,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Fa("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ns([rb]),gs]}),W_),ab=((G_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return A_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return M_(this._validators)}},{key:"asyncValidator",get:function(){return L_(this._asyncValidators)}}]),n}(Fm)).\u0275fac=function(t){return sb(t||G_)},G_.\u0275dir=_e({type:G_,features:[gs]}),G_),sb=sr(ab),ub=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(d_,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(p_,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(v_))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(p_,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(v_))}}]),t}(),cb={provide:Fm,useExisting:Et((function(){return lb}))},lb=((K_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof ob||ub.modelGroupParentException()}}]),n}(ab)).\u0275fac=function(t){return new(t||K_)(Ea(Fm,5),Ea(Km,10),Ea(Qm,10))},K_.\u0275dir=_e({type:K_,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ns([cb]),gs]}),K_),hb={provide:Hm,useExisting:Et((function(){return db}))},fb=Promise.resolve(null),db=((X_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this)).control=new tb,a._registered=!1,a.update=new Mu,a._parent=t,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=V_(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),F_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){x_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof lb)&&this._parent instanceof ab?ub.formGroupNameException():this._parent instanceof lb||this._parent instanceof ob||ub.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ub.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;fb.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;fb.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?A_(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return M_(this._rawValidators)}},{key:"asyncValidator",get:function(){return L_(this._rawAsyncValidators)}}]),n}(Hm)).\u0275fac=function(t){return new(t||X_)(Ea(Fm,9),Ea(Km,10),Ea(Qm,10),Ea(xm,10))},X_.\u0275dir=_e({type:X_,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ns([hb]),gs,ks]}),X_),pb=((Q_=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Q_)},Q_.\u0275dir=_e({type:Q_,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Q_),vb=new Vt("NgModelWithFormControlWarning"),gb={provide:Fm,useExisting:Et((function(){return yb}))},yb=((Y_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new Mu,i}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return x_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){q_(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);N_(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);N_(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,j_(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return D_(e)})),e.valueAccessor.registerOnTouched((function(){return D_(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&x_(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=M_(this._validators);this.form.validator=Ym.compose([this.form.validator,t]);var e=L_(this._asyncValidators);this.form.asyncValidator=Ym.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||g_.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Fm)).\u0275fac=function(t){return new(t||Y_)(Ea(Km,10),Ea(Qm,10))},Y_.\u0275dir=_e({type:Y_,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Fa("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ns([gb]),gs,ks]}),Y_),mb={provide:Fm,useExisting:Et((function(){return _b}))},_b=(($_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){kb(this._parent)&&g_.groupParentException()}}]),n}(ab)).\u0275fac=function(t){return new(t||$_)(Ea(Fm,13),Ea(Km,10),Ea(Qm,10))},$_.\u0275dir=_e({type:$_,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ns([mb]),gs]}),$_),bb={provide:Fm,useExisting:Et((function(){return wb}))},wb=((Z_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){kb(this._parent)&&g_.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return A_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return M_(this._validators)}},{key:"asyncValidator",get:function(){return L_(this._asyncValidators)}}]),n}(Fm)).\u0275fac=function(t){return new(t||Z_)(Ea(Fm,13),Ea(Km,10),Ea(Qm,10))},Z_.\u0275dir=_e({type:Z_,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ns([bb]),gs]}),Z_);function kb(t){return!(t instanceof _b||t instanceof yb||t instanceof wb)}var Cb,Eb,Sb,Ib,Tb,Pb,Ab,xb,Ob={provide:Hm,useExisting:Et((function(){return Nb}))},Nb=((Cb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new Mu,s._ngModelWarningSent=!1,s._parent=t,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=V_(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),F_(t,this.viewModel)&&(function(t,e,n,r){Cr()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(g_.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof _b)&&this._parent instanceof ab?g_.ngModelGroupException():this._parent instanceof _b||this._parent instanceof yb||this._parent instanceof wb||g_.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){g_.disabledAttrWarning()}},{key:"path",get:function(){return A_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return M_(this._rawValidators)}},{key:"asyncValidator",get:function(){return L_(this._rawAsyncValidators)}}]),n}(Hm)).\u0275fac=function(t){return new(t||Cb)(Ea(Fm,13),Ea(Km,10),Ea(Qm,10),Ea(xm,10),Ea(vb,8))},Cb.\u0275dir=_e({type:Cb,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ns([Ob]),gs,ks]}),Cb._ngModelWarningSentOnce=!1,Cb),Db={provide:Km,useExisting:Et((function(){return Rb})),multi:!0},Rb=((Eb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.required?Ym.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||Eb)},Eb.\u0275dir=_e({type:Eb,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&ba("required",e.required?"":null)},inputs:{required:"required"},features:[Ns([Db])]}),Eb),Mb={provide:Km,useExisting:Et((function(){return Lb})),multi:!0},Lb=((Sb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this._enabled?Ym.email(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||Sb)},Sb.\u0275dir=_e({type:Sb,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ns([Mb])]}),Sb),Fb={provide:Km,useExisting:Et((function(){return Ub})),multi:!0},Ub=((xb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=Ym.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}()).\u0275fac=function(t){return new(t||xb)},xb.\u0275dir=_e({type:xb,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ba("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[Ns([Fb]),ks]}),xb),jb=((Ab=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:Ab}),Ab.\u0275inj=ft({factory:function(t){return new(t||Ab)}}),Ab),Vb=((Pb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new eb(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new tb(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new nb(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof tb||t instanceof eb||t instanceof nb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Pb)},Pb.\u0275prov=ht({token:Pb,factory:Pb.\u0275fac}),Pb),qb=((Tb=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:Tb}),Tb.\u0275inj=ft({factory:function(t){return new(t||Tb)},providers:[c_],imports:[jb]}),Tb),Hb=((Ib=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:vb,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=ye({type:Ib}),Ib.\u0275inj=ft({factory:function(t){return new(t||Ib)},providers:[Vb,c_],imports:[jb]}),Ib);function Bb(t,e){return new k(e?function(n){return e.schedule(zb,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function zb(t){var e=t.error;t.subscriber.error(e)}function Gb(t){var e=function(t){return new k((function(e){return t.on("state_changed",(function(t){return e.next(t)}),(function(t){return e.error(t)}),(function(){return e.complete()})),function(){return t.cancel()}}))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(j((function(t){return t.bytesTransferred/t.totalBytes*100})))}}}function Wb(t,e,n){return{getDownloadURL:function(){return B(t.getDownloadURL(),e.outsideAngular).pipe(n)},getMetadata:function(){return B(t.getMetadata()).pipe(n)},delete:function(){return B(t.delete())},child:function(r){return Wb(t.child(r),e,n)},updateMetatdata:function(e){return B(t.updateMetadata(e))},updateMetadata:function(e){return B(t.updateMetadata(e))},put:function(e,n){return Gb(t.put(e,n))},putString:function(e,n,r){return Gb(t.putString(e,n,r))}}}var Kb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(f)),Qb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(Kb),Xb=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Yb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xb.now;return _classCallCheck(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(Xb),$b=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Yb))(Qb),Zb=new Yb(Kb),Jb=1,tw=Promise.resolve(),ew={};function nw(t){return t in ew&&(delete ew[t],!0)}var rw,iw=function(t){var e=Jb++;return ew[e]=!0,tw.then((function(){return nw(e)&&t()})),e},ow=function(t){nw(t)},aw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=iw(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(ow(e),t.scheduled=void 0)}}]),n}(Kb),sw=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(Yb))(aw),uw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sw;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,(u(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=sw),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sw;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(k),cw=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new uw(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),lw=((rw=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Dp(this.value);case"E":return Bb(this.error);case"C":return Vp()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new rw("C"),rw.undefinedValueNotification=new rw("N",void 0),rw);function hw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new fw(t,e))}}var fw=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new dw(t,this.scheduler,this.delay))}}]),t}(),dw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new pw(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(lw.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(lw.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(lw.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(v),pw=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n};function vw(){}var gw=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$b;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),yw=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",vw,{},vw,vw)})),e.pipe(kv(n,n,n)).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),t}(),mw=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new gw(Zone.current)})),this.insideAngular=e.run((function(){return new gw(Zone.current,Zb)}))};function _w(t,e){return function(n){return _h(e)&&(n=n.lift(new yw(t.ngZone))),n.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new cw(t,e))}}(t.outsideAngular),hw(t.insideAngular))}}var bw,ww=n("Wcq6"),kw=n.n(ww),Cw=new Vt("angularfire2.app.options"),Ew=new Vt("angularfire2.app.nameOrConfig"),Sw=new Bs("5.4.2");function Iw(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",kw.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return kw.a.initializeApp(t,r)}))}var Tw,Pw,Aw={provide:function t(){_classCallCheck(this,t)},useFactory:Iw,deps:[Cw,_c,[new ot,Ew]]},xw=((Tw=bw=function(){function t(e){_classCallCheck(this,t),kw.a.registerVersion&&(kw.a.registerVersion("angularfire",Sw.full,e.toString()),kw.a.registerVersion("angular",zs.full))}return _createClass(t,null,[{key:"initializeApp",value:function(t,e){return{ngModule:bw,providers:[{provide:Cw,useValue:t},{provide:Ew,useValue:e}]}}}]),t}()).\u0275mod=ye({type:Tw}),Tw.\u0275inj=ft({factory:function(t){return new(t||Tw)(Xt(rc))},providers:[Aw]}),Tw),Ow=new Vt("angularfire2.storageBucket"),Nw=((Pw=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.schedulers=new mw(o),this.keepUnstableUntilFirst=_w(this.schedulers,i),this.storage=o.runOutsideAngular((function(){return Iw(e,o,n).storage(r||void 0)}))}return _createClass(t,[{key:"ref",value:function(t){return Wb(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return Wb(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||Pw)(Xt(Cw),Xt(Ew,8),Xt(Ow,8),Xt(rc),Xt(_c))},Pw.\u0275prov=ht({token:Pw,factory:Pw.\u0275fac}),Pw);function Dw(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zb;return new k((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function Rw(t,e){return Dw(t,e).pipe(j((function(t){return{payload:t,type:"query"}})))}function Mw(t,e){return Rw(t,e).pipe(j((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function Lw(t,e,n){return Rw(t,n).pipe(j((function(t){return t.payload.docChanges()})),yv((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),j((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function Fw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var Uw=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Mw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Bp((function(t){return t.length>0}))):Mw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(yv((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Fw(t);return Lw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign({},e.data(),_defineProperty({},t.idField,e.id)):e.data()}))})))}},{key:"get",value:function(t){return B(this.query.get(t)).pipe(hw(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new jw(this.ref.doc(t),this.afs)}}]),t}(),jw=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Qw(this.ref.collection(t),e),r=n.ref,i=n.query;return new Uw(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Dw(this.ref,this.afs.schedulers.outsideAngular).pipe(j((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(j((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return B(this.ref.get(t)).pipe(hw(this.afs.schedulers.insideAngular))}}]),t}(),Vw=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Mw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Bp((function(t){return t.length>0}))):Mw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(yv((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Fw(t);return Lw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return Rw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(t){return t.payload.docs.map((function(t){return t.data()}))})))}},{key:"get",value:function(t){return B(this.query.get(t)).pipe(hw(this.afs.schedulers.insideAngular))}}]),t}(),qw=new Vt("angularfire2.enableFirestorePersistence"),Hw=new Vt("angularfire2.firestore.persistenceSettings"),Bw=qw,zw=Hw,Gw=new Vt("angularfire2.firestore.settings"),Ww=parseInt(kw.a.SDK_VERSION.split(".")[0]),Kw=Ww<5||5==Ww&&parseInt(kw.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Qw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Xw,Yw,$w=((Yw=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this.schedulers=new mw(a),this.keepUnstableUntilFirst=_w(this.schedulers,o),this.firestore=a.runOutsideAngular((function(){var t=Iw(e,a,n).firestore();return t.settings(i||Kw),t})),this.persistenceEnabled$=r&&!_h(o)?a.runOutsideAngular((function(){try{return B(u.firestore.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return Dp(!1)}})):Dp(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=Qw("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query;return new Uw(r,i,this)}},{key:"collectionGroup",value:function(t,e){if(Ww<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new Vw(n(r),this)}},{key:"doc",value:function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new jw(e,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Yw)(Xt(Cw),Xt(Ew,8),Xt(Bw,8),Xt(Gw,8),Xt(rc),Xt(_c),Xt(zw,8))},Yw.\u0275prov=ht({token:Yw,factory:Yw.\u0275fac}),Yw),Zw=((Xw=function(){function t(e,n,r){_classCallCheck(this,t),this.router=e,this.afStorage=n,this.afs=r,this.currentDate=new Date,this.downloadurlchange=new P}return _createClass(t,[{key:"handleError",value:function(t){var e;return e=t.error instanceof ErrorEvent?"Error: "+t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),window.alert(e),Bb(e)}},{key:"getdata",value:function(t){this.selectedFile=t}},{key:"get_public_post",value:function(){return this.afs.collection("normal-users").snapshotChanges().pipe(iv(this.handleError))}},{key:"sendUidandUname",value:function(t,e){this.uid=e,this.uname=t}},{key:"createUser",value:function(t){return this.afs.collection("normal-users").add({title:t.title,nameToSearch:t.title.toLowerCase(),desc:t.desc,category:t.category,subcategory:t.subcategory,name:t.name,created_date:this.currentDate,imgurl:this.downloadURL,uid:this.uid,uname:this.uname})}},{key:"uploadFile",value:function(){var t=this;this.afs.collection("test").ref.doc();var e=this.selectedFile;this.filepath="UauthUsers";var n="".concat(this.filepath,"/").concat(e.name),r=this.afStorage.ref(n),i=this.afStorage.upload(n,e);this.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(Sv((function(){r.getDownloadURL().toPromise().then((function(e){t.downloadURL=e,t.downloadurlchange.next(t.downloadURL)})).catch((function(t){console.log(t)}))}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Xw)(Xt(Wy),Xt(Nw),Xt($w))},Xw.\u0275prov=ht({token:Xw,factory:Xw.\u0275fac,providedIn:"root"}),Xw),Jw=n("mrSG"),tk=function(){function t(e,n,r,i){_classCallCheck(this,t),this.email=e,this.id=n,this._token=r,this._tokenExpirationDate=i}return _createClass(t,[{key:"token",get:function(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}]),t}(),ek=function t(){_classCallCheck(this,t)},nk=function t(){_classCallCheck(this,t)},rk=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),ik=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return ok(t)}},{key:"encodeValue",value:function(t){return ok(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function ok(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var ak=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new ik,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function sk(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function uk(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ck(t){return"undefined"!=typeof FormData&&t instanceof FormData}var lk=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new rk),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new ak,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:sk(this.body)||uk(this.body)||ck(this.body)||"string"==typeof this.body?this.body:this.body instanceof ak?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||ck(this.body)?null:uk(this.body)?this.body.type||null:sk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ak?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),hk=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),fk=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new rk,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},dk=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=hk.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(fk),pk=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=hk.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(fk),vk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(fk);function gk(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var yk,mk,_k,bk,wk,kk,Ck,Ek,Sk,Ik,Tk=((yk=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof lk)n=t;else{var o=void 0;o=i.headers instanceof rk?i.headers:new rk(i.headers);var a=void 0;i.params&&(a=i.params instanceof ak?i.params:new ak({fromObject:i.params})),n=new lk(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Dp(n).pipe(bv((function(t){return r.handler.handle(t)})));if(t instanceof lk||"events"===i.observe)return s;var u=s.pipe(Bp((function(t){return t instanceof pk})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(j((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(j((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new ak).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,gk(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,gk(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,gk(n,e))}}]),t}()).\u0275fac=function(t){return new(t||yk)(Xt(ek))},yk.\u0275prov=ht({token:yk,factory:yk.\u0275fac}),yk),Pk=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Ak=new Vt("HTTP_INTERCEPTORS"),xk=((mk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||mk)},mk.\u0275prov=ht({token:mk,factory:mk.\u0275fac}),mk),Ok=/^\)\]\}',?\n/,Nk=function t(){_classCallCheck(this,t)},Dk=((bk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||bk)},bk.\u0275prov=ht({token:bk,factory:bk.\u0275fac}),bk),Rk=((_k=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new k((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new rk(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new dk({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Ok,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new pk({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new vk({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new vk({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:hk.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:hk.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:hk.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||_k)(Xt(Nk))},_k.\u0275prov=ht({token:_k,factory:_k.\u0275fac}),_k),Mk=new Vt("XSRF_COOKIE_NAME"),Lk=new Vt("XSRF_HEADER_NAME"),Fk=function t(){_classCallCheck(this,t)},Uk=((Ik=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Ik)(Xt(Jc),Xt(rc),Xt(Mk))},Ik.\u0275prov=ht({token:Ik,factory:Ik.\u0275fac}),Ik),jk=((Sk=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Sk)(Xt(Fk),Xt(Lk))},Sk.\u0275prov=ht({token:Sk,factory:Sk.\u0275fac}),Sk),Vk=((Ek=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Ak,[]);this.chain=e.reduceRight((function(t,e){return new Pk(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ek)(Xt(nk),Xt(aa))},Ek.\u0275prov=ht({token:Ek,factory:Ek.\u0275fac}),Ek),qk=((Ck=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:jk,useClass:xk}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Mk,useValue:e.cookieName}:[],e.headerName?{provide:Lk,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=ye({type:Ck}),Ck.\u0275inj=ft({factory:function(t){return new(t||Ck)},providers:[jk,{provide:Ak,useExisting:jk,multi:!0},{provide:Fk,useClass:Uk},{provide:Mk,useValue:"XSRF-TOKEN"},{provide:Lk,useValue:"X-XSRF-TOKEN"}]}),Ck),Hk=((kk=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:kk}),kk.\u0275inj=ft({factory:function(t){return new(t||kk)},providers:[Tk,{provide:ek,useClass:Vk},Rk,{provide:nk,useExisting:Rk},Dk,{provide:Nk,useExisting:Dk}],imports:[[qk.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),kk),Bk=((wk=function t(e,n,r,i){var o=this;_classCallCheck(this,t);var a=_w(new mw(i),r);this.auth=i.runOutsideAngular((function(){return Iw(e,i,n).auth()})),this.authState=new k((function(t){return i.runOutsideAngular((function(){return o.auth.onAuthStateChanged(t)}))})).pipe(a),this.user=new k((function(t){return i.runOutsideAngular((function(){return o.auth.onIdTokenChanged(t)}))})).pipe(a),this.idToken=this.user.pipe(dv((function(t){return t?B(t.getIdToken()):Dp(null)}))),this.idTokenResult=this.user.pipe(dv((function(t){return t?B(t.getIdTokenResult()):Dp(null)})))}).\u0275prov=ht({token:wk,factory:wk.\u0275fac=function(t){return new(t||wk)(Xt(Cw),Xt(Ew,8),Xt(rc),Xt(_c))}}),wk),zk=["toast-component",""];function Gk(t,e){if(1&t){var n=Ra();Aa(0,"button",5),Fa("click",(function(){return $e(n),Va().remove()})),Aa(1,"span",6),ls(2,"\xd7"),xa(),xa()}}function Wk(t,e){if(1&t&&(Na(0),ls(1),Da()),2&t){var n=Va(2);yi(1),fs("[",n.duplicatesCount+1,"]")}}function Kk(t,e){if(1&t&&(Aa(0,"div"),ls(1),ka(2,Wk,2,1,"ng-container",4),xa()),2&t){var n=Va();Ja(n.options.titleClass),ba("aria-label",n.title),yi(1),fs(" ",n.title," "),yi(1),Ta("ngIf",n.duplicatesCount)}}function Qk(t,e){if(1&t&&Oa(0,"div",7),2&t){var n=Va();Ja(n.options.messageClass),Ta("innerHTML",n.message,Xr)}}function Xk(t,e){if(1&t&&(Aa(0,"div",8),ls(1),xa()),2&t){var n=Va();Ja(n.options.messageClass),ba("aria-label",n.message),yi(1),fs(" ",n.message," ")}}function Yk(t,e){if(1&t&&(Aa(0,"div"),Oa(1,"div",9),xa()),2&t){var n=Va();yi(1),$a("width",n.width+"%")}}var $k,Zk,Jk,tC,eC,nC,rC,iC,oC=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new P,this._onAction=new P,this.toastRef.afterClosed().subscribe((function(){s._onAction.complete(),s._onTap.complete()}))}return _createClass(t,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(t){this._onAction.next(t)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),aC=new Vt("ToastConfig"),sC=function(){function t(e,n){_classCallCheck(this,t),this.component=e,this.injector=n}return _createClass(t,[{key:"attach",value:function(t,e){return this._attachedHost=t,t.attach(this,e)}},{key:"detach",value:function(){var t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),uC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._hostDomElement=t,o._componentFactoryResolver=r,o._appRef=i,o}return _createClass(n,[{key:"attachComponentPortal",value:function(t,e){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(t.component);return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn((function(){r._appRef.detachView(n.hostView),n.destroy()})),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}}]),t}()),cC=(($k=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}]),t}()).\u0275fac=function(t){return new(t||$k)(Xt(Jc))},$k.\u0275prov=ht({factory:function(){return new $k(Xt(Jc))},token:$k,providedIn:"root"}),$k),lC=function(){function t(e){_classCallCheck(this,t),this._portalHost=e}return _createClass(t,[{key:"attach",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(t,e)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),t}(),hC=((Zk=function(){function t(e,n,r,i){_classCallCheck(this,t),this._overlayContainer=e,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return _createClass(t,[{key:"create",value:function(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}},{key:"getPaneElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}},{key:"_createPaneElement",value:function(t,e){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(t){return new uC(t,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(t){return new lC(this._createPortalHost(t))}}]),t}()).\u0275fac=function(t){return new(t||Zk)(Xt(cC),Xt(Ms),Xt(jc),Xt(Jc))},Zk.\u0275prov=ht({factory:function(){return new Zk(Xt(cC),Xt(Ms),Xt(jc),Xt(Jc))},token:Zk,providedIn:"root"}),Zk),fC=function(){function t(e){_classCallCheck(this,t),this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new P,this._activate=new P,this._manualClose=new P,this._resetTimeout=new P,this._countDuplicate=new P}return _createClass(t,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}]),t}(),dC=function(){function t(e,n){_classCallCheck(this,t),this._toastPackage=e,this._parentInjector=n}return _createClass(t,[{key:"get",value:function(t,e,n){return t===oC?this._toastPackage:this._parentInjector.get(t,e,n)}}]),t}(),pC=((tC=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}return _createClass(t,[{key:"show",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,t,e,this.applyConfig(n))}},{key:"success",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}},{key:"error",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}},{key:"info",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}},{key:"warning",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}},{key:"clear",value:function(t){var e,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(t){var e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=_createForOfIteratorHelper(this.toasts);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.message===e)return o.toastRef.onDuplicate(n,r),o}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"applyConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),t)}},{key:"_findToast",value:function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}},{key:"_preBuildNotification",value:function(t,e,n,r){var i=this;return r.onActivateTick?this.ngZone.run((function(){return i._buildNotification(t,e,n,r)})):this._buildNotification(t,e,n,r)}},{key:"_buildNotification",value:function(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");var i=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;var o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;var s=e;e&&r.enableHtml&&(s=this.sanitizer.sanitize(Wr.HTML,e));var u=new fC(a),c=new oC(this.index,r,s,n,t,u),l=new dC(c,this._injector),h=new sC(r.toastComponent,l),f=a.attach(h,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;var d={toastId:this.index,message:e||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout((function(){d.toastRef.activate()}))),this.toasts.push(d),d}}]),t}()).\u0275fac=function(t){return new(t||tC)(Xt(aC),Xt(hC),Xt(aa),Xt(rf),Xt(_c))},tC.\u0275prov=ht({factory:function(){return new tC(Xt(aC),Xt(hC),Xt(qt),Xt(rf),Xt(_c))},token:tC,providedIn:"root"}),tC),vC=((Jk=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe((function(){i.activateToast()})),this.sub1=n.toastRef.manualClosed().subscribe((function(){i.remove()})),this.sub2=n.toastRef.timeoutReset().subscribe((function(){i.resetTimeout()})),this.sub3=n.toastRef.countDuplicate().subscribe((function(t){i.duplicatesCount=t}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var t=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout((function(){return t.remove()}),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval((function(){return t.updateProgress()}),10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var t=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout((function(){return t.remove()}),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return t.updateProgress()}),10)}},{key:"remove",value:function(){var t=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout((function(){return t.toastrService.remove(t.toastPackage.toastId)}),+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var t=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout((function(){return t.remove()}),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return t.updateProgress()}),10))}},{key:"outsideTimeout",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.timeout=setTimeout((function(){return n.runInsideAngular(t)}),e)})):this.timeout=setTimeout((function(){return t()}),e)}},{key:"outsideInterval",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.intervalId=setInterval((function(){return n.runInsideAngular(t)}),e)})):this.intervalId=setInterval((function(){return t()}),e)}},{key:"runInsideAngular",value:function(t){this.ngZone?this.ngZone.run((function(){return t()})):t()}},{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}}]),t}()).\u0275fac=function(t){return new(t||Jk)(Ea(pC),Ea(oC),Ea(_c))},Jk.\u0275cmp=de({type:Jk,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&Fa("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(ps("@flyInOut",e.state),Ja(e.toastClasses),$a("display",e.displayStyle))},attrs:zk,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(ka(0,Gk,3,0,"button",0),ka(1,Kk,3,5,"div",1),ka(2,Qk,1,3,"div",2),ka(3,Xk,2,4,"div",3),ka(4,Yk,2,2,"div",4)),2&t&&(Ta("ngIf",e.options.closeButton),yi(1),Ta("ngIf",e.title),yi(1),Ta("ngIf",e.message&&e.options.enableHtml),yi(1),Ta("ngIf",e.message&&!e.options.enableHtml),yi(1),Ta("ngIf",e.options.progressBar))},directives:[ah],encapsulation:2,data:{animation:[lf("flyInOut",[pf("inactive",df({opacity:0})),pf("active",df({opacity:1})),pf("removed",df({opacity:0})),vf("inactive => active",hf("{{ easeTime }}ms {{ easing }}")),vf("active => removed",hf("{{ easeTime }}ms {{ easing }}"))])]}}),Jk),gC=Object.assign(Object.assign({},{maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"}),{toastComponent:vC}),yC=((iC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[{provide:aC,useValue:{default:gC,config:e}}]}}}]),t}()).\u0275mod=ye({type:iC}),iC.\u0275inj=ft({factory:function(t){return new(t||iC)},imports:[[mh]]}),iC),mC=((rC=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this.http=e,this.afAuth=n,this.router=r,this.toastr=i,this.ngZone=o,this.isAuthenticated=!1,this.api=Xc.apiKey,this.user=new Rp(null),this.userdata=null,this.LoginData=new Rp(null),this.afAuth.authState.subscribe((function(t){t?(a.userData=t,localStorage.setItem("user",JSON.stringify(a.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))}))}return _createClass(t,[{key:"signup",value:function(t,e){var n=this;return this.http.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key="+this.api,{email:t,password:e,returnSecureToken:!0}).pipe(iv(this.handleError),kv((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"login",value:function(t,e){var n=this;return this.http.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key="+this.api,{email:t,password:e,returnSecureToken:!0}).pipe(iv(this.handleError),kv((function(t){n.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)})))}},{key:"doGoogleLogin",value:function(){var t=this;return new Promise((function(e,n){var r=new ww.auth.GoogleAuthProvider;r.addScope("profile"),r.addScope("email"),t.afAuth.auth.signInWithPopup(r).then((function(n){t.handleAuthentication(n.user.email,n.user.uid,n.user.refreshToken,36e4),e(n)}),(function(t){n(t)}))}))}},{key:"autoLogin",value:function(){var t=JSON.parse(localStorage.getItem("userData"));if(t){var e=new tk(t.email,t.id,t._token,new Date(t._tokenExpirationDate));if(e.token){this.user.next(e);var n=new Date(t._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(n)}}}},{key:"logout",value:function(){var t=this;return this.afAuth.auth.signOut().then((function(){t.user.next(null),localStorage.removeItem("userData"),t.tokenExpirationTimer&&clearTimeout(t.tokenExpirationTimer),t.tokenExpirationTimer=null,t.router.navigate(["/auth"])}))}},{key:"autoLogout",value:function(t){var e=this;this.tokenExpirationTimer=setTimeout((function(){e.logout()}),t)}},{key:"handleAuthentication",value:function(t,e,n,r){var i=new Date((new Date).getTime()+1e3*r),o=new tk(t,e,n,i);this.userdata=o,this.user.next(o),this.autoLogout(1e3*r),localStorage.setItem("userData",JSON.stringify(o)),this.isAuthenticated=!0}},{key:"handleError",value:function(t){var e="An unknown error occurred!";if(!t.error||!t.error.error)return Bb(e);switch(t.error.error.message){case"EMAIL_EXISTS":e="This email exists already";break;case"EMAIL_NOT_FOUND":e="This email does not exist.";break;case"INVALID_PASSWORD":e="This password is not correct."}return Bb(e)}},{key:"isLoggedIn",value:function(){var t=this;if(this.user.subscribe((function(e){t.userdata=e})),null!==this.userdata)return!0}},{key:"sendEmailVerification",value:function(){this.afAuth.auth.currentUser.sendEmailVerification(),this.router.navigate(["auth"])}},{key:"sendPasswordResetEmail",value:function(t){return Object(Jw.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.afAuth.auth.sendPasswordResetEmail(t).then((function(){n.isAuthenticated&&n.logout(),n.router.navigate(["auth"]),n.showSuccess()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"SignUp",value:function(t,e){var n=this;return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then((function(t){n.logout(),n.SendVerificationMail()}))}},{key:"SendVerificationMail",value:function(){var t=this;return this.afAuth.auth.currentUser.sendEmailVerification().then((function(){t.showError(),t.router.navigate(["verify-mail"])})).catch((function(e){t.toastr.warning(e.message,"Alert",{timeOut:5e3})}))}},{key:"SignIn",value:function(t,e){var n=this;return this.afAuth.auth.signInWithEmailAndPassword(t,e).then((function(t){n.LoginData.next(t),!0!==t.user.emailVerified?n.SendVerificationMail():n.SetUserData(t.user)}))}},{key:"isLoggedIn1",value:function(){var t=JSON.parse(localStorage.getItem("user"));return this.user.next(t),null!==t&&!1!==t.emailVerified}},{key:"SetUserData",value:function(t){var e=this;this.afAuth.authState.subscribe((function(t){if(t){e.userData=t,localStorage.setItem("user",JSON.stringify(e.userData));var n=JSON.parse(localStorage.getItem("user"));e.user.next(n)}else localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user"))}))}},{key:"showSuccess",value:function(){this.toastr.success("Password Link Sent","Please check your registered email",{timeOut:2e4})}},{key:"showError",value:function(){this.toastr.info("Email Verfication Link Sent.Verify Using the link","Please check your registered email",{timeOut:5e3})}},{key:"showerrorForResetMail",value:function(){this.toastr.error("Error while sending Reset Password Link","Error ",{timeOut:5e3})}}]),t}()).\u0275fac=function(t){return new(t||rC)(Xt(Tk),Xt(Bk),Xt(Wy),Xt(pC),Xt(_c))},rC.\u0275prov=ht({token:rC,factory:rC.\u0275fac,providedIn:"root"}),rC),_C=((nC=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this.http=e,this.ucrud=n,this.authService=r,this.afs=i,this.router=o,this.toastr=a,this.postdata={},this.d1=[],this.d2=[],this.d3=[],this.d4=[],this.OthersUid=new Rp(null),this.pu=new Rp(null),this.pr=new Rp(""),this.all=new Rp(this.d3),this.all3=new Rp(this.d3),this.username=new Rp(""),this.PostDataForLikeCount=new Rp(null),this.PostDataForLikedByUser=new Rp(null),setTimeout((function(){s.authService.user.subscribe((function(t){t&&(s.uid=t.id)}))}),2e3)}return _createClass(t,[{key:"getUid",value:function(){var t=this;return new Promise((function(e){t.authService.user.subscribe((function(n){n&&(t.uid=n.uid),e(t.uid)}))}))}},{key:"sortDesecending",value:function(t){return t.sort((function(t,e){return e.created_date-t.created_date})),t}},{key:"createProfile",value:function(t){var e=this;this.getUid(),this.ProfieData={id:this.uid,uname:t.uname,desc:t.desc,email:t.email,name:t.name,created_date:this.ucrud.currentDate,imgurl:this.ucrud.downloadURL,isProfileSet:!0},this.createPublicProfile(this.ProfieData,this.ProfieData.uname),this.getUid().then((function(t){e.http.post("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(e.uid,"/profile.json"),e.ProfieData).subscribe((function(t){e.showSuccessCreateProfile()}))}))}},{key:"createPublicProfile",value:function(t,e){this.http.post("https://write-your-heart-out-b338b.firebaseio.com/PublicProfile/".concat(e,".json"),t).subscribe((function(t){}))}},{key:"getProfile",value:function(){var t=this;if(this.getUid(),this.uid)return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/profile.json"));this.getUid().then((function(e){return t.uid=e,t.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(t.uid,"/profile.json"))}))}},{key:"createPost",value:function(t){var e=this;this.postdata={title:t.title,nameToSearch:t.title.toLowerCase(),desc:t.desc,category:t.category,subcategory:t.subcategory,name:t.name,created_date:this.ucrud.currentDate,imgurl:this.ucrud.downloadURL,privacy:t.privacy,uid:this.id,uname:this.uname},"true"==t.privacy?this.getUid().then((function(t){e.uid=t,e.http.post("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(e.uid,"/public.json"),e.postdata).subscribe((function(t){e.router.navigate([""]),e.showSuccess()}),(function(t){}))})):this.http.post("https://write-your-heart-out-b338b.firebaseio.com/post//".concat(this.uid,"/private.json"),this.postdata).subscribe((function(t){e.router.navigate([""])}))}},{key:"getPublicPost",value:function(){return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/public.json"))}},{key:"getPrivatePost",value:function(){return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/private.json"))}},{key:"getAllData",value:function(){return this.getUid(),Em(this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/public.json")),this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/private.json")))}},{key:"seprate",value:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(Object.assign({},t[n]));return e}},{key:"getDemo1",value:function(){var t=this;this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/private.json")).pipe(j((function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(Object.assign({},t[n]));return e}))).subscribe((function(e){return t.d1=e,t.pr.next(e),t.combine(),t.d1}))}},{key:"getDemo2",value:function(){var t=this;this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/public.json")).pipe(j((function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(Object.assign({},t[n]));return e}))).subscribe((function(e){return t.pu.next(e),t.d2=e,t.combine(),t.d2}))}},{key:"combine",value:function(){this.d3=this.d2.concat(this.d1),this.all.next(this.d3)}},{key:"update",value:function(t,e,n,r){if(this.postdata={title:n.title,nameToSearch:n.title.toLowerCase(),desc:n.desc,category:n.category,subcategory:n.subcategory,name:n.name,imgurl:r,privacy:n.privacy,created_date:this.ucrud.currentDate,uid:e.uid,uname:e.uname},this.Comare_In_FireStore(e,n),"true"==e.privacy)if("true"==n.privacy){var i=this.pb(t,e);this.Edit_Public_Post(this.postdata,i),this.EditInFireStore(this.postdata,e)}else{this.Create_Private_Post(this.postdata);var o=this.pb(t,e);this.deletePublicPost(this.postdata,o),this.deleteFromFireStore(e)}else if("false"==n.privacy){var a=this.getpr(e);this.Edit_Private_Post(this.postdata,a)}else{this.Create_Public_Post(this.postdata);var s=this.getpr(e);this.deletePrivatePost(this.postdata,s),this.CreateInFireStore(this.postdata)}}},{key:"EditInFireStore",value:function(t,e){var n=this;this.x.subscribe((function(r){for(var i in r)r[i].title==e.title&&r[i].name==e.name&&(n.firestorekey=r[i].id,n.afs.collection("normal-users").doc(n.firestorekey).update(t))}))}},{key:"CreateInFireStore",value:function(t){this.afs.collection("normal-users").add(t).then((function(t){})).catch((function(t){}))}},{key:"deleteFromFireStore",value:function(t){var e=this;this.x.subscribe((function(n){for(var r in n)n[r].title==t.title&&n[r].name==t.name&&(e.firestorekey=n[r].id,e.afs.collection("normal-users").doc(e.firestorekey).delete())}))}},{key:"deletePublicPost",value:function(t,e){var n=this;e.subscribe((function(t){n.http.delete("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n.uid,"/public/").concat(n.db_key,".json")).subscribe((function(t){n.router.navigate(["myposts"])}))}))}},{key:"deletePrivatePost",value:function(t,e){var n=this;e.subscribe((function(t){n.http.delete("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n.uid,"/private/").concat(n.db_key,".json")).subscribe((function(t){n.router.navigate(["myposts"])}))}))}},{key:"Edit_Private_Post",value:function(t,e){var n=this;e.subscribe((function(e){n.http.patch("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n.uid,"/private/").concat(n.db_key,".json"),t).subscribe((function(t){n.router.navigate(["myposts/".concat(n.url,"/").concat(n.post_id)]),n.showSuccessEdit()}))}))}},{key:"Edit_Public_Post",value:function(t,e){var n=this;e.subscribe((function(e){n.http.patch("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n.uid,"/public/").concat(n.db_key,".json"),t).subscribe((function(t){n.router.navigate(["myposts/".concat(n.url,"/").concat(n.post_id)]),n.showSuccessEdit()}))}))}},{key:"Create_Private_Post",value:function(t){this.http.post("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/private.json"),this.postdata).subscribe((function(t){}))}},{key:"Create_Public_Post",value:function(t){this.http.post("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/public.json"),t).subscribe((function(t){}))}},{key:"Comare_In_FireStore",value:function(t,e){this.x=this.afs.collection("normal-users").snapshotChanges().pipe(j((function(t){return t.map((function(t){var e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)}))})))}},{key:"pb",value:function(t,e){var n=this;return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/public.json")).pipe(j((function(t){for(var r in t)t[r].title==e.title?n.db_key=r:console.log("no data  ")})))}},{key:"getpr",value:function(t){var e=this;return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/private.json")).pipe(j((function(n){for(var r in n)n[r].title==t.title?e.db_key=r:console.log("no data  ")})))}},{key:"passParams",value:function(t,e){this.url=t,this.post_id=e}},{key:"UpdateProfile",value:function(t,e,n){var r=this;this.editedProfileData={id:e.id,uname:t.uname,desc:t.desc,email:t.email,name:t.name,imgurl:n,isProfileSet:!0,created_date:e.created_date};var i=e.uname,o=t.uname;console.log(n);var a=this.getProfileKey(t,e.uname);this.getPublicProfileKey(t,e.uname),a.subscribe((function(t){r.http.delete("https://write-your-heart-out-b338b.firebaseio.com/PublicProfile/".concat(i,".json")).subscribe((function(t){})),r.createPublicProfile(r.editedProfileData,o),r.http.patch("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(r.uid,"/profile/").concat(r.db_key,".json"),r.editedProfileData).subscribe((function(t){r.username.next(o),r.router.navigate(["/myprofile",o]),r.showSuccessEditProfile()}))}))}},{key:"getPublicProfileKey",value:function(t,e){var n=this;return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/PublicProfile/".concat(e,".json")).pipe(j((function(t){for(var r in t)t[r].uname==e?n.db_key=r:console.log("no data  ")})))}},{key:"getProfileKey",value:function(t,e){var n=this;return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/profile.json")).pipe(j((function(t){for(var r in t)t[r].uname==e?n.db_key=r:console.log("no data  ")})))}},{key:"getPublicProfile",value:function(t){return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/PublicProfile/".concat(t,".json"))}},{key:"getProfileFromUid",value:function(t){return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(t,"/profile.json"))}},{key:"getPublicPostsFromProfileId",value:function(t){return this.uid=t,this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/public.json"))}},{key:"getPrivateFromProfileId",value:function(t){return this.uid=t,this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(this.uid,"/private.json"))}},{key:"sendUidandUname",value:function(t,e){this.uname=t,this.id=e}},{key:"CreateLikeEntry",value:function(t,e,n,r,i){var o=this;this.getUid();var a,s={count:t},u={islike:e,uid:this.uid};this.getPostId(n,r,i).subscribe((function(t){for(var e in t)t[e].title==r&&t[e].desc==i&&(a=e);o.http.patch("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n,"/public/").concat(a,"/likestatus.json"),s).subscribe((function(t){})),o.PostDataForLikedByUser.subscribe((function(t){var e,r=[];for(var i in t)t[i].uid==o.uid&&(e=i,r=r.concat(t[i].uid));var s=r.some((function(t){return t===o.uid}));s&&o.http.put("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n,"/public/").concat(a,"/likestatus/uid/").concat(e,".json"),u).subscribe((function(t){})),s||o.http.post("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n,"/public/").concat(a,"/likestatus/uid.json"),u).subscribe((function(t){})),o.seprate(t)}))}))}},{key:"getLike",value:function(t,e,n){var r,i=this;this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(t,"/public.json")).subscribe((function(o){for(var a in o)o[a].title==e&&o[a].desc==n&&(r=a);return i.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(t,"/public/").concat(r,"/likestatus.json"))}))}},{key:"getPostId",value:function(t,e,n){return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(t,"/public.json"))}},{key:"getPostDetailForLike",value:function(t,e,n){var r,i=this;this.getPostId(t,e,n).subscribe((function(o){for(var a in o)o[a].title==e&&o[a].desc==n&&(r=a);r&&i.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(t,"/public/").concat(r,".json")).subscribe((function(t){var e,n;i.PostDataForLikeCount.next(null===(e=t.likestatus)||void 0===e?void 0:e.count),i.PostDataForLikedByUser.next(null===(n=t.likestatus)||void 0===n?void 0:n.uid)}))}))}},{key:"CreateComment",value:function(t,e,n,r,i){var o=this;return new Promise((function(a){var s;o.getUid(),o.uid=e,o.commentData={comment:t.comment,commentOn:o.ucrud.currentDate,commentByUserId:e},o.getCommentKey(n,r,i).then((function(t){s=t,o.http.post("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(n,"/public/").concat(s,"/commentData.json"),o.commentData).subscribe((function(t){o.getCommentDataFromKey(n,s),a(!0)}))}))}))}},{key:"getCommentDataFromKey",value:function(t,e){return this.http.get("https://write-your-heart-out-b338b.firebaseio.com/post/".concat(t,"/public/").concat(e,"/commentData.json"))}},{key:"getCommentKey",value:function(t,e,n){var r=this;return new Promise((function(i){var o;r.getPostId(t,e,n).subscribe((function(t){for(var r in t)t[r].title==e&&t[r].desc==n&&(o=r);i(o)}))}))}},{key:"deletPostEvent",value:function(t,e){var n=this;return new Promise((function(r){if("true"==t.privacy){var i=n.pb(e,t);n.Comare_In_FireStore(t,i),n.deleteFromFireStore(t),r(n.deletePublicPost(t,i))}if("false"==t.privacy){var o=n.getpr(t);r(n.deletePrivatePost(t,o))}}))}},{key:"getFeaturedPost",value:function(){var t=this;return new Promise((function(e){t.http.get("https://write-your-heart-out-b338b.firebaseio.com/post.json").subscribe((function(n){var r,i=t.seprate(n),o=[];for(var a in i){o=o.concat(t.seprate(i[a].public)),t.featuredPost=o;var s=[];for(var u in t.featuredPost)(null===(r=t.featuredPost[u].likestatus)||void 0===r?void 0:r.count)>10&&(s=s.concat(t.featuredPost[u]),t.featuredPostsorted=s)}e(t.featuredPostsorted)}))}))}},{key:"getAllPost",value:function(){var t=this;return new Promise((function(e){t.http.get("https://write-your-heart-out-b338b.firebaseio.com/post.json").subscribe((function(n){var r=t.seprate(n),i=[];for(var o in r)i=i.concat(t.seprate(r[o].public));e(i)}))}))}},{key:"showSuccess",value:function(){this.toastr.success("Post Added Successfully","Success",{timeOut:2e4})}},{key:"showSuccessDelete",value:function(){this.toastr.success("Post Deleted Successfully","Success",{timeOut:2e4})}},{key:"showSuccessEdit",value:function(){this.toastr.success("Post Edited Successfully","Success",{timeOut:2e4})}},{key:"showSuccessCreateProfile",value:function(){this.toastr.success("Profile Created Successfully","Success",{timeOut:2e4})}},{key:"showSuccessEditProfile",value:function(){this.toastr.success("Profile Edited Successfully","Success",{timeOut:2e4})}},{key:"showWarningForProfileSet",value:function(){this.toastr.warning("Please set your Profile","Warning",{timeOut:2e4})}}]),t}()).\u0275fac=function(t){return new(t||nC)(Xt(Tk),Xt(Zw),Xt(mC),Xt($w),Xt(Wy),Xt(pC))},nC.\u0275prov=ht({token:nC,factory:nC.\u0275fac,providedIn:"root"}),nC),bC=((eC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||eC)},eC.\u0275cmp=de({type:eC,selectors:[["app-loading-spinner"]],decls:3,vars:0,consts:[[1,"lds-dual-ring"]],template:function(t,e){1&t&&(Oa(0,"div",0),Aa(1,"h3"),ls(2,"Loading..."),xa())},styles:['.lds-dual-ring[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto;text-align:center;padding-top:150px}h3[_ngcontent-%COMP%]{text-align:center;padding-top:30px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border-color:#3578f3 transparent #1c82d4;border-style:solid;border-width:6px;-webkit-animation:lds-dual-ring 1.2s linear infinite;animation:lds-dual-ring 1.2s linear infinite}@-webkit-keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),eC);function wC(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}var kC,CC,EC,SC,IC=[[["","quill-editor-toolbar",""]]],TC=["[quill-editor-toolbar]"],PC={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},AC=function(t,e){return t||e||"html"},xC=new Vt("config"),OC=((SC=function(){function t(e){_classCallCheck(this,t),this.config=e,this.count=0,this.config||(this.config={modules:PC})}return _createClass(t,[{key:"getQuill",value:function(){var t=this;return this.count++,this.Quill||1!==this.count||(this.$importPromise=new Promise((function(e){return wC(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r,i,o,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(5).then(n.t.bind(null,"kzlf",7));case 2:o=t.sent,this.Quill=o.default?o.default:o,null===(r=this.config.customOptions)||void 0===r||r.forEach((function(t){var e=a.Quill.import(t.import);e.whitelist=t.whitelist,a.Quill.register(e,!0,a.config.suppressGlobalRegisterWarning)})),null===(i=this.config.customModules)||void 0===i||i.forEach((function(t){var e=t.implementation,n=t.path;a.Quill.register(n,e,a.config.suppressGlobalRegisterWarning)})),e(this.Quill);case 4:case"end":return t.stop()}}),t,this)})))}))),this.$importPromise}}]),t}()).\u0275fac=function(t){return new(t||SC)(Xt(xC))},SC.\u0275prov=ht({factory:function(){return new SC(Xt(xC))},token:SC,providedIn:"root"}),SC),NC=((EC=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this.elementRef=e,this.domSanitizer=n,this.doc=r,this.platformId=i,this.renderer=o,this.zone=a,this.service=s,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.onEditorCreated=new Mu,this.onEditorChanged=new Mu,this.onContentChanged=new Mu,this.onSelectionChanged=new Mu,this.onFocus=new Mu,this.onBlur=new Mu,this.disabled=!1,this.valueGetter=function(t,e){var n=e.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==n&&"<div><br></div>"!==n||(n=null);var r=n,i=AC(u.format,u.service.config.format);if("text"===i)r=t.getText();else if("object"===i)r=t.getContents();else if("json"===i)try{r=JSON.stringify(t.getContents())}catch(o){r=t.getText()}return r},this.valueSetter=function(t,e){var n=AC(u.format,u.service.config.format);if("html"===n)return u.sanitize&&(e=u.domSanitizer.sanitize(Wr.HTML,e)),t.clipboard.convert(e);if("json"===n)try{return JSON.parse(e)}catch(r){return[{insert:e}]}return e},this.selectionChangeHandler=function(t,e,n){var r=!t&&!!u.onModelTouched;(u.onBlur.observers.length||u.onFocus.observers.length||u.onSelectionChanged.observers.length||r)&&u.zone.run((function(){null===t?u.onBlur.emit({editor:u.quillEditor,source:n}):null===e&&u.onFocus.emit({editor:u.quillEditor,source:n}),u.onSelectionChanged.emit({editor:u.quillEditor,oldRange:e,range:t,source:n}),r&&u.onModelTouched()}))},this.textChangeHandler=function(t,e,n){var r=u.quillEditor.getText(),i=u.quillEditor.getContents(),o=u.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==o&&"<div><br></div>"!==o||(o=null);var a=u.trackChanges||u.service.config.trackChanges,s=("user"===n||a&&"all"===a)&&!!u.onModelChange;(u.onContentChanged.observers.length||s)&&u.zone.run((function(){s&&u.onModelChange(u.valueGetter(u.quillEditor,u.editorElem)),u.onContentChanged.emit({content:i,delta:t,editor:u.quillEditor,html:o,oldDelta:e,source:n,text:r})}))},this.editorChangeHandler=function(t,e,n,r){if(u.onEditorChanged.observers.length)if("text-change"===t){var i=u.quillEditor.getText(),o=u.quillEditor.getContents(),a=u.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==a&&"<div><br></div>"!==a||(a=null),u.zone.run((function(){u.onEditorChanged.emit({content:o,delta:e,editor:u.quillEditor,event:t,html:a,oldDelta:n,source:r,text:i})}))}else u.onEditorChanged.emit({editor:u.quillEditor,event:t,oldRange:n,range:e,source:r})}}return _createClass(t,[{key:"ngAfterViewInit",value:function(){return wC(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,i,o,a,s,u,c,l,h,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!_h(this.platformId)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.service.getQuill();case 4:if(e=t.sent,this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]"),n=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules||this.service.config.modules),n?r.toolbar=n:void 0===r.toolbar&&(r.toolbar=PC.toolbar),void 0===(i=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder)&&(i="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach((function(t){f.renderer.setStyle(f.editorElem,t,f.styles[t])})),this.classes&&this.addClasses(this.classes),this.customOptions.forEach((function(t){var n=e.import(t.import);n.whitelist=t.whitelist,e.register(n,!0)})),this.customModules.forEach((function(t){var n=t.implementation,r=t.path;e.register(r,n)})),(o=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds)||(o=this.service.config.bounds?this.service.config.bounds:this.doc.body),!(a=this.debug)&&!1!==a&&this.service.config.debug&&(a=this.service.config.debug),(s=this.readOnly)||!1===this.readOnly||(s=void 0!==this.service.config.readOnly&&this.service.config.readOnly),(u=this.scrollingContainer)||null===this.scrollingContainer||(u=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null),(c=this.formats)||void 0!==c||(c=this.service.config.formats?_toConsumableArray(this.service.config.formats):null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular((function(){f.quillEditor=new e(f.editorElem,{bounds:o,debug:a,formats:c,modules:r,placeholder:i,readOnly:s,scrollingContainer:u,strict:f.strict,theme:f.theme||(f.service.config.theme?f.service.config.theme:"snow")})})),this.content){if("object"===(l=AC(this.format,this.service.config.format)))this.quillEditor.setContents(this.content,"silent");else if("text"===l)this.quillEditor.setText(this.content,"silent");else if("json"===l)try{this.quillEditor.setContents(JSON.parse(this.content),"silent")}catch(d){this.quillEditor.setText(this.content,"silent")}else this.sanitize&&(this.content=this.domSanitizer.sanitize(Wr.HTML,this.content)),h=this.quillEditor.clipboard.convert(this.content),this.quillEditor.setContents(h,"silent");this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.quillEditor.on("editor-change",this.editorChangeHandler),this.quillEditor.on("selection-change",this.selectionChangeHandler),this.quillEditor.on("text-change",this.textChangeHandler),setTimeout((function(){f.onValidatorChanged&&f.onValidatorChanged(),f.onEditorCreated.emit(f.quillEditor)}));case 21:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnDestroy",value:function(){this.quillEditor&&(this.quillEditor.off("selection-change",this.selectionChangeHandler),this.quillEditor.off("text-change",this.textChangeHandler),this.quillEditor.off("editor-change",this.editorChangeHandler))}},{key:"ngOnChanges",value:function(t){var e=this;if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.styles){var n=t.styles.currentValue,r=t.styles.previousValue;r&&Object.keys(r).forEach((function(t){e.renderer.removeStyle(e.editorElem,t)})),n&&Object.keys(n).forEach((function(t){e.renderer.setStyle(e.editorElem,t,e.styles[t])}))}if(t.classes){var i=t.classes.currentValue,o=t.classes.previousValue;o&&this.removeClasses(o),i&&this.addClasses(i)}}}},{key:"addClasses",value:function(e){var n=this;t.normalizeClassNames(e).forEach((function(t){n.renderer.addClass(n.editorElem,t)}))}},{key:"removeClasses",value:function(e){var n=this;t.normalizeClassNames(e).forEach((function(t){n.renderer.removeClass(n.editorElem,t)}))}},{key:"writeValue",value:function(t){this.content=t;var e=AC(this.format,this.service.config.format);if(this.quillEditor){if(t)return void("text"===e?this.quillEditor.setText(t):this.quillEditor.setContents(this.valueSetter(this.quillEditor,this.content)));this.quillEditor.setText("")}}},{key:"setDisabledState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.disabled;this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"registerOnValidatorChange",value:function(t){this.onValidatorChanged=t}},{key:"validate",value:function(){if(!this.quillEditor)return null;var t={},e=!0,n=this.quillEditor.getText(),r=this.trimOnValidation?n.trim().length:1===n.length&&0===n.trim().length?0:n.length-1;return this.minLength&&r&&r<this.minLength&&(t.minLengthError={given:r,minLength:this.minLength},e=!1),this.maxLength&&r>this.maxLength&&(t.maxLengthError={given:r,maxLength:this.maxLength},e=!1),this.required&&!r&&(t.requiredError={empty:!0},e=!1),e?null:t}}],[{key:"normalizeClassNames",value:function(t){return t.trim().split(" ").reduce((function(t,e){var n=e.trim();return n&&t.push(n),t}),[])}}]),t}()).\u0275fac=function(t){return new(t||EC)(Ea(Ls),Ea(rf),Ea(Jc),Ea(rc),Ea(Vs),Ea(_c),Ea(OC))},EC.\u0275dir=_e({type:EC,inputs:{required:"required",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",customOptions:"customOptions",customModules:"customModules",preserveWhitespace:"preserveWhitespace",trimOnValidation:"trimOnValidation",valueGetter:"valueGetter",valueSetter:"valueSetter",format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",formats:"formats",scrollingContainer:"scrollingContainer",bounds:"bounds",trackChanges:"trackChanges",classes:"classes"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[ks]}),EC),DC=((CC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s,u){return _classCallCheck(this,n),e.call(this,t,r,i,o,a,s,u)}return n}(NC)).\u0275fac=function(t){return new(t||CC)(Ea(Ls),Ea(rf),Ea(Jc),Ea(rc),Ea(Vs),Ea(_c),Ea(OC))},CC.\u0275cmp=de({type:CC,selectors:[["quill-editor"]],features:[Ns([{multi:!0,provide:xm,useExisting:Et((function(){return CC}))},{multi:!0,provide:Km,useExisting:Et((function(){return CC}))}]),gs],ngContentSelectors:TC,decls:1,vars:0,template:function(t,e){1&t&&(function(t){var e=Xe()[16][6];if(!e.projection)for(var n=e.projection=ie(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?qa(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}(IC),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Xe(),i=Ye(),o=Pi(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),en(),function(t,e,n){No(e[11],0,e,n,ko(t,n,e),To(n.parent||e[6],e))}(i,r,o)}(0))},encapsulation:2}),CC),RC=((kC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e){return{ngModule:t,providers:[{provide:xC,useValue:e}]}}}]),t}()).\u0275mod=ye({type:kC}),kC.\u0275inj=ft({factory:function(t){return new(t||kC)},providers:[OC],imports:[[mh]]}),kC);function MC(t,e){if(1&t&&(Aa(0,"div",5),Aa(1,"p"),ls(2),xa(),xa()),2&t){var n=Va();yi(2),hs(n.error)}}function LC(t,e){1&t&&(Aa(0,"div",6),Oa(1,"app-loading-spinner"),xa())}function FC(t,e){1&t&&(Aa(0,"div",30),Oa(1,"img",31),xa())}function UC(t,e){if(1&t&&(Aa(0,"div",32),Aa(1,"a",33),ls(2,"To view Image click here"),xa(),xa()),2&t){var n=Va(2);yi(1),Ha("href",n.downloadURL,Yr)}}function jC(t,e){if(1&t&&(Aa(0,"div",35),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function VC(t,e){if(1&t&&(Na(0),ka(1,jC,2,1,"div",34),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}function qC(t,e){if(1&t&&(Aa(0,"div",35),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function HC(t,e){1&t&&(Aa(0,"div",35),ls(1," Minimun 50 characters required in description"),xa())}function BC(t,e){if(1&t&&(Na(0),ka(1,qC,2,1,"div",34),ka(2,HC,2,0,"div",34),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("desc").hasError(n.type)&&(r.exampleForm.get("desc").dirty||r.exampleForm.get("desc").touched)),yi(1),Ta("ngIf",r.exampleForm.get("desc").hasError("minlength")&&r.exampleForm.get("desc").touched)}}function zC(t,e){if(1&t&&(Aa(0,"option"),ls(1),xa()),2&t){var n=e.$implicit;yi(1),fs("",n," ")}}function GC(t,e){if(1&t&&(Aa(0,"div",35),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function WC(t,e){if(1&t&&(Na(0),ka(1,GC,2,1,"div",34),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("category").hasError(n.type)&&(r.exampleForm.get("category").dirty||r.exampleForm.get("category").touched))}}function KC(t,e){1&t&&(Aa(0,"div",17),Oa(1,"input",36),xa())}function QC(t,e){if(1&t&&(Aa(0,"div",35),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function XC(t,e){if(1&t&&(Na(0),ka(1,QC,2,1,"div",34),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("name").hasError(n.type)&&(r.exampleForm.get("name").dirty||r.exampleForm.get("name").touched))}}function YC(t,e){if(1&t&&(Aa(0,"div",35),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function $C(t,e){if(1&t&&(Na(0),ka(1,YC,2,1,"div",34),Da()),2&t){var n=e.$implicit,r=Va(3);yi(1),Ta("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}function ZC(t,e){if(1&t&&(Aa(0,"div",15),Aa(1,"label",16),ls(2,"Keep your post Public:"),xa(),Aa(3,"div",17),Aa(4,"label",37),Oa(5,"input",38),ls(6," Yes keep my post Public "),xa(),Oa(7,"br"),Aa(8,"label",37),Oa(9,"input",39),ls(10," No keep it private "),xa(),xa(),ka(11,$C,2,1,"ng-container",19),xa()),2&t){var n=Va(2);yi(11),Ta("ngForOf",n.validation_messages.title)}}var JC=function(){return{height:"200px"}};function tE(t,e){if(1&t){var n=Ra();Aa(0,"form",7),Fa("ngSubmit",(function(){$e(n);var t=Va();return t.onSubmit(t.exampleForm.value)})),Aa(1,"div",8),Aa(2,"input",9),Fa("change",(function(t){return $e(n),Va().detectFiles(t)})),xa(),Oa(3,"img",10),Aa(4,"div",11),Aa(5,"h3"),ls(6),xu(7,"async"),xa(),xa(),ka(8,FC,2,0,"div",12),ka(9,UC,3,1,"div",13),xa(),Oa(10,"br"),Aa(11,"div",14),Aa(12,"div",15),Aa(13,"label",16),ls(14,"Title:"),xa(),Aa(15,"div",17),Oa(16,"input",18),xa(),ka(17,VC,2,1,"ng-container",19),xa(),Aa(18,"div",15),Aa(19,"label",16),ls(20,"Description:"),xa(),Oa(21,"quill-editor",20),ka(22,BC,3,2,"ng-container",19),xa(),Aa(23,"div",15),Aa(24,"label",21),ls(25,"Category list:"),xa(),Aa(26,"select",22,23),Fa("change",(function(){$e(n);var t=Ca(27);return Va().onChange(t.value)})),ka(28,zC,2,1,"option",19),xa(),ka(29,WC,2,1,"ng-container",19),xa(),Aa(30,"div",15),ka(31,KC,2,0,"div",24),xa(),Aa(32,"div",15),Aa(33,"label",16),ls(34,"Name:"),xa(),Aa(35,"div",17),Oa(36,"input",25),xa(),ka(37,XC,2,1,"ng-container",19),xa(),ka(38,ZC,12,1,"div",26),Aa(39,"div",27),Aa(40,"div",28),Aa(41,"button",29),ls(42,"Create"),xa(),xa(),xa(),xa(),xa()}if(2&t){var r=Va();Ta("formGroup",r.exampleForm),yi(3),Ta("src",r.imageSrc||"http://placehold.it/180",Yr),yi(3),hs(Ou(7,15,r.uploadPercent)),yi(2),Ta("ngIf",r.isimgloading),yi(1),Ta("ngIf",r.uploadPercent&&!r.isimgloading),yi(8),Ta("ngForOf",r.validation_messages.title),yi(4),Ta("styles",Su(17,JC))("modules",r.modules),yi(1),Ta("ngForOf",r.validation_messages.desc),yi(6),Ta("ngForOf",r.values),yi(1),Ta("ngForOf",r.validation_messages.category),yi(2),Ta("ngIf","Other"==r.selected),yi(6),Ta("ngForOf",r.validation_messages.name),yi(1),Ta("ngIf",r.isAuthenticated),yi(3),Ta("disabled",!r.exampleForm.valid)}}var eE,nE,rE=((nE=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.firebaseService=n,this.fb=r,this.authService=i,this.acrud=o,this.isAuthenticated=!1,this.modules={},this.values=["Happy","Sad","Success","Failure","Hurt","Study","Educational","Portfolio","Other"],this.selected="Happy",this.isloggedin=!1,this.validation_messages={title:[{type:"required",message:"Title is required."}],desc:[{type:"required",message:"Description is required."}],category:[{type:"required",message:"Category is required."}],name:[{type:"required",message:"Name is required."}]},this.modules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{align:[]}],["clean"],["link","video"]]}}return _createClass(t,[{key:"onChange",value:function(t){this.selected=t}},{key:"detectFiles",value:function(t){var e=this;if(this.isimgloading=!0,this.selectedFile=t.target.files[0],"image"!==this.selectedFile.type.split("/")[0])return alert("Pleas select an Image file");if(this.firebaseService.getdata(this.selectedFile),t.target.files&&t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.onload=function(t){return e.imageSrc=r.result},r.readAsDataURL(n)}this.firebaseService.uploadFile(),this.uploadPercent=this.firebaseService.uploadPercent,this.firebaseService.downloadurlchange.subscribe((function(t){e.downloadURL=t,e.isimgloading=!1}),(function(t){e.error=t,console.log(t.message)}))}},{key:"ngOnInit",value:function(){var t=this;this.userSub=this.authService.user.subscribe((function(e){t.isAuthenticated=!!e,t.acrud.getProfileFromUid(e.uid).subscribe((function(e){var n,r=t.acrud.seprate(e);t.isprofileset=null===(n=r[0])||void 0===n?void 0:n.isProfileSet,t.isprofileset||(t.router.navigate(["myprofile"]),t.acrud.showWarningForProfileSet())}))})),this.createForm(),this.isAuthenticated&&this.getUidandUname()}},{key:"getUidandUname",value:function(){var t=this;this.isloading=!0,this.acrud.getProfile().subscribe((function(e){var n,r,i=t.acrud.seprate(e);t.isloading=!1,t.username=null===(n=i[0])||void 0===n?void 0:n.uname,t.uid=null===(r=i[0])||void 0===r?void 0:r.id,t.acrud.sendUidandUname(t.username,t.uid),t.firebaseService.sendUidandUname(t.username,t.uid)}),(function(e){t.error=e}))}},{key:"createForm",value:function(){this.exampleForm=this.fb.group({imgurl:["",Ym.required],title:["",Ym.required],desc:["",[Ym.required,Ym.minLength(50)]],category:[this.selected,Ym.required],subcategory:["  ",Ym.required],name:["",Ym.required],privacy:["true"]})}},{key:"onSubmit",value:function(t){var e=this;this.isAuthenticated?("true"==this.exampleForm.value.privacy&&this.firebaseService.createUser(t),this.acrud.createPost(t),this.exampleForm.reset(),this.isloading=!0):this.firebaseService.createUser(t).then((function(t){e.exampleForm.reset(),e.router.navigate([""])})).catch((function(t){e.error=t,console.log("err"+t)}))}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||nE)(Ea(Wy),Ea(Zw),Ea(Vb),Ea(mC),Ea(_C))},nE.\u0275cmp=de({type:nE,selectors:[["app-u-create-post"]],decls:5,vars:3,consts:[[1,"container"],[1,"col-md-10","col-sm-12","col-xs-12","center-block"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;","class","loading-text",4,"ngIf"],["class","create-form","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"loading-text",2,"text-align","center"],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"col-md-4","col-sm-3","col-xs-12"],["type","file","multiple","","accept","image/x-png,image/gif,image/jpeg","formControlName","imgurl",1,"form-control",3,"change"],["id","blah","height","200","width","200","alt","your image",1,"img-rounded",3,"src"],[1,"col-xs-2","percantage"],["class","col-xs-3","style","width: 30px; height: 30px;",4,"ngIf"],["class","col-xs-7",4,"ngIf"],[1,"col-md-8","col-sm-9","col-xs-12"],[1,"form-group"],["for","comment"],[1,"input-style"],["placeholder","Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["trackChanges","all","id","comment","formControlName","desc",3,"styles","modules"],["for","sel1"],["formControlName","category",1,"form-control",3,"change"],["t",""],["class","input-style",4,"ngIf"],["placeholder","Name","formControlName","name",1,"form-control"],["class","form-group",4,"ngIf"],[1,"row","submit-button-container"],[1,"col-md-4"],["color","primary","type","submit",1,"btn","btn-primary","submit-button",3,"disabled"],[1,"col-xs-3",2,"width","30px","height","30px"],["src","https://mehulk05.github.io/Blog-Book/assets/Eclipse-1s-200px.gif",2,"width","60px","height","60px"],[1,"col-xs-7"],[3,"href"],["class","help-block has-error",4,"ngIf"],[1,"help-block","has-error"],["placeholder","Other category","formControlName","subcategory",1,"form-control"],[1,"md-check"],["type","radio","value","true","name","privacy","formControlName","privacy","checked","true"],["type","radio","value","false","name","privacy","formControlName","privacy"]],template:function(t,e){1&t&&(Aa(0,"div",0),Aa(1,"div",1),ka(2,MC,3,1,"div",2),ka(3,LC,2,0,"div",3),ka(4,tE,43,18,"form",4),xa(),xa()),2&t&&(yi(2),Ta("ngIf",e.error),yi(1),Ta("ngIf",e.isloading),yi(1),Ta("ngIf",!e.isloading))},directives:[ah,bC,pb,Gm,yb,Mm,zm,Nb,ih,DC,w_,k_,P_,l_],pipes:[gh],styles:["input[type=file][_ngcontent-%COMP%]{width:200px}.col-md-4.col-sm-3.col-xs-12[_ngcontent-%COMP%]{margin-bottom:25px}.percantage[_ngcontent-%COMP%]{width:29%}.center-block[_ngcontent-%COMP%]{float:none}.col-xs-7[_ngcontent-%COMP%]{padding-top:15px}"]}),nE),iE=((eE=function(){function t(e){_classCallCheck(this,t),this.domSanitizer=e}return _createClass(t,[{key:"transform",value:function(t){return this.domSanitizer.bypassSecurityTrustHtml(t)}}]),t}()).\u0275fac=function(t){return new(t||eE)(Ea(rf))},eE.\u0275pipe=be({name:"noSanitize",type:eE,pure:!0}),eE),oE=function(t,e){return["/myposts",t,e,"edit"]},aE=function(t){return{active:t}},sE=function(){return["/myposts"]};function uE(t,e){if(1&t){var n=Ra();Aa(0,"div",12),Aa(1,"div",13),Aa(2,"a",14),ls(3,"Add new Post"),xa(),Aa(4,"a",15),ls(5,"Edit Post"),xa(),Aa(6,"a",16),ls(7,"Delete Post"),xa(),Aa(8,"a",17),ls(9,"My Posts"),xa(),xa(),Aa(10,"div",18),Aa(11,"div",19),Aa(12,"div",20),Aa(13,"div",21),Aa(14,"button",22),ls(15,"\xd7"),xa(),Aa(16,"h4",23),ls(17,"Please confirm Delete Action"),xa(),xa(),Aa(18,"div",24),Aa(19,"p"),ls(20,"Are you sure you want to Delete Post."),xa(),xa(),Aa(21,"div",25),Aa(22,"button",26),Fa("click",(function(){return $e(n),Va().OnDelete()})),ls(23,"Delete"),xa(),Aa(24,"button",27),ls(25,"Close"),xa(),xa(),xa(),xa(),xa(),xa()}if(2&t){var r=Va();yi(4),Ta("routerLink",(i=oE,o=r.postype,a=r.id,Au(Xe(),on(),3,i,o,a,void 0))),yi(4),Ta("ngClass",Iu(6,aE,1==r.isPrivate))("routerLink",Su(8,sE))}var i,o,a}function cE(t,e){if(1&t&&(Aa(0,"span"),Aa(1,"b"),ls(2,"Sub "),xa(),ls(3),xa()),2&t){var n=Va(2);yi(3),fs(" ",n.unauthpost.subcategory," ")}}function lE(t,e){1&t&&Oa(0,"img",42),2&t&&Ta("src","https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr)}function hE(t,e){if(1&t){var n=Ra();Aa(0,"div"),ka(1,lE,1,1,"img",40),Aa(2,"img",41),Fa("load",(function(){return $e(n),Va(2).isImgLoaded=!0})),xa(),Aa(3,"figcaption"),ls(4),xa(),xa()}if(2&t){var r=Va(2);yi(1),Ta("ngIf",!r.isImgLoaded),yi(1),Ta("hidden",!r.isImgLoaded)("src",r.unauthpost.imgurl,Yr),yi(2),hs(r.unauthpost.title)}}function fE(t,e){if(1&t){var n=Ra();Aa(0,"div",0),Aa(1,"div",28),Aa(2,"h2",29),ls(3),xa(),ls(4," ' "),Aa(5,"div",30),Oa(6,"img",31),Aa(7,"div",32),Aa(8,"a",33),Fa("click",(function(){$e(n);var t=Va();return t.navigateToProfile(t.unauthpost.uname)})),ls(9),xa(),Aa(10,"p",34),Aa(11,"b"),ls(12,"Category: "),xa(),ls(13),ka(14,cE,4,1,"span",5),xa(),xa(),Aa(15,"p",35),ls(16),xu(17,"date"),xa(),xa(),ka(18,hE,5,4,"div",36),Aa(19,"div",37),Fa("click",(function(){return $e(n),Va().Like()})),Aa(20,"div",38),Aa(21,"span"),ls(22),xa(),xa(),xa(),Oa(23,"p",39),xu(24,"noSanitize"),xa(),xa()}if(2&t){var r=Va(),i=Ca(12);yi(3),fs(" ",r.unauthpost.title," "),yi(3),Ta("src",r.ProfileImgUrl||"https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr),yi(3),fs(" ",r.unauthpost.uname," "),yi(4),fs(" ",r.unauthpost.category," "),yi(1),Ta("ngIf",r.unauthpost.subcategory&&r.unauthpost.subcategory.trim()),yi(2),fs(" ",Nu(17,11,r.postDate,"medium")," "),yi(2),Ta("ngIf",r.unauthpost.imgurl)("ngIfElse",i),yi(2),Ta("ngClass",r.likeStatus?"is-active":""),yi(2),fs("Like ",r.count,""),yi(1),Ta("innerHTML",Ou(24,14,r.unauthpost.desc),Xr)}}function dE(t,e){1&t&&Oa(0,"img",44),2&t&&Ta("src","https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr)}function pE(t,e){if(1&t){var n=Ra();Aa(0,"div"),ka(1,dE,1,1,"img",43),Aa(2,"img",41),Fa("load",(function(){return $e(n),Va(2).isImgLoaded=!0})),xa(),Aa(3,"figcaption"),ls(4),xa(),xa()}if(2&t){var r=Va().ngIf,i=Va();yi(1),Ta("ngIf",!i.isImgLoaded),yi(1),Ta("hidden",!i.isImgLoaded)("src",r.imgurl,Yr),yi(2),hs(r.title)}}function vE(t,e){if(1&t){var n=Ra();Aa(0,"div",0),Aa(1,"div",28),Aa(2,"h2",29),ls(3),xa(),ls(4," ' "),Aa(5,"div",30),Oa(6,"img",31),Aa(7,"div",32),Aa(8,"a",33),Fa("click",(function(){$e(n);var t=e.ngIf;return Va().navigateToProfile(t.uname)})),ls(9),xa(),Aa(10,"p",34),Aa(11,"b"),ls(12,"Category: "),xa(),ls(13),xa(),xa(),Aa(14,"p",35),Aa(15,"b"),ls(16,"Written on : "),xa(),ls(17),xu(18,"date"),xa(),xa(),ka(19,pE,5,4,"div",36),Aa(20,"div",37),Fa("click",(function(){return $e(n),Va().Like()})),Aa(21,"div",38),Aa(22,"span"),ls(23),xa(),xa(),xa(),Oa(24,"p",39),xu(25,"noSanitize"),xa(),xa()}if(2&t){var r=e.ngIf,i=Va(),o=Ca(20);yi(3),fs(" ",r.title," "),yi(3),Ta("src",i.ProfileImgUrl||"https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr),yi(3),fs(" ",r.uname," "),yi(4),fs(" ",r.category," "),yi(4),fs(" ",Nu(18,10,r.created_date,"medium")," "),yi(2),Ta("ngIf",r.imgurl)("ngIfElse",o),yi(2),Ta("ngClass",i.likeStatus?"is-active":""),yi(2),fs("Like ",i.count,""),yi(1),Ta("innerHTML",Ou(25,13,r.desc),Xr)}}function gE(t,e){1&t&&Oa(0,"img",44),2&t&&Ta("src","https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png",Yr)}function yE(t,e){if(1&t){var n=Ra();Aa(0,"div"),ka(1,gE,1,1,"img",43),Aa(2,"img",47),Fa("load",(function(){return $e(n),Va(2).isImgLoaded=!0})),xa(),Aa(3,"figcaption"),ls(4),xa(),xa()}if(2&t){var r=Va().ngIf,i=Va();yi(1),Ta("ngIf",!i.isImgLoaded),yi(1),Ta("hidden",!i.isImgLoaded)("src",null==r[i.id]?null:r[i.id].imgurl,Yr),yi(2),hs(null==r[i.id]?null:r[i.id].title)}}function mE(t,e){if(1&t){var n=Ra();Aa(0,"div",0),Aa(1,"div",45),Aa(2,"h2",29),ls(3),xa(),ls(4," ' "),Aa(5,"div",30),Oa(6,"img",46),Aa(7,"div",32),Aa(8,"a",33),Fa("click",(function(){$e(n);var t=e.ngIf,r=Va();return r.navigateToProfile(null==t[r.id]?null:t[r.id].uname)})),ls(9),xa(),Aa(10,"p",34),Aa(11,"b"),ls(12,"Category: "),xa(),ls(13),xa(),xa(),Aa(14,"p",35),Aa(15,"b"),ls(16,"Written on : "),xa(),ls(17),xu(18,"date"),xa(),xa(),ka(19,yE,5,4,"div",36),Oa(20,"p",39),xu(21,"noSanitize"),xa(),xa()}if(2&t){var r=e.ngIf,i=Va(),o=Ca(20);yi(3),hs(null==r[i.id]?null:r[i.id].title),yi(6),fs(" ",null==r[i.id]?null:r[i.id].uname,""),yi(4),hs(null==r[i.id]?null:r[i.id].category),yi(4),fs("",Nu(18,7,null==r[i.id]?null:r[i.id].created_date,"medium")," "),yi(2),Ta("ngIf",null==r[i.id]?null:r[i.id].imgurl)("ngIfElse",o),yi(1),Ta("innerHTML",Ou(21,10,null==r[i.id]?null:r[i.id].desc),Xr)}}function _E(t,e){if(1&t&&(Aa(0,"div",0),Aa(1,"div",28),Aa(2,"h2",29),ls(3),xa(),ls(4," ' "),Aa(5,"div",30),Oa(6,"img",46),Aa(7,"div",32),Aa(8,"p",48),ls(9),xa(),Aa(10,"p",34),Aa(11,"b"),ls(12,"Category: "),xa(),ls(13),xa(),xa(),Aa(14,"p",35),Aa(15,"b"),ls(16,"Written on : "),xa(),ls(17),xu(18,"date"),xa(),xa(),Oa(19,"img",44),Aa(20,"figcaption"),ls(21),xa(),Oa(22,"p",39),xu(23,"noSanitize"),xa(),xa()),2&t){var n=e.ngIf,r=Va();yi(3),hs(null==n[r.id]?null:n[r.id].title),yi(6),hs(null==n[r.id]?null:n[r.id].uname),yi(4),hs(null==n[r.id]?null:n[r.id].category),yi(4),fs("",Nu(18,7,null==n[r.id]?null:n[r.id].created_date,"medium")," "),yi(2),Ba("src","",null==n[r.id]?null:n[r.id].imgurl," ",Yr),yi(2),hs(null==n[r.id]?null:n[r.id].title),yi(1),Ta("innerHTML",Ou(23,10,null==n[r.id]?null:n[r.id].desc),Xr)}}function bE(t,e){if(1&t&&(Aa(0,"div",0),Aa(1,"div",28),Aa(2,"h2",29),ls(3),xa(),ls(4," ' "),Aa(5,"div",30),Oa(6,"img",46),Aa(7,"div",32),Aa(8,"p",48),ls(9),xa(),Aa(10,"p",34),Aa(11,"b"),ls(12,"Category: "),xa(),ls(13),xa(),xa(),Aa(14,"p",35),Aa(15,"b"),ls(16,"Written on : "),xa(),ls(17),xu(18,"date"),xa(),xa(),Oa(19,"img",49),Aa(20,"figcaption"),ls(21),xa(),Oa(22,"p",39),xu(23,"noSanitize"),xa(),xa()),2&t){var n=e.ngIf,r=Va();yi(3),hs(null==n[r.id]?null:n[r.id].title),yi(6),hs(null==n[r.id]?null:n[r.id].uname),yi(4),hs(null==n[r.id]?null:n[r.id].category),yi(4),fs("",Nu(18,7,null==n[r.id]?null:n[r.id].created_date,"medium")," "),yi(2),Ba("src","",null==n[r.id]?null:n[r.id].imgurl," ",Yr),yi(2),hs(null==n[r.id]?null:n[r.id].title),yi(1),Ta("innerHTML",Ou(23,10,null==n[r.id]?null:n[r.id].desc),Xr)}}function wE(t,e){if(1&t){var n=Ra();Aa(0,"div"),Oa(1,"hr"),Aa(2,"form",50),Fa("ngSubmit",(function(){$e(n);var t=Va();return t.onSubmit(t.CommentForm.value)})),Aa(3,"div",51),Aa(4,"label",52),ls(5,"Leave Your Comment Here:"),xa(),Oa(6,"textarea",53),xa(),Aa(7,"div",54),Aa(8,"div",55),Aa(9,"button",56),ls(10,"Post your comment"),xa(),xa(),xa(),xa(),xa()}if(2&t){var r=Va();yi(2),Ta("formGroup",r.CommentForm),yi(7),Ta("disabled",!r.CommentForm.valid)}}function kE(t,e){if(1&t&&(Aa(0,"div"),Aa(1,"h4"),ls(2),xa(),Aa(3,"p",35),ls(4),xu(5,"date"),xa(),Aa(6,"p",59),ls(7),xa(),Oa(8,"hr"),xa()),2&t){var n=e.$implicit;yi(2),hs(n.uname),yi(2),hs(Nu(5,3,n.commentOn,"medium")),yi(3),hs(n.comment)}}function CE(t,e){if(1&t&&(Aa(0,"div",57),Oa(1,"hr"),ka(2,kE,9,6,"div",58),xa()),2&t){var n=Va();yi(2),Ta("ngForOf",n.Comment_Data)}}function EE(t,e){1&t&&(Aa(0,"div",61),Oa(1,"app-loading-spinner"),xa())}function SE(t,e){if(1&t&&(Aa(0,"div",61),Aa(1,"h3"),ls(2),xa(),Aa(3,"p"),ls(4),xa(),xa()),2&t){var n=Va(2);yi(2),hs(n.errorkey),yi(2),fs(" ",n.error,"")}}function IE(t,e){if(1&t&&(ka(0,EE,2,0,"div",60),ka(1,SE,5,2,"div",60)),2&t){var n=Va();Ta("ngIf",n.isFetching&&n.isUnauth),yi(1),Ta("ngIf",n.error||n.errorkey)}}function TE(t,e){1&t&&(Aa(0,"div",61),Aa(1,"app-loading-spinner"),ls(2,"loaduin"),xa(),xa())}function PE(t,e){if(1&t&&(Aa(0,"div",61),Aa(1,"h3"),ls(2),xa(),Aa(3,"p"),ls(4),xa(),xa()),2&t){var n=Va(2);yi(2),hs(n.errorkey),yi(2),fs(" ",n.error,"")}}function AE(t,e){if(1&t&&(ka(0,TE,3,0,"div",60),ka(1,PE,5,2,"div",60)),2&t){var n=Va();Ta("ngIf",n.isFetching&&"public"===n.postype),yi(1),Ta("ngIf",n.error||n.errorkey)}}function xE(t,e){1&t&&(Aa(0,"div",61),Oa(1,"app-loading-spinner"),xa())}function OE(t,e){if(1&t&&(Aa(0,"div",61),Aa(1,"h3"),ls(2),xa(),Aa(3,"p"),ls(4),xa(),xa()),2&t){var n=Va(2);yi(2),hs(n.errorkey),yi(2),fs(" ",n.error,"")}}function NE(t,e){if(1&t&&(ka(0,xE,2,0,"div",60),ka(1,OE,5,2,"div",60)),2&t){var n=Va();Ta("ngIf",n.isFetching&&"private"===n.postype),yi(1),Ta("ngIf",n.error||n.errorkey)}}function DE(t,e){1&t&&(Aa(0,"div",61),Oa(1,"app-loading-spinner"),xa())}function RE(t,e){if(1&t&&(Aa(0,"div",61),Aa(1,"h3"),ls(2),xa(),Aa(3,"p"),ls(4),xa(),xa()),2&t){var n=Va(2);yi(2),hs(n.errorkey),yi(2),fs(" ",n.error,"")}}function ME(t,e){if(1&t&&(ka(0,DE,2,0,"div",60),ka(1,RE,5,2,"div",60)),2&t){var n=Va();Ta("ngIf",n.isFetching&&"allpost"===n.postype),yi(1),Ta("ngIf",n.error||n.errorkey)}}function LE(t,e){1&t&&(Aa(0,"div",61),Oa(1,"app-loading-spinner"),xa())}function FE(t,e){if(1&t&&(Aa(0,"div",61),Aa(1,"h3"),ls(2),xa(),Aa(3,"p"),ls(4),xa(),xa()),2&t){var n=Va(2);yi(2),hs(n.errorkey),yi(2),fs(" ",n.error,"")}}function UE(t,e){if(1&t&&(ka(0,LE,2,0,"div",62),ka(1,FE,5,2,"div",60)),2&t){var n=Va();Ta("ngIf",!n.publicpostOfSingleUser&&("publicposts"===n.xyz[3]||"featured"==n.xyz[1])),yi(1),Ta("ngIf",n.error||n.errorkey)}}var jE,VE,qE,HE=((qE=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.route=e,this.router=n,this.cd=r,this.acrud=i,this.authService=o,this.fb=a,this.count=0,this.isFetching=!1,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.isUnauth=!1,this.isImgLoaded=!1,this.showComment=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.href=this.router.url,this.xyz=this.href.split("/"),this.id=this.xyz[2],this.route.params.subscribe((function(e){t.id=+e.id,t.postype=e.type,"home"==t.xyz[1]&&(t.getAllPost(),t.showComment=!0),"featured"==t.xyz[1]&&(t.getFeaturedPost(),t.showComment=!0),"allpost"===t.postype&&t.getAuthAllPost(),"public"===t.postype&&(t.acrud.getDemo2(),t.getAuthPublicPost(),t.showComment=!0),"private"===t.postype&&(t.acrud.getDemo1(),t.getAuthPrivatePost(),t.showComment=!1),"publicposts"===t.xyz[3]&&(t.profileuname=t.xyz[2],t.getPostFromProfile(t.profileuname),t.showComment=!0)})),this.userSub=this.authService.user.subscribe((function(e){e&&(t.currentUserId=e.uid),t.isAuthenticated=!!e})),this.isAuthenticated&&this.getUidandUname(),this.getLikeCountandStatus(),this.CallCommentForm()}},{key:"getUidandUname",value:function(){var t=this;this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.username=n[0].uname}))}},{key:"getLikeCountandStatus",value:function(){var t=this;this.acrud.PostDataForLikeCount.subscribe((function(e){e&&(t.count=e)})),this.acrud.PostDataForLikedByUser.subscribe((function(e){var n=t.acrud.seprate(e);for(var r in n)n[r].uid==t.currentUserId&&(t.likeStatus=n[r].islike)}))}},{key:"getPostFromProfile",value:function(t){var e=this;this.acrud.getPublicProfile(t).subscribe((function(n){var r=e.acrud.seprate(n);e.getPublicPostsFromProfileId(r[0].id),e.acrud.getPublicProfile(t).subscribe((function(t){var n,r=e.acrud.seprate(t);e.ProfileImgUrl=null===(n=r[0])||void 0===n?void 0:n.imgurl}))}))}},{key:"getPublicPostsFromProfileId",value:function(t){var e=this;this.isPublicPostOfSingleUser=!1,this.acrud.getPublicPostsFromProfileId(t).subscribe((function(t){e.isPublicPostOfSingleUser=!0;var n=e.acrud.seprate(t);e.sortDesecendingByDate(n),e.publicpostOfSingleUser=n[e.id],e.posttitle=e.publicpostOfSingleUser.title,e.postdesc=e.publicpostOfSingleUser.desc,e.post_userid=e.publicpostOfSingleUser.uid,e.getComment(e.publicpostOfSingleUser.uid,e.publicpostOfSingleUser.title,e.publicpostOfSingleUser.desc),e.acrud.getPostDetailForLike(e.post_userid,e.posttitle,e.postdesc)}))}},{key:"getFeaturedPost",value:function(){var t=this;this.isFetching=!0,this.acrud.getFeaturedPost().then((function(e){t.publicpostOfSingleUser=e[t.id],t.acrud.getPublicProfile(t.publicpostOfSingleUser.uname).subscribe((function(e){var n,r=t.acrud.seprate(e);t.ProfileImgUrl=null===(n=r[0])||void 0===n?void 0:n.imgurl})),t.posttitle=t.publicpostOfSingleUser.title,t.postdesc=t.publicpostOfSingleUser.desc,t.post_userid=t.publicpostOfSingleUser.uid,t.getComment(t.publicpostOfSingleUser.uid,t.publicpostOfSingleUser.title,t.publicpostOfSingleUser.desc),t.acrud.getPostDetailForLike(t.post_userid,t.posttitle,t.postdesc),t.isFetching=!1}))}},{key:"getAllPost",value:function(){var t=this;this.isUnauth=!0,this.isFetching=!0,this.acrud.getAllPost().then((function(e){var n,r,i,o;t.isFetching=!1,t.sortDesecendingByDate(e),t.unauthpost=e[t.id],(null===(n=t.unauthpost)||void 0===n?void 0:n.uid)?(t.post_userid=null===(r=t.unauthpost)||void 0===r?void 0:r.uid,t.posttitle=null===(i=t.unauthpost)||void 0===i?void 0:i.title,t.postdesc=null===(o=t.unauthpost)||void 0===o?void 0:o.desc,t.getProfileFromUid(t.post_userid),t.postDate=t.unauthpost.created_date,t.acrud.getPostDetailForLike(t.post_userid,t.posttitle,t.postdesc),t.getComment(t.post_userid,t.unauthpost.title,t.unauthpost.desc)):t.router.navigate(["home"])}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"sortDesecendingByDate",value:function(t){return t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}},{key:"getUauthPublicPost",value:function(){var t=this;this.isUnauth=!0,this.isFetching=!0,this.cd.get_public_post().subscribe((function(e){var n,r,i,o;t.unauthpostss=e.map((function(t){return Object.assign({},t.payload.doc.data())}),(function(e){t.error=e})),t.isFetching=!1,t.sortDesecending(),t.unauthpost=t.unauthpostss[t.id],null==t.unauthpost&&t.router.navigate(["home"]),(null===(n=t.unauthpost)||void 0===n?void 0:n.uid)?(t.post_userid=null===(r=t.unauthpost)||void 0===r?void 0:r.uid,t.posttitle=null===(i=t.unauthpost)||void 0===i?void 0:i.title,t.postdesc=null===(o=t.unauthpost)||void 0===o?void 0:o.desc,t.getProfileFromUid(t.post_userid),t.postDate=t.unauthpost.created_date,t.postDate=t.postDate.toDate(),t.acrud.getPostDetailForLike(t.post_userid,t.posttitle,t.postdesc),t.getComment(t.post_userid,t.unauthpost.title,t.unauthpost.desc)):t.router.navigate(["home"])}),(function(e){t.errorkey=e}))}},{key:"getComment",value:function(t,e,n){var r=this,i=this.acrud.getCommentKey(t,e,n).then((function(t){return new Promise((function(e){e(t)}))}));i&&i.then((function(e){r.acrud.getCommentDataFromKey(t,e).subscribe((function(t){r.Comment_Data=r.acrud.seprate(t),t&&r.Comment_Data.sort((function(t,e){return new Date(e.commentOn).getTime()-new Date(t.commentOn).getTime()}));var e=function(t){r.acrud.getProfileFromUid(r.Comment_Data[t].commentByUserId).subscribe((function(e){var n=r.acrud.seprate(e);r.Comment_Data[t].uname=n[0].uname}))};for(var n in r.Comment_Data)e(n)}))}))}},{key:"getProfileFromUid",value:function(t){var e=this;this.acrud.getProfileFromUid(t).subscribe((function(t){var n=e.acrud.seprate(t);e.ProfileImgUrl=n[0].imgurl}))}},{key:"getAuthPublicPost",value:function(){var t=this;this.isAll=!1,this.isPublic=!0,this.isPrivate=!1,this.isFetching=!0,this.puSub=this.acrud.pu.subscribe((function(e){if(e){t.sortDesecendingByDate(e),t.public_post=e;var n=t.id;t.posttitle=t.public_post[n].title,t.postdesc=t.public_post[n].desc,t.post_userid=t.public_post[n].uid,t.getComment(t.public_post[n].uid,t.public_post[n].title,t.public_post[n].desc)}}),(function(e){return t.error=e}))}},{key:"getAuthAllPost",value:function(){var t=this;this.isFetching=!0,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.acrud.getAllData().subscribe((function(e){var n,r;t.isFetching=!1;var i=e[1],o=[];o=t.acrud.seprate(e[0]);var a=t.acrud.seprate(i),s=o.concat(a);t.allPost=s,t.sortDesecendingByDate(t.allPost);var u=t.id;"true"==(null===(n=t.allPost[u])||void 0===n?void 0:n.privacy)&&(t.showComment=!0),"false"==(null===(r=t.allPost[u])||void 0===r?void 0:r.privacy)&&(t.showComment=!1),t.posttitle=t.allPost[u].title,t.postdesc=t.allPost[u].desc,t.post_userid=t.allPost[u].uid,t.getComment(t.allPost[u].uid,t.allPost[u].title,t.allPost[u].desc)}),(function(e){t.error=e}))}},{key:"getAuthPrivatePost",value:function(){var t=this;this.route.params.subscribe((function(e){t.id=+e.id,t.isAll=!1,t.isPublic=!1,t.isPrivate=!0,t.isFetching=!0,t.prSub=t.acrud.pr.subscribe((function(e){t.isFetching=!1,t.private_post=e,t.SinglePost=t.private_post[t.id]}))}))}},{key:"sortDesecending",value:function(){this.acrud.sortDesecending(this.unauthpostss)}},{key:"Like",value:function(){this.currentUserId?(this.count=this.likeStatus?this.count-1:this.count+1,this.likeStatus=!this.likeStatus,this.acrud.CreateLikeEntry(this.count,this.likeStatus,this.post_userid,this.posttitle,this.postdesc)):this.router.navigate(["/auth"])}},{key:"navigateToProfile",value:function(t){this.router.navigate(t?["myprofile",t]:["/home"])}},{key:"CallCommentForm",value:function(){this.CommentForm=this.fb.group({comment:["",Ym.required]})}},{key:"onSubmit",value:function(t){var e=this;this.isAuthenticated?this.acrud.CreateComment(t,this.currentUserId,this.post_userid,this.posttitle,this.postdesc).then((function(){e.CommentForm.reset(),setTimeout((function(){window.location.reload()}),900)})):alert("Please Login or create your account to do Comment")}},{key:"OnDelete",value:function(){var t=this;"allpost"==this.xyz[2]&&(this.acrud.passParams(this.xyz[2],this.id),this.acrud.deletPostEvent(this.allPost[this.id],this.id).then((function(e){t.acrud.showSuccessDelete()}))),"public"==this.xyz[2]&&(this.acrud.passParams(this.xyz[2],this.id),this.acrud.deletPostEvent(this.public_post[this.id],this.id).then((function(e){t.acrud.showSuccessDelete()}))),"private"==this.xyz[2]&&(this.acrud.passParams(this.xyz[2],this.id),this.acrud.deletPostEvent(this.private_post[this.id],this.id).then((function(e){t.acrud.showSuccessDelete()})))}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe(),this.prSub&&this.private_post&&this.prSub.unsubscribe(),this.puSub&&this.public_post&&this.puSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||qE)(Ea(Lg),Ea(Wy),Ea(Zw),Ea(_C),Ea(mC),Ea(Vb))},qE.\u0275cmp=de({type:qE,selectors:[["app-upost-detail"]],decls:21,vars:15,consts:[[1,"row"],["class","col-md-3 col-sm-12 post-exist",4,"ngIf"],[1,"container","container-postdetil","col-md-9","col-sm-12"],["class","row",4,"ngIf","ngIfElse"],["class","row ",4,"ngIf","ngIfElse"],[4,"ngIf"],["class","col-md-12 commentsection",4,"ngIf"],["loading",""],["loading2",""],["loading3",""],["loading5",""],["loading7",""],[1,"col-md-3","col-sm-12","post-exist"],[1,"list-group"],["routerLink","/create-post",1,"list-group-item"],[1,"list-group-item",3,"routerLink"],["data-toggle","modal","data-target","#myModal",1,"list-group-item"],[1,"list-group-item",3,"ngClass","routerLink"],["id","myModal","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-default"],[1,"col-xs-12"],[1,"title"],[1,"avtar"],["alt","",1,"img-responsive","img-circle",3,"src"],[1,"avtar-text"],[1,"author-name",3,"click"],[1,"category"],[1,"date"],[4,"ngIf","ngIfElse"],[1,"stage",3,"click"],[1,"heart",3,"ngClass"],[1,"desc",3,"innerHTML"],["class","img-responsive","alt","img",3,"src",4,"ngIf"],["alt","",1,"img-responsive",3,"hidden","src","load"],["alt","img",1,"img-responsive",3,"src"],["alt","","class","img-responsive",3,"src",4,"ngIf"],["alt","",1,"img-responsive",3,"src"],[1,"col-md-9","col-xs-12"],["alt","","src","https://image.shutterstock.com/image-vector/man-character-face-avatar-glasses-260nw-562077406.jpg ",1,"img-responsive","img-circle"],["alt"," ",1,"img-responsive",3,"hidden","src","load"],[1,"author-name"],["alt","img",1,"img-responsive","post-img",3,"src"],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","comment "],["rows","5 ","id","comment ","formControlName","comment",1,"form-control"],[1,"row","submit-button-container"],[1,"col-md-4"],["color","primary ","type","submit ",1,"btn","btn-primary","submit-button",3,"disabled"],[1,"col-md-12","commentsection"],[4,"ngFor","ngForOf"],[1,"data"],["class","loading-text ",4,"ngIf"],[1,"loading-text"],["class","loading-text",4,"ngIf"]],template:function(t,e){if(1&t&&(Aa(0,"div",0),ka(1,uE,26,9,"div",1),Aa(2,"div",2),ka(3,fE,25,16,"div",3),ka(4,vE,26,15,"div",3),ka(5,mE,22,12,"div",4),ka(6,_E,24,12,"div",4),xu(7,"async"),ka(8,bE,24,12,"div",4),ka(9,wE,11,2,"div",5),ka(10,CE,3,1,"div",6),xa(),ka(11,IE,2,2,"ng-template",null,7,Yu),ka(13,AE,2,2,"ng-template",null,8,Yu),ka(15,NE,2,2,"ng-template",null,9,Yu),ka(17,ME,2,2,"ng-template",null,10,Yu),ka(19,UE,2,2,"ng-template",null,11,Yu),xa()),2&t){var n=Ca(12),r=Ca(14),i=Ca(16),o=Ca(18),a=Ca(20);yi(1),Ta("ngIf",e.isAuthenticated&&"home"!==e.xyz[1]&&"myprofile"!==e.xyz[1]),yi(2),Ta("ngIf","home"==e.xyz[1]&&e.isUnauth&&e.unauthpost&&!e.isFetching)("ngIfElse",n),yi(1),Ta("ngIf",("publicposts"==e.xyz[3]||"featured"===e.xyz[1])&&e.publicpostOfSingleUser)("ngIfElse",a),yi(1),Ta("ngIf","public"==e.postype&&e.public_post)("ngIfElse",r),yi(1),Ta("ngIf",Ou(7,13,"private"==e.postype&&e.acrud.pr))("ngIfElse",i),yi(2),Ta("ngIf","allpost"==e.postype&&!e.isFetching&&e.allPost)("ngIfElse",o),yi(1),Ta("ngIf",e.showComment&&!e.isFetching),yi(1),Ta("ngIf",e.Comment_Data)}},directives:[ah,Qy,nh,pb,Gm,yb,Mm,zm,Nb,ih,bC],pipes:[gh,yh,iE],styles:[".container-postdetil[_ngcontent-%COMP%]{float:none;margin:0 auto}.post-exist[_ngcontent-%COMP%] + .container-postdetil[_ngcontent-%COMP%]{float:left}.title[_ngcontent-%COMP%]{line-height:48px;font-size:40px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;color:rgba(0,0,0,.84);font-weight:400}.container-main[_ngcontent-%COMP%]{margin:0 auto;max-width:680px;width:100%}.avtar[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:75px;height:75px;display:inline-block;float:left}.date[_ngcontent-%COMP%]{float:right;margin-top:10px}.avtar-text[_ngcontent-%COMP%]{margin-top:10px;float:left;padding-left:25px}.author-name[_ngcontent-%COMP%]{margin-top:10px;font-size:20px;margin-bottom:0}.avtar[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-left:12px;color:rgba(0,0,0,.84)}figcaption[_ngcontent-%COMP%]{text-align:center;padding:15px}.desc[_ngcontent-%COMP%]{margin-top:2em;font-size:18px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.heart[_ngcontent-%COMP%]{position:absolute;left:-35px;top:-60px;width:100px;height:68px;background:url(https://cssanimation.rocks/images/posts/steps/heart.png) no-repeat;background-position:0 0;cursor:pointer;transition:background-position 1s steps(28);transition-duration:0s}.heart.is-active[_ngcontent-%COMP%]{transition-duration:1s;background-position:-2800px 0}.stage[_ngcontent-%COMP%]{position:relative}.heart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:80px;position:absolute;padding-top:41px}.avtar[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:120px}.post-img[_ngcontent-%COMP%]{margin-top:95px}@media screen and (max-width:767px){.post-exist[_ngcontent-%COMP%] + .container-postdetil[_ngcontent-%COMP%]{float:none}.avtar[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{float:left;margin:8px 0 0 15px}.avtar-text[_ngcontent-%COMP%]{margin-top:0;padding-left:15px}.post-img[_ngcontent-%COMP%]{margin-top:115px}.heart[_ngcontent-%COMP%]{top:-37px}[_nghost-%COMP%]  section h2:nth-child(6){font-size:16px}[_nghost-%COMP%]  section a{word-break:break-word;font-size:16px}[_nghost-%COMP%]  section p{font-size:14px}}[_nghost-%COMP%]  p.desc img, [_nghost-%COMP%]  section img{text-align:center;margin-left:auto;margin-right:auto;float:none;display:table;padding-top:20px;padding-bottom:20px;width:100%}.heart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0d6fc3;white-space:nowrap;font-weight:700;font-size:16px}.author-name[_ngcontent-%COMP%]:hover{cursor:pointer}div#myModal[_ngcontent-%COMP%]{top:20%}.commentsection[_ngcontent-%COMP%]{padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.commentsection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:inline;color:#000;font-weight:600}.commentsection[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{float:right}.data[_ngcontent-%COMP%]{padding-top:15px}.commentsection[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:none}.commentsection[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:15px;margin-bottom:25px;box-shadow:0 10px 35px rgba(0,0,0,.1)}.row.submit-button-container[_ngcontent-%COMP%]{padding-bottom:25px}.avtar[_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{box-shadow:0 10px 35px rgba(0,0,0,.1)}.category[_ngcontent-%COMP%]{margin:8px 0 0}.category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.avtar[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),qE),BE=((VE=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e,n){return n&&e?t.filter(e,n):e}}],[{key:"filter",value:function(t,e){var n=e.toLowerCase();return t.filter((function(t){return function t(e,r){for(var i in e)if(null!==e[i]&&null!=e[i]){if("object"==typeof e[i]&&t(e[i],r))return!0;if(e[i].toString().toLowerCase().includes(n))return!0}return!1}(t,e)}))}}]),t}()).\u0275fac=function(t){return new(t||VE)},VE.\u0275pipe=be({name:"filter",type:VE,pure:!1}),VE.\u0275prov=ht({token:VE,factory:VE.\u0275fac}),VE),zE=((jE=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:jE}),jE.\u0275inj=ft({factory:function(t){return new(t||jE)}}),jE),GE=function(t){return["/featured",t]};function WE(t,e){if(1&t&&(Aa(0,"div",20),Aa(1,"a",21),Aa(2,"div",22),Oa(3,"img",23),xa(),Aa(4,"div",24),Aa(5,"h3",25),ls(6),xa(),Oa(7,"p",26),xu(8,"noSanitize"),Aa(9,"div",27),Aa(10,"p",28),ls(11),xa(),Aa(12,"p",29),ls(13),xu(14,"date"),xa(),xa(),Aa(15,"div",30),Aa(16,"i",31),Aa(17,"span"),ls(18),xa(),xa(),Aa(19,"i",32),ls(20),xa(),xa(),xa(),xa(),xa()),2&t){var n=e.$implicit,r=e.index,i=Va(3);yi(1),Ta("routerLink",Iu(13,GE,r)),yi(2),Ba("src","",n.imgurl," ",Yr),yi(3),hs(n.title),yi(1),Ta("innerHTML",Ou(8,8,n.desc),Xr),yi(4),fs("By ",n.name,""),yi(2),fs("On ",Nu(14,10,n.created_date,"mediumDate"),""),yi(5),hs(n.likestatus.count),yi(2),hs(i.commenData[r].length)}}function KE(t,e){if(1&t&&(Aa(0,"div"),ka(1,WE,21,15,"div",19),xa()),2&t){var n=Va().ngIf;yi(1),Ta("ngForOf",n)}}function QE(t,e){1&t&&(Aa(0,"h4"),ls(1,"No Results Found"),xa())}function XE(t,e){if(1&t&&(Cn(),En(),Aa(0,"div"),Aa(1,"h3",17),ls(2,"Featured Posts"),xa(),ka(3,KE,2,1,"div",10),Aa(4,"div",18),ka(5,QE,2,0,"h4",10),xa(),xa()),2&t){var n=e.ngIf,r=Va();yi(3),Ta("ngIf",!r.isFetching&&(null==n?null:n.length)>0),yi(2),Ta("ngIf",0===n.length)}}var YE=function(t){return[t]};function $E(t,e){if(1&t&&(Aa(0,"div",36),Aa(1,"a",21),Aa(2,"div",37),Oa(3,"img",38),xa(),Aa(4,"div",39),Aa(5,"h2",25),ls(6),xa(),Oa(7,"p",40),xu(8,"noSanitize"),xa(),Aa(9,"div",41),Aa(10,"p",28),ls(11),xa(),Aa(12,"p",29),ls(13),xu(14,"date"),xa(),xa(),xa(),xa()),2&t){var n=e.$implicit,r=e.index;yi(1),Ta("routerLink",Iu(10,YE,r)),yi(2),Ba("src","",n.imgurl," ",Yr),yi(3),fs(" ",n.title," "),yi(1),Ta("innerHTML",Ou(8,6,n.desc),Xr),yi(4),fs(" By : ",n.name," "),yi(2),fs(" On : ",Ou(14,8,n.created_date)," ")}}function ZE(t,e){if(1&t&&(Aa(0,"div"),ka(1,$E,15,12,"div",35),xa()),2&t){var n=Va().ngIf;yi(1),Ta("ngForOf",n)}}function JE(t,e){1&t&&(Aa(0,"h4"),ls(1,"No Results Found"),xa())}function tS(t,e){if(1&t&&(Cn(),En(),Aa(0,"div"),Aa(1,"h3",33),ls(2,"Latest Posts"),xa(),ka(3,ZE,2,1,"div",10),Aa(4,"div",34),ka(5,JE,2,0,"h4",10),xa(),xa()),2&t){var n=e.ngIf,r=Va();yi(3),Ta("ngIf",!r.isFetching&&(null==n?null:n.length)>0),yi(2),Ta("ngIf",0===n.length)}}function eS(t,e){1&t&&(Cn(),En(),Aa(0,"div",42),Oa(1,"app-loading-spinner"),xa())}function nS(t,e){if(1&t&&(Cn(),En(),Aa(0,"div",43),Aa(1,"h4"),ls(2),xa(),xa()),2&t){var n=Va();yi(2),hs(n.error)}}var rS,iS=((rS=function(){function t(e,n,r){_classCallCheck(this,t),this.cd=e,this.acrud=n,this.toastr=r,this.isFetching=!1,this.commenData=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAllPost(),this.getFeaturedPost()}},{key:"getAllPost",value:function(){var t=this;this.isFetching=!0,this.acrud.getAllPost().then((function(e){t.isFetching=!1,t.data=e,t.sortDesecending(t.data)}))}},{key:"sortDesecending",value:function(t){this.sorted=t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}},{key:"onReadMore",value:function(t){}},{key:"getFeaturedPost",value:function(){var t=this;this.acrud.getFeaturedPost().then((function(e){for(var n in t.featuredPost=e,t.featuredPost){var r=t.acrud.seprate(t.featuredPost[n].commentData);t.commenData.push(r)}}),(function(t){console.log(t)}))}},{key:"public_data",value:function(){var t=this;this.isFetching=!0,this.cd.get_public_post().subscribe((function(e){t.data=e.map((function(t){return Object.assign({},t.payload.doc.data())})),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e})),iv((function(t){throw new Error("Error: Getting document:"+t)}))}}]),t}()).\u0275fac=function(t){return new(t||rS)(Ea(Zw),Ea(_C),Ea(pC))},rS.\u0275cmp=de({type:rS,selectors:[["app-home"]],decls:25,vars:12,consts:[[1,"container"],[1,"row"],[1,"col-md-5","col-xs-12","col-md-push-7"],[1,"search-hero","search-input-wrapper","fadeInUp","hidden-md","hidden-lg"],["for","search"],["type","text","name","search","id","search","autocomplete","off","placeholder","   Search by Title or Author name",1,"form-control",3,"ngModel","ngModelChange"],[1,"search-button"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[4,"ngIf"],[1,"col-md-6","col-sm-12","col-xs-12","col-md-pull-5"],[1,"search-hero","search-input-wrapper","fadeInUp","hidden-xs","hidden-sm"],["for","search1"],["type","text","id","search1","name","search1","autocomplete","off","placeholder","   Search by Title or Author name",1,"form-control",3,"ngModel","ngModelChange"],["class","loading-text",4,"ngIf"],["class","error-text",4,"ngIf"],[1,"Featured"],[1,"text-left","no-result"],["class","card row card-featured",4,"ngFor","ngForOf"],[1,"card","row","card-featured"],[3,"routerLink"],[1,"img","img-col"],["alt","",1,"img-responsive",2,"width","100%",3,"src"],[1,"title","main-content"],[1,"title"],[3,"innerHTML"],[1,"author-date"],[1,"author-name"],[1,"date"],[1,"likecomment"],[1,"fa","fa-heart",2,"font-size","21px"],[1,"fa","fa-comment-o",2,"font-size","21px"],[1,"Featured","hidden-md","hidden-lg"],[1,"loading-text","text-left","no-result"],["class","card row",4,"ngFor","ngForOf"],[1,"card","row"],[1,"col-md-4","col-xs-12","img-col","col-md-push-8"],["alt","Avatar ","alt","img",1,"img-responsive",2,"width","100%",3,"src"],[1,"col-md-8","col-xs-12","main-content","col-md-pull-4"],[1,"desc","desc1",3,"innerHTML"],[1,"author-date","col-md-6","col-xs-12"],[1,"loading-text"],[1,"error-text"]],template:function(t,e){1&t&&(Aa(0,"div",0),Aa(1,"div",1),Aa(2,"div",2),Aa(3,"div",3),Oa(4,"label",4),Aa(5,"input",5),Fa("ngModelChange",(function(t){return e.searchText=t})),xa(),Aa(6,"div",6),Cn(),Aa(7,"svg",7),Oa(8,"circle",8),Oa(9,"line",9),xa(),xa(),xa(),ka(10,XE,6,2,"div",10),xu(11,"filter"),xa(),En(),Aa(12,"div",11),Aa(13,"div",12),Oa(14,"label",13),Aa(15,"input",14),Fa("ngModelChange",(function(t){return e.searchText=t})),xa(),Aa(16,"div",6),Cn(),Aa(17,"svg",7),Oa(18,"circle",8),Oa(19,"line",9),xa(),xa(),xa(),ka(20,tS,6,2,"div",10),xu(21,"filter"),xa(),ka(22,eS,2,0,"div",15),ka(23,nS,3,1,"div",16),xa(),xa(),En(),Oa(24,"router-outlet")),2&t&&(yi(5),Ta("ngModel",e.searchText),yi(5),Ta("ngIf",Nu(11,6,e.featuredPost,e.searchText)),yi(5),Ta("ngModel",e.searchText),yi(5),Ta("ngIf",Nu(21,9,e.sorted,e.searchText)),yi(2),Ta("ngIf",e.isFetching&&!e.error),yi(1),Ta("ngIf",e.error&&!e.isFetching))},directives:[Mm,zm,db,ah,rm,ih,Qy,bC],pipes:[BE,iE,yh],styles:[".card.row[_ngcontent-%COMP%]{border-radius:6px;min-height:180px;position:relative}.col-md-8.col-xs-7.main-content[_ngcontent-%COMP%]{position:unset}.main-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0}.author-date[_ngcontent-%COMP%]{margin-top:10px}.author-date[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:grey;margin:0}.author-date.col-md-6.col-xs-12[_ngcontent-%COMP%]{position:absolute;bottom:0;padding-bottom:5px}.card.row[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000}.img-col[_ngcontent-%COMP%]{padding:0}.img-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:180px}h3.title[_ngcontent-%COMP%]{margin-top:7px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:24px;line-height:1.3}@media screen and (max-width:767px){.card.row[_ngcontent-%COMP%], .img-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:158px}h3.title[_ngcontent-%COMP%]{font-size:18px}.col-md-7.col-sm-12.col-xs-12[_ngcontent-%COMP%]{padding:0}}.loading-text[_ngcontent-%COMP%]{text-align:center;margin:0 auto}.search-hero[_ngcontent-%COMP%]{max-width:500px;padding-bottom:50px;margin:auto}.search-hero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-moz-box-shadow:0 10px 35px rgba(0,0,0,.1);-webkit-appearance:none!important;-webkit-box-shadow:0 10px 35px rgba(0,0,0,.1);background:#fff;border:0;border-radius:5px;box-shadow:0 10px 35px rgba(0,0,0,.1);color:#6c757d;height:6rem;outline:none;font-size:16px;font-weight:500;padding:1rem 1rem 1rem 5rem;width:calc(100% - 4rem);line-height:normal}.form-control[_ngcontent-%COMP%]{box-shadow:0 10px 40px 0 #b0c1d9}.search-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgba(108,117,125,.6);margin-left:15px;position:absolute;top:4rem;transition:all .2s ease-in-out}.fadeInUp[_ngcontent-%COMP%]{-webkit-animation-duration:.45s;animation-duration:.45s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeInUp;animation-name:fadeInUp}a[_ngcontent-%COMP%], div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.no-result[_ngcontent-%COMP%]{padding-top:45px}@media screen and (max-width:767px){.no-result[_ngcontent-%COMP%]{text-align:center;padding-top:15px}.col-md-5.col-xs-12.col-md-push-7[_ngcontent-%COMP%], .col-md-6.col-sm-12.col-xs-12.col-md-pull-5[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.search-hero[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-left:4rem}input[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:14px}.search-hero.search-input-wrapper.fadeInUp.hidden-md.hidden-lg[_ngcontent-%COMP%]{padding-bottom:25px}}.card-featured[_ngcontent-%COMP%]{position:relative;padding-bottom:15px}.card-featured[_ngcontent-%COMP%]   .title.main-content[_ngcontent-%COMP%]{padding-left:15px}.card-featured[_ngcontent-%COMP%]   .author-date[_ngcontent-%COMP%]{position:relative}.likecomment[_ngcontent-%COMP%]{float:right;position:absolute;right:0;bottom:13px}.likecomment[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{padding-right:25px}.fa.fa-heart[_ngcontent-%COMP%]{color:red}.fa.fa-heart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.Featured[_ngcontent-%COMP%]{padding-bottom:10px}input[_ngcontent-%COMP%]::-webkit-input-placeholder{text-align:left;text-indent:-10px}@media (min-width:992px){.col-md-pull-5[_ngcontent-%COMP%]{right:39.666667%}}a[_ngcontent-%COMP%]:hover{text-decoration:none}p.desc.desc1[_ngcontent-%COMP%]{max-height:45px}.main-content[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:767px){h2.title[_ngcontent-%COMP%]{padding-top:7px}.author-date.col-md-6.col-xs-12[_ngcontent-%COMP%]{position:relative;padding-bottom:10px}}"]}),rS);function oS(t,e){if(1&t&&(Aa(0,"div",5),Aa(1,"p"),ls(2),xa(),xa()),2&t){var n=Va();yi(2),hs(n.error)}}function aS(t,e){1&t&&(Aa(0,"div",6),Oa(1,"app-loading-spinner"),xa())}var sS=function(){return["/reset-password"]};function uS(t,e){if(1&t){var n=Ra();Aa(0,"form",7,8),Fa("ngSubmit",(function(){$e(n);var t=Ca(1);return Va().onSubmit(t)})),Aa(2,"div",9),Aa(3,"label",10),ls(4,"E-Mail"),xa(),Oa(5,"input",11),xa(),Aa(6,"div",9),Aa(7,"label",12),ls(8,"Password"),xa(),Oa(9,"input",13),xa(),Aa(10,"div",9),Aa(11,"button",14),ls(12),xa(),ls(13," | "),Aa(14,"button",15),Fa("click",(function(){return $e(n),Va().onSwitchMode()})),ls(15),xa(),Aa(16,"a",16),ls(17,"Forget Password"),xa(),xa(),Aa(18,"div",9),Aa(19,"button",17),Fa("click",(function(){return $e(n),Va().tryGoogleLogin()})),Oa(20,"i",18),ls(21," Login with Google "),xa(),xa(),xa()}if(2&t){var r=Ca(1),i=Va();yi(11),Ta("disabled",!r.valid),yi(1),fs(" ",i.isLoginMode?"Login":"Sign Up"," "),yi(3),fs(" Switch to ",i.isLoginMode?"Sign Up":"Login"," "),yi(1),Ta("routerLink",Su(4,sS))}}var cS,lS=((cS=function(){function t(e,n,r){_classCallCheck(this,t),this.authService=e,this.acrud=n,this.router=r,this.isLoginMode=!0,this.isLoading=!1,this.error=null,this.isPorfileset=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSwitchMode",value:function(){this.isLoginMode=!this.isLoginMode}},{key:"onSubmit",value:function(t){var e=this;if(t.valid){var n=t.value.email,r=t.value.password;this.isLoading=!0,this.isLoginMode?this.authService.SignIn(n,r).then((function(t){e.isLoading=!1,e.authService.LoginData.subscribe((function(t){t.user.emailVerified&&e.getProfileByUid(t.user.uid)}))})).catch((function(t){e.isLoading=!1,e.error=t.message})):this.authService.SignUp(n,r).then((function(t){e.isLoading=!1,e.authService.logout()})).catch((function(t){e.authService.logout(),e.isLoading=!1,e.error=t})),t.reset()}}},{key:"tryGoogleLogin",value:function(){var t=this;this.isLoading=!0,this.authService.doGoogleLogin().then((function(e){t.isLoading=!1,t.getProfileByUid(e.uid)}))}},{key:"getProfileByUid",value:function(t){var e=this;this.acrud.getProfileFromUid(t).subscribe((function(t){var n=e.acrud.seprate(t);e.isPorfileset=n[0],e.isLoading=!1,e.router.navigate(e.isPorfileset?[""]:["myprofile"])}))}}]),t}()).\u0275fac=function(t){return new(t||cS)(Ea(mC),Ea(_C),Ea(Wy))},cS.\u0275cmp=de({type:cS,selectors:[["app-auth-component"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;","class","loading-text",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"loading-text",2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-link",3,"routerLink"],["type","button",1,"btn","btn-block",3,"click"],["aria-hidden","true",1,"fa","fa-google"]],template:function(t,e){1&t&&(Aa(0,"div",0),Aa(1,"div",1),ka(2,oS,3,1,"div",2),ka(3,aS,2,0,"div",3),ka(4,uS,22,5,"form",4),xa(),xa()),2&t&&(yi(2),Ta("ngIf",e.error),yi(1),Ta("ngIf",e.isLoading),yi(1),Ta("ngIf",!e.isLoading))},directives:[ah,bC,pb,Gm,ob,Mm,zm,db,Rb,Lb,Ub,Qy],styles:[".btn-link[_ngcontent-%COMP%]{float:right}"]}),cS),hS=function(t){return[t]};function fS(t,e){if(1&t&&(Aa(0,"div",12),Aa(1,"a",13),Aa(2,"div",14),Oa(3,"img",15),xa(),Aa(4,"div",16),Aa(5,"h2",17),ls(6),xa(),Oa(7,"p",18),xu(8,"noSanitize"),xa(),Aa(9,"div",19),Aa(10,"p",20),ls(11),xa(),Aa(12,"p",21),ls(13),xu(14,"date"),xa(),xa(),xa(),xa()),2&t){var n=e.$implicit,r=e.index;yi(1),Ta("routerLink",Iu(10,hS,r)),yi(2),Ba("src","",n.imgurl," ",Yr),yi(3),fs(" ",n.title," "),yi(1),Ta("innerHTML",Ou(8,6,n.desc),Xr),yi(4),fs(" By : ",n.name," "),yi(2),fs(" On : ",Ou(14,8,n.created_date)," ")}}function dS(t,e){if(1&t&&(Aa(0,"div"),ka(1,fS,15,12,"div",11),xa()),2&t){var n=Va();yi(1),Ta("ngForOf",n.allpost)}}function pS(t,e){if(1&t&&(Aa(0,"div",12),Aa(1,"a",13),Aa(2,"div",14),Oa(3,"img",15),xa(),Aa(4,"div",16),Aa(5,"h2",17),ls(6),xa(),Oa(7,"p",18),xu(8,"noSanitize"),xa(),Aa(9,"div",19),Aa(10,"p",20),ls(11),xa(),Aa(12,"p",21),ls(13),xu(14,"date"),xa(),xa(),xa(),xa()),2&t){var n=e.$implicit,r=e.index;yi(1),Ta("routerLink",Iu(10,hS,r)),yi(2),Ba("src","",n.imgurl," ",Yr),yi(3),fs(" ",n.title," "),yi(1),Ta("innerHTML",Ou(8,6,n.desc),Xr),yi(4),fs(" By : ",n.name," "),yi(2),fs(" On : ",Ou(14,8,n.created_date)," ")}}function vS(t,e){if(1&t&&(Aa(0,"div",22),ka(1,pS,15,12,"div",11),xa()),2&t){var n=Va();yi(1),Ta("ngForOf",n.public_post)}}function gS(t,e){if(1&t&&(Aa(0,"div",12),Aa(1,"a",13),Aa(2,"div",14),Oa(3,"img",15),xa(),Aa(4,"div",16),Aa(5,"h2",17),ls(6),xa(),Oa(7,"p",18),xu(8,"noSanitize"),xa(),Aa(9,"div",19),Aa(10,"p",20),ls(11),xa(),Aa(12,"p",21),ls(13),xu(14,"date"),xa(),xa(),xa(),xa()),2&t){var n=e.$implicit,r=e.index;yi(1),Ta("routerLink",Iu(10,hS,r)),yi(2),Ba("src","",n.imgurl," ",Yr),yi(3),fs(" ",n.title," "),yi(1),Ta("innerHTML",Ou(8,6,n.desc),Xr),yi(4),fs(" By : ",n.name," "),yi(2),fs(" On : ",Ou(14,8,n.created_date)," ")}}function yS(t,e){if(1&t&&(Aa(0,"div",22),ka(1,gS,15,12,"div",11),xa()),2&t){var n=Va();yi(1),Ta("ngForOf",n.private_post)}}function mS(t,e){1&t&&(Aa(0,"div",25),Oa(1,"app-loading-spinner"),xa())}function _S(t,e){1&t&&(Aa(0,"div",26),Aa(1,"h3"),ls(2,"No Post Found"),xa(),xa())}function bS(t,e){if(1&t&&(ka(0,mS,2,0,"div",23),ka(1,_S,3,0,"div",24)),2&t){var n=Va();Ta("ngIf",n.isAll&&n.isFetching),yi(1),Ta("ngIf",n.isAll&&!n.isFetching)}}function wS(t,e){1&t&&(Aa(0,"div",25),Oa(1,"app-loading-spinner"),xa())}function kS(t,e){1&t&&(Aa(0,"div",26),Aa(1,"h3"),ls(2,"No Public Post Found"),xa(),xa())}function CS(t,e){if(1&t&&(ka(0,wS,2,0,"div",23),ka(1,kS,3,0,"div",24)),2&t){var n=Va();Ta("ngIf",n.isPublic&&n.isFetching),yi(1),Ta("ngIf",n.isPublic&&!n.isFetching)}}function ES(t,e){1&t&&(Aa(0,"div",25),Oa(1,"app-loading-spinner"),xa())}function SS(t,e){1&t&&(Aa(0,"div",26),Aa(1,"h3"),ls(2,"No Private Post Found"),xa(),xa())}function IS(t,e){if(1&t&&(ka(0,ES,2,0,"div",23),ka(1,SS,3,0,"div",24)),2&t){var n=Va();Ta("ngIf",n.isPrivate&&n.isFetching),yi(1),Ta("ngIf",n.isPrivate&&!n.isFetching)}}var TS,PS=function(t){return{active:t}},AS=function(t){return["/myposts",t]},xS=((TS=function(){function t(e,n,r,i){_classCallCheck(this,t),this.acrud=e,this.router=n,this.route=r,this.authservice=i,this.selectedIndex=0,this.type=["allpost","public","private"],this.isLoading$=new Rp(!1),this.public_post=null,this.isFetching=!0,this.isAll=!1,this.isPublic=!1,this.isPrivate=!1,this.count_all=0,this.count_pr=0,this.count_pb=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.href=this.router.url,this.url=this.href.split("/"),this.url=this.url[2],this.acrud.getDemo1(),this.acrud.getDemo2(),this.route.params.subscribe((function(e){t.url=e.type,"allpost"!==t.url&&"public"!==t.url&&"private"!==t.url&&t.router.navigate(["home"]),"allpost"===t.url&&t.getAllPosts(),"public"===t.url&&t.getPublicPosts(),"private"===t.url&&t.getPriavtePosts()}))}},{key:"getAllPosts",value:function(){var t=this;this.isLoading$.next(!0),this.isFetching=!0,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.acrud.getAllData().subscribe((function(e){var n=e[1],r=[];r=t.acrud.seprate(e[0]);var i=t.acrud.seprate(n);t.allpost=r.concat(i),t.sortDesecendingByDate(t.allpost),t.count_all=t.allpost.length,t.isLoading$.next(!1),t.isFetching=!1}),(function(e){t.error=e}))}},{key:"getPublicPosts",value:function(){var t=this;this.isLoading$.next(!0),this.isAll=!1,this.isPublic=!0,this.isPrivate=!1,this.isFetching=!0,this.puSub=this.acrud.pu.subscribe((function(e){t.public_post=e,t.public_post&&t.sortDesecendingByDate(t.public_post),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}),(function(){t.isFetching=!1}))}},{key:"getPriavtePosts",value:function(){var t=this;this.isAll=!1,this.isPublic=!1,this.isPrivate=!0,this.isFetching=!0,this.prSub=this.acrud.pr.subscribe((function(e){t.private_post=e,t.count_pr=t.private_post.length,t.isFetching=!1}),(function(e){t.error=e,t.isFetching=!1}))}},{key:"sortDesecendingByDate",value:function(t){return t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}},{key:"ngOnDestroy",value:function(){this.puSub&&this.public_post&&this.puSub.unsubscribe(),this.prSub&&this.private_post&&this.prSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||TS)(Ea(_C),Ea(Wy),Ea(Lg),Ea(mC))},TS.\u0275cmp=de({type:TS,selectors:[["app-user-post"]],decls:20,vars:24,consts:[[1,"row"],[1,"col-md-3","col-sm-12"],[1,"list-group"],[1,"list-group-item",3,"ngClass","routerLink","click"],[1,"col-md-7","col-sm-12","col-xs-12","post-cards"],[4,"ngIf","ngIfElse"],["class","col-md-7 col-sm-12 col-xs-12",4,"ngIf","ngIfElse"],["loading",""],["loading2",""],["loading3",""],[1,"col-sm-4","col-xs-12"],["class","card row",4,"ngFor","ngForOf"],[1,"card","row"],[3,"routerLink"],[1,"col-md-4","col-xs-12","img-col","col-md-push-8"],["alt","Avatar ","alt","img",1,"img-responsive",2,"width","100%",3,"src"],[1,"col-md-8","col-xs-12","main-content","col-md-pull-4"],[1,"title"],[1,"desc","desc1",3,"innerHTML"],[1,"author-date","col-md-6","col-xs-12"],[1,"author-name"],[1,"date"],[1,"col-md-7","col-sm-12","col-xs-12"],["class","loading-text",4,"ngIf"],["class","no-text",4,"ngIf"],[1,"loading-text"],[1,"no-text"]],template:function(t,e){if(1&t&&(Aa(0,"div",0),Aa(1,"div",1),Aa(2,"div",2),Aa(3,"a",3),Fa("click",(function(){return e.getAllPosts()})),ls(4,"All Posts "),xa(),Aa(5,"a",3),Fa("click",(function(){return e.getPublicPosts()})),ls(6,"Public Posts"),xa(),Aa(7,"a",3),Fa("click",(function(){return e.getPriavtePosts()})),ls(8,"Private Posts"),xa(),xa(),xa(),Aa(9,"div",4),ka(10,dS,2,1,"div",5),xa(),ka(11,vS,2,1,"div",6),ka(12,yS,2,1,"div",6),ka(13,bS,2,2,"ng-template",null,7,Yu),ka(15,CS,2,2,"ng-template",null,8,Yu),ka(17,IS,2,2,"ng-template",null,9,Yu),Oa(19,"div",10),xa()),2&t){var n=Ca(14),r=Ca(16),i=Ca(18);yi(3),Ta("ngClass",Iu(12,PS,1==e.isAll))("routerLink",Iu(14,AS,e.type[0])),yi(2),Ta("ngClass",Iu(16,PS,1==e.isPublic))("routerLink",Iu(18,AS,e.type[1])),yi(2),Ta("ngClass",Iu(20,PS,1==e.isPrivate))("routerLink",Iu(22,AS,e.type[2])),yi(3),Ta("ngIf",e.isAll&&(null==e.allpost?null:e.allpost.length)>0)("ngIfElse",n),yi(1),Ta("ngIf",e.isPublic&&(null==e.public_post?null:e.public_post.length)>0)("ngIfElse",r),yi(1),Ta("ngIf",e.isPrivate&&e.private_post.length>0)("ngIfElse",i)}},directives:[Qy,nh,ah,ih,bC],pipes:[iE,yh],styles:["a[_ngcontent-%COMP%]:hover{color:#000!important;opacity:.9}h2.title[_ngcontent-%COMP%]{color:#000}p.desc.desc1[_ngcontent-%COMP%]{max-height:45px}.main-content[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:767px){h2.title[_ngcontent-%COMP%]{padding-top:7px}.author-date[_ngcontent-%COMP%]{position:relative;padding-bottom:10px}}"]}),TS);function OS(t,e){if(1&t&&(Aa(0,"div",27),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function NS(t,e){if(1&t&&(Na(0),ka(1,OS,2,1,"div",26),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}function DS(t,e){if(1&t&&(Aa(0,"div",27),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function RS(t,e){if(1&t&&(Na(0),ka(1,DS,2,1,"div",26),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("desc").hasError(n.type)&&(r.exampleForm.get("desc").dirty||r.exampleForm.get("desc").touched))}}function MS(t,e){if(1&t&&(Aa(0,"option"),ls(1),xa()),2&t){var n=e.$implicit;yi(1),fs("",n," ")}}function LS(t,e){if(1&t&&(Aa(0,"div",27),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function FS(t,e){if(1&t&&(Na(0),ka(1,LS,2,1,"div",26),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("category").hasError(n.type)&&(r.exampleForm.get("category").dirty||r.exampleForm.get("category").touched))}}function US(t,e){1&t&&(Aa(0,"div",11),Oa(1,"input",28),xa())}function jS(t,e){if(1&t&&(Aa(0,"div",27),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function VS(t,e){if(1&t&&(Na(0),ka(1,jS,2,1,"div",26),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("name").hasError(n.type)&&(r.exampleForm.get("name").dirty||r.exampleForm.get("name").touched))}}function qS(t,e){if(1&t&&(Aa(0,"div",27),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function HS(t,e){if(1&t&&(Na(0),ka(1,qS,2,1,"div",26),Da()),2&t){var n=e.$implicit,r=Va(2);yi(1),Ta("ngIf",r.exampleForm.get("title").hasError(n.type)&&(r.exampleForm.get("title").dirty||r.exampleForm.get("title").touched))}}var BS=function(){return{height:"200px"}};function zS(t,e){if(1&t){var n=Ra();Aa(0,"div"),Aa(1,"form",3),Fa("ngSubmit",(function(){$e(n);var t=Va();return t.onSubmit(t.exampleForm.value)})),Aa(2,"div",4),Aa(3,"input",5),Fa("change",(function(t){return $e(n),Va().detectFiles(t)})),xa(),Oa(4,"img",6),Aa(5,"div"),ls(6),xu(7,"async"),xa(),Aa(8,"a",7),ls(9,"your url is View your Image here"),xa(),xa(),Oa(10,"br"),Aa(11,"div",8),Aa(12,"div",9),Aa(13,"label",10),ls(14,"Title:"),xa(),Aa(15,"div",11),Oa(16,"input",12),xa(),ka(17,NS,2,1,"ng-container",13),xa(),Aa(18,"div",9),Aa(19,"label",10),ls(20,"Description:"),xa(),Oa(21,"quill-editor",14),ka(22,RS,2,1,"ng-container",13),xa(),Aa(23,"div",9),Aa(24,"label",15),ls(25,"Category list:"),xa(),Aa(26,"select",16,17),Fa("change",(function(){$e(n);var t=Ca(27);return Va().onChange(t.value)})),ka(28,MS,2,1,"option",13),xa(),ka(29,FS,2,1,"ng-container",13),xa(),Aa(30,"div",9),ka(31,US,2,0,"div",18),xa(),Aa(32,"div",9),Aa(33,"label",10),ls(34,"Name:"),xa(),Aa(35,"div",11),Oa(36,"input",19),xa(),ka(37,VS,2,1,"ng-container",13),xa(),Aa(38,"div",9),Aa(39,"label",10),ls(40,"Keep your post Public:"),xa(),Aa(41,"div",11),Aa(42,"label",20),Oa(43,"input",21),ls(44," Yes keep my post Public "),xa(),Oa(45,"br"),Aa(46,"label",20),Oa(47,"input",22),ls(48," No keep it private "),xa(),xa(),ka(49,HS,2,1,"ng-container",13),xa(),Aa(50,"div",23),Aa(51,"div",24),Aa(52,"button",25),ls(53,"Create"),xa(),xa(),xa(),xa(),xa(),xa()}if(2&t){var r=Va();yi(1),Ta("formGroup",r.exampleForm),yi(3),Ta("src",r.imageSrc||"http://placehold.it/180",Yr),yi(2),hs(Ou(7,14,r.uploadPercent)),yi(2),Ha("href",r.downloadURL,Yr),yi(9),Ta("ngForOf",r.validation_messages.title),yi(4),Ta("styles",Su(16,BS))("modules",r.modules),yi(1),Ta("ngForOf",r.validation_messages.desc),yi(6),Ta("ngForOf",r.values),yi(1),Ta("ngForOf",r.validation_messages.category),yi(2),Ta("ngIf","Other"==r.selected),yi(6),Ta("ngForOf",r.validation_messages.name),yi(12),Ta("ngForOf",r.validation_messages.title),yi(3),Ta("disabled",!r.exampleForm.valid)}}function GS(t,e){1&t&&(Aa(0,"div",30),Oa(1,"app-loading-spinner"),xa())}function WS(t,e){if(1&t&&(Aa(0,"div",30),Aa(1,"p"),ls(2),xa(),xa()),2&t){var n=Va(2);yi(2),fs(" ",n.error,"")}}function KS(t,e){if(1&t&&(ka(0,GS,2,0,"div",29),ka(1,WS,3,1,"div",29)),2&t){var n=Va();Ta("ngIf",n.isFetching&&!n.error),yi(1),Ta("ngIf",n.error)}}var QS,XS=((QS=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.route=e,this.router=n,this.acrud=r,this.fb=i,this.firebaseService=o,this.modules={},this.values=["Happy","Sad","Success","Failure","Hurt","Other"],this.selected="Happy",this.isloggedin=!1,this.validation_messages={title:[{type:"required",message:"Title is required."}],desc:[{type:"required",message:"Description is required."}],category:[{type:"required",message:"Category is required."}],name:[{type:"required",message:"Name is required."}]},this.modules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{align:[]}],["clean"],["link","video"]]}}return _createClass(t,[{key:"onChange",value:function(t){this.selected=t}},{key:"ngOnInit",value:function(){var t=this;this.acrud.getDemo1(),this.acrud.getDemo2(),this.acrud.getAllData(),this.route.params.subscribe((function(e){t.id=+e.id,t.posttype=e.type})),"allpost"===this.posttype&&this.getAllPosts(),"public"===this.posttype&&this.getPublicPosts(),"private"===this.posttype&&this.getPriavtePosts(),this.EditForm()}},{key:"getAllPosts",value:function(){var t=this;this.isFetching=!0,this.isAll=!0,this.isPublic=!1,this.isPrivate=!1,this.acrud.getAllData().subscribe((function(e){var n=e[1],r=[];r=t.acrud.seprate(e[0]);var i=t.acrud.seprate(n),o=r.concat(i);t.sortDesecendingByDate(o),t.d4=o,t.setFormValue(t.d4[t.id]),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"setFormValue",value:function(t){this.imageSrc=t.imgurl,this.downloadURL=t.imgurl,this.exampleForm.patchValue({title:t.title,desc:t.desc,category:t.category,name:t.name,privacy:t.privacy})}},{key:"getPublicPosts",value:function(){var t=this;this.isFetching=!0,this.isAll=!1,this.isPublic=!0,this.isPrivate=!1,this.acrud.getPublicPost().subscribe((function(e){var n=t.acrud.seprate(e);t.sortDesecendingByDate(n),t.d4=n,t.setFormValue(t.d4[t.id]),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"getPriavtePosts",value:function(){var t=this;this.isFetching=!0,this.isAll=!1,this.isPublic=!1,this.isPrivate=!0,this.acrud.getPrivatePost().subscribe((function(e){var n=t.acrud.seprate(e);t.sortDesecendingByDate(n),t.d4=n,t.setFormValue(t.d4[t.id]),t.isFetching=!1}),(function(e){t.isFetching=!1,t.error=e}))}},{key:"detectFiles",value:function(t){var e=this;if(this.selectedFile=t.target.files[0],"image"!==this.selectedFile.type.split("/")[0])return alert("Pleas select an Image file");if(this.firebaseService.getdata(this.selectedFile),t.target.files&&t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.onload=function(t){return e.imageSrc=r.result},r.readAsDataURL(n)}this.firebaseService.uploadFile(),this.uploadPercent=this.firebaseService.uploadPercent,this.firebaseService.downloadurlchange.subscribe((function(t){e.downloadURL=t}),(function(t){console.log(t.message)}))}},{key:"EditForm",value:function(){this.exampleForm=this.fb.group({imgurl:[""],title:["",Ym.required],desc:["",[Ym.required,Ym.minLength(50)]],category:[this.selected,Ym.required],subcategory:["  ",Ym.required],name:["",Ym.required],privacy:["true"]})}},{key:"sortDesecendingByDate",value:function(t){return t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}},{key:"onSubmit",value:function(t){"allpost"===this.posttype&&t.privacy&&this.getAllPosts(),"public"===this.posttype&&this.getPublicPosts(),"private"===this.posttype&&this.getPriavtePosts(),this.acrud.passParams(this.posttype,this.id),this.acrud.update(this.id,this.d4[this.id],t,this.downloadURL)}}]),t}()).\u0275fac=function(t){return new(t||QS)(Ea(Lg),Ea(Wy),Ea(_C),Ea(Vb),Ea(Zw))},QS.\u0275cmp=de({type:QS,selectors:[["app-user-edit"]],decls:4,vars:2,consts:[[1,"col-md-10","col-sm-12","col-xs-12","center-block"],[4,"ngIf","ngIfElse"],["loading",""],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"col-md-4","col-sm-3","col-xs-12"],["type","file","multiple","","accept","image/x-png,image/gif,image/jpeg","formControlName","imgurl",1,"form-control",3,"change"],["id","blah","height","200","width","200","alt","your image",1,"img-rounded",3,"src"],[3,"href"],[1,"col-md-8","col-sm-9","col-xs-12"],[1,"form-group"],["for","comment"],[1,"input-style"],["placeholder","Title","formControlName","title",1,"form-control"],[4,"ngFor","ngForOf"],["trackChanges","all","id","comment","formControlName","desc",3,"styles","modules"],["for","sel1"],["formControlName","category",1,"form-control",3,"change"],["t",""],["class","input-style",4,"ngIf"],["placeholder","Name","formControlName","name",1,"form-control"],[1,"md-check"],["type","radio","value","true","name","privacy","formControlName","privacy","checked","true"],["type","radio","value","false","name","privacy","formControlName","privacy"],[1,"row","submit-button-container"],[1,"col-md-4"],["color","primary","type","submit",1,"btn","btn-primary","submit-button",3,"disabled"],["class","help-block has-error",4,"ngIf"],[1,"help-block","has-error"],["placeholder","Other category","formControlName","subcategory",1,"form-control"],["class","loading-text",4,"ngIf"],[1,"loading-text"]],template:function(t,e){if(1&t&&(Aa(0,"div",0),ka(1,zS,54,17,"div",1),ka(2,KS,2,2,"ng-template",null,2,Yu),xa()),2&t){var n=Ca(3);yi(1),Ta("ngIf",!e.isFetching&&e.d4)("ngIfElse",n)}},directives:[ah,pb,Gm,yb,Mm,zm,Nb,ih,DC,w_,l_,k_,P_,bC],pipes:[gh],styles:["input[type=file][_ngcontent-%COMP%]{width:200px}.col-md-4.col-sm-3.col-xs-12[_ngcontent-%COMP%]{margin-bottom:25px}.center-block[_ngcontent-%COMP%]{float:none}"]}),QS);function YS(t,e){1&t&&(Aa(0,"div",21),Oa(1,"img",22),xa())}function $S(t,e){if(1&t&&(Aa(0,"div",23),Aa(1,"a",24),ls(2,"To view Image click here"),xa(),xa()),2&t){var n=Va();yi(1),Ha("href",n.downloadURL,Yr)}}function ZS(t,e){if(1&t&&(Aa(0,"div",26),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function JS(t,e){if(1&t&&(Na(0),ka(1,ZS,2,1,"div",25),Da()),2&t){var n=e.$implicit,r=Va();yi(1),Ta("ngIf",r.ProfileForm.get("uname").hasError(n.type)&&(r.ProfileForm.get("uname").dirty||r.ProfileForm.get("uname").touched))}}function tI(t,e){if(1&t&&(Aa(0,"div",26),ls(1),xa()),2&t){var n=Va(2);yi(1),fs(" ",n.erroUsername,"")}}function eI(t,e){if(1&t&&(Na(0),ka(1,tI,2,1,"div",25),Da()),2&t){var n=Va();yi(1),Ta("ngIf",n.ProfileForm.get("uname")&&(n.ProfileForm.get("uname").dirty||n.ProfileForm.get("uname").touched))}}function nI(t,e){if(1&t&&(Aa(0,"div",26),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function rI(t,e){if(1&t&&(Na(0),ka(1,nI,2,1,"div",25),Da()),2&t){var n=e.$implicit,r=Va();yi(1),Ta("ngIf",r.ProfileForm.get("email").hasError(n.type)&&(r.ProfileForm.get("email").dirty||r.ProfileForm.get("email").touched))}}function iI(t,e){if(1&t&&(Aa(0,"div",26),ls(1),xa()),2&t){var n=Va().$implicit;yi(1),fs(" ",n.message,"")}}function oI(t,e){if(1&t&&(Na(0),ka(1,iI,2,1,"div",25),Da()),2&t){var n=e.$implicit,r=Va();yi(1),Ta("ngIf",r.ProfileForm.get("name").hasError(n.type)&&(r.ProfileForm.get("name").dirty||r.ProfileForm.get("name").touched))}}function aI(t,e){if(1&t&&(Aa(0,"div",27),Aa(1,"button",28),ls(2,"Edit"),xa(),xa()),2&t){var n=Va();yi(1),Ta("disabled",!n.ProfileForm.valid||n.erroUsername)}}function sI(t,e){if(1&t&&(Aa(0,"div",27),Aa(1,"button",28),ls(2,"Create "),xa(),xa()),2&t){var n=Va();yi(1),Ta("disabled",!n.ProfileForm.valid||n.errorImg)}}var uI,cI=((uI=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.router=e,this.route=n,this.firebaseService=r,this.fb=i,this.authService=o,this.acrud=a,this.validation_messages={uname:[{type:"required",message:"Title is required."}],email:[{type:"required",message:"Category is required."}],name:[{type:"required",message:"Name is required."}]},this.isimgloading=!1}return _createClass(t,[{key:"detectFiles",value:function(t){var e=this;if(this.isimgloading=!0,this.selectedFile=t.target.files[0],"image"!==this.selectedFile.type.split("/")[0])return alert("Pleas select an Image file");if(this.firebaseService.getdata(this.selectedFile),t.target.files&&t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.onload=function(t){return e.imageSrc=r.result},r.readAsDataURL(n)}this.firebaseService.uploadFile(),this.uploadPercent=this.firebaseService.uploadPercent,this.firebaseService.downloadurlchange.subscribe((function(t){e.isimgloading=!1,e.errorImg=null,e.downloadURL=t}),(function(t){console.log(t.message)}))}},{key:"ngOnInit",value:function(){var t=this;this.authService.user.subscribe((function(e){e.email&&(t.email=e.email)})),this.href=this.router.url,this.x=this.href.split("/"),this.route.paramMap.subscribe((function(e){t.x[1]&&null==t.x[2]&&(t.errorImg="Img not set")})),this.usernamParam=this.x[2],this.x[2]&&"editProfile"==this.x[3]&&this.getProfileData(),this.CreateProfile(),null==this.x[2]&&this.checkProfileExist()}},{key:"checkProfileExist",value:function(){var t=this;this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.profileReturned=n[0],t.profileReturned&&t.router.navigate(["myprofile",t.profileReturned.uname])}))}},{key:"getProfileData",value:function(){var t=this;this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.profileReturned=n[0],t.usernamParam!==t.profileReturned.uname&&t.router.navigate(["home"]),t.SetProfileForm(n[0])}))}},{key:"SetProfileForm",value:function(t){this.imageSrc=t.imgurl,this.downloadURL=t.imgurl,this.ProfileForm.patchValue({uname:t.uname,desc:t.desc,name:t.name,email:this.email})}},{key:"CreateProfile",value:function(){this.ProfileForm=this.fb.group({imgurl:[""],email:[this.email,Ym.required],desc:[""],name:["",Ym.required],uname:["",Ym.required]})}},{key:"validateUsername",value:function(){var t=this;(this.profileReturned?this.profileReturned.uname:"")!==this.username&&this.acrud.getPublicProfile(this.username).subscribe((function(e){t.erroUsername=null!==e?"Username Already taken":null}))}},{key:"clearError",value:function(){this.erroUsername=""}},{key:"checkUsername",value:function(t){this.username=t,this.validateUsername()}},{key:"onSubmit",value:function(t){this.x[2]&&"editProfile"==this.x[3]?(this.acrud.UpdateProfile(t,this.profileReturned,this.downloadURL),this.ProfileForm.reset()):(this.acrud.createProfile(t),this.ProfileForm.reset(),this.redirectTo(""))}},{key:"redirectTo",value:function(t){var e=this;this.router.navigateByUrl("/",{skipLocationChange:!0}).then((function(){return e.router.navigate([t])})),setTimeout((function(){window.location.href=""}),1e3)}}]),t}()).\u0275fac=function(t){return new(t||uI)(Ea(Wy),Ea(Lg),Ea(Zw),Ea(Vb),Ea(mC),Ea(_C))},uI.\u0275cmp=de({type:uI,selectors:[["app-profile"]],decls:40,vars:13,consts:[[1,"container"],[1,"col-md-12","col-sm-9","col-xs-12"],["novalidate","",1,"create-form",3,"formGroup","ngSubmit"],[1,"col-md-4","col-sm-3","col-xs-12"],["type","file","multiple","","accept","image/x-png,image/gif,image/jpeg","formControlName","imgurl",1,"form-control",3,"change"],["alt","","id","blah","height","200","width","200","alt","your image",1,"img-rounded",3,"src"],[1,"col-xs-2","percantage"],["class","col-xs-3","style","width: 30px; height: 30px;",4,"ngIf"],["class","col-xs-7",4,"ngIf"],[1,"col-md-8","col-xs-12"],[1,"form-group"],["for","comment"],[1,"input-style"],["placeholder","User Name","formControlName","uname",1,"form-control",3,"focus","blur"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","User Name","formControlName","email",1,"form-control"],["placeholder","Name","formControlName","name",1,"form-control"],["rows","5","id","comment","formControlName","desc",1,"form-control"],[1,"row","submit-button-container"],["class","col-md-4",4,"ngIf"],[1,"col-xs-3",2,"width","30px","height","30px"],["src","https://mehulk05.github.io/Blog-Book/assets/Eclipse-1s-200px.gif",2,"width","60px","height","60px"],[1,"col-xs-7"],[3,"href"],["class","help-block has-error",4,"ngIf"],[1,"help-block","has-error"],[1,"col-md-4"],["color","primary","type","submit",1,"btn","btn-primary","submit-button",3,"disabled"]],template:function(t,e){1&t&&(Aa(0,"div",0),Aa(1,"div",1),Aa(2,"form",2),Fa("ngSubmit",(function(){return e.onSubmit(e.ProfileForm.value)})),Aa(3,"div",3),Aa(4,"input",4),Fa("change",(function(t){return e.detectFiles(t)})),xa(),Oa(5,"img",5),Aa(6,"div",6),Aa(7,"h3"),ls(8),xu(9,"async"),xa(),xa(),ka(10,YS,2,0,"div",7),ka(11,$S,3,1,"div",8),xa(),Oa(12,"br"),Aa(13,"div",9),Aa(14,"div",10),Aa(15,"label",11),ls(16,"Username:"),xa(),Aa(17,"div",12),Aa(18,"input",13),Fa("focus",(function(){return e.clearError()}))("blur",(function(t){return e.checkUsername(t.target.value)})),xa(),xa(),ka(19,JS,2,1,"ng-container",14),ka(20,eI,2,1,"ng-container",15),xa(),Aa(21,"div",10),Aa(22,"label",11),ls(23,"Email:"),xa(),Aa(24,"div",12),Oa(25,"input",16),xa(),ka(26,rI,2,1,"ng-container",14),xa(),Aa(27,"div",10),Aa(28,"label",11),ls(29,"Name:"),xa(),Aa(30,"div",12),Oa(31,"input",17),xa(),ka(32,oI,2,1,"ng-container",14),xa(),Aa(33,"div",10),Aa(34,"label",11),ls(35,"Description:"),xa(),Oa(36,"textarea",18),xa(),Aa(37,"div",19),ka(38,aI,3,1,"div",20),ka(39,sI,3,1,"div",20),xa(),xa(),xa(),xa(),xa()),2&t&&(yi(2),Ta("formGroup",e.ProfileForm),yi(3),Ta("src",e.imageSrc||"http://placehold.it/180",Yr),yi(3),hs(Ou(9,11,e.uploadPercent)),yi(2),Ta("ngIf",e.isimgloading),yi(1),Ta("ngIf",e.uploadPercent&&!e.isimgloading),yi(8),Ta("ngForOf",e.validation_messages.uname),yi(1),Ta("ngIf",e.erroUsername&&!e.oldusername),yi(6),Ta("ngForOf",e.validation_messages.email),yi(6),Ta("ngForOf",e.validation_messages.name),yi(6),Ta("ngIf",e.x[2]),yi(1),Ta("ngIf",e.x[1]&&!e.x[2]))},directives:[pb,Gm,yb,Mm,zm,Nb,ah,ih],pipes:[gh],styles:[".col-md-4.col-sm-3.col-xs-12[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}.help-block[_ngcontent-%COMP%]{color:red}.col-md-4.col-sm-3.col-xs-12[_ngcontent-%COMP%]{margin-bottom:25px}.percantage[_ngcontent-%COMP%]{width:29%;float:none}.center-block[_ngcontent-%COMP%]{float:none}.col-xs-7[_ngcontent-%COMP%]{padding-top:15px}@media screen and (max-width:767px){.percantage[_ngcontent-%COMP%]{float:left}}"]}),uI),lI=function(t){return["/myprofile",t]},hI=function(t){return["/myprofile",t,"editProfile"]},fI=function(){return["/myposts","public"]},dI=function(){return["/myposts","private"]},pI=function(){return["/myposts"]};function vI(t,e){if(1&t&&(Aa(0,"div",7),Aa(1,"div",8),Aa(2,"a",9),ls(3,"Profile"),xa(),Aa(4,"a",10),ls(5,"Edit Profile"),xa(),Aa(6,"a",10),ls(7,"Public Posts "),Aa(8,"span",11),ls(9),xa(),xa(),Aa(10,"a",10),ls(11,"Private Posts "),Aa(12,"span",11),ls(13),xa(),xa(),Aa(14,"a",10),ls(15,"All Posts "),Aa(16,"span",11),ls(17),xa(),xa(),xa(),xa()),2&t){var n=Va(2);yi(2),Ta("routerLink",Iu(8,lI,n.unameParam)),yi(2),Ta("routerLink",Iu(10,hI,n.username)),yi(2),Ta("routerLink",Su(12,fI)),yi(3),fs(" (",n.pbcount,")"),yi(1),Ta("routerLink",Su(13,dI)),yi(3),fs(" (",n.prcount,")"),yi(1),Ta("routerLink",Su(14,pI)),yi(3),fs(" (",n.allcount,")")}}var gI=function(){return["publicposts"]},yI=function(){return[""]};function mI(t,e){if(1&t&&(Aa(0,"div",7),Aa(1,"div",8),Aa(2,"a",9),ls(3,"Profile"),xa(),Aa(4,"a",9),ls(5,"Public Posts "),Aa(6,"span",11),ls(7),xa(),xa(),Aa(8,"a",12),ls(9,"Private Posts "),Aa(10,"span",11),ls(11),xa(),xa(),Aa(12,"a",12),ls(13,"All Posts "),Aa(14,"span",11),ls(15),xa(),xa(),xa(),xa()),2&t){var n=Va(2);yi(2),Ta("routerLink",Iu(7,lI,n.unameParam)),yi(2),Ta("routerLink",Su(9,gI)),yi(3),fs(" (",n.pbcount,")"),yi(1),Ta("routerLink",Su(10,yI)),yi(3),fs(" (",n.prcount,")"),yi(1),Ta("routerLink",Su(11,yI)),yi(3),fs(" (",n.allcount,")")}}function _I(t,e){if(1&t&&(Aa(0,"div",3),Aa(1,"div",13),Oa(2,"img",14),xa(),Aa(3,"div",15),Aa(4,"h2"),ls(5),xa(),Aa(6,"h5"),Aa(7,"b"),ls(8,"Username : "),xa(),ls(9),xa(),Aa(10,"p"),Aa(11,"b"),ls(12,"Email : "),xa(),ls(13),xa(),Aa(14,"p"),Aa(15,"b"),ls(16,"Bio : "),xa(),ls(17),xa(),xa(),xa()),2&t){var n=Va(2);yi(2),Ta("src",n.ProfileData.imgurl,Yr),yi(3),fs(" Name : ",n.ProfileData.name," "),yi(4),fs(" ",n.ProfileData.uname," "),yi(4),fs(" ",n.ProfileData.email," "),yi(4),fs(" ",n.ProfileData.desc," ")}}function bI(t,e){if(1&t&&(Aa(0,"div",3),ka(1,vI,18,15,"div",4),ka(2,mI,16,12,"div",4),Aa(3,"div",5),ka(4,_I,18,5,"div",6),xa(),xa()),2&t){var n=Va();yi(1),Ta("ngIf",n.isAuthenticated&&n.ismyself),yi(1),Ta("ngIf",!n.isAuthenticated||!n.ismyself),yi(2),Ta("ngIf",n.ProfileData)}}function wI(t,e){1&t&&(Aa(0,"div",17),Oa(1,"app-loading-spinner"),xa())}function kI(t,e){1&t&&ka(0,wI,2,0,"div",16),2&t&&Ta("ngIf",Va().isloading)}var CI,EI=((CI=function(){function t(e,n,r,i){_classCallCheck(this,t),this.acrud=e,this.authService=n,this.router=r,this.route=i,this.isAuthenticated=!1,this.isloading=!0,this.ismyself=!1,this.pbcount=0,this.prcount=0,this.allcount=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.userSub=this.authService.user.subscribe((function(e){e&&(t.isAuthenticated=!!e)})),this.route.params.subscribe((function(e){t.unameParam=e.username,t.getUidFromService(),t.isAuthenticated&&t.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.myuname=n[0].uname,t.myuname==t.unameParam?(t.ismyself=!0,t.getPrfoileFromPersonalDb()):(t.ismyself=!1,t.getPrfoileFromPublicDb())})),t.isAuthenticated||(t.ismyself=!1,t.getPrfoileFromPublicDb())}))}},{key:"getPrfoileFromPublicDb",value:function(){var t=this;this.isloading=!0,this.acrud.getPublicProfile(this.unameParam).subscribe((function(e){var n=t.acrud.seprate(e);t.ProfileData=n[0],t.isloading=!1}))}},{key:"getPrfoileFromPersonalDb",value:function(){var t=this;this.isloading=!0,this.acrud.getProfile().subscribe((function(e){var n=t.acrud.seprate(e);t.ProfileData=n[0],t.username=t.ProfileData.uname,t.isloading=!1}))}},{key:"getUidFromService",value:function(){var t=this;this.acrud.getPublicProfile(this.unameParam).subscribe((function(e){var n=t.acrud.seprate(e);if(n[0]){var r=n[0].id;t.getPublicPostsFromProfileId(r),t.getPrivatePostsFromProfileId(r)}else t.router.navigate(["home"])}))}},{key:"getPrivatePostsFromProfileId",value:function(t){var e=this;this.acrud.getPrivateFromProfileId(t).subscribe((function(t){var n=e.acrud.seprate(t);e.prcount=n.length,e.allcount+=e.prcount}))}},{key:"getPublicPostsFromProfileId",value:function(t){var e=this;this.acrud.getPublicPostsFromProfileId(t).subscribe((function(t){var n=e.acrud.seprate(t);e.pbcount=n.length,e.allcount+=e.pbcount}))}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||CI)(Ea(_C),Ea(mC),Ea(Wy),Ea(Lg))},CI.\u0275cmp=de({type:CI,selectors:[["app-view-profile"]],decls:4,vars:2,consts:[["class","row",4,"ngIf","ngIfElse"],[1,"col-md-9","col-sm-12"],["loading",""],[1,"row"],["class","col-md-3 col-sm-12",4,"ngIf"],[1,"col-md-7","col-sm-12","center-block"],["class","row",4,"ngIf"],[1,"col-md-3","col-sm-12"],[1,"list-group"],["routerLinkActive","active",1,"list-group-item",3,"routerLink"],[1,"list-group-item",3,"routerLink"],[1,"count-post"],[1,"list-group-item","disabled",3,"routerLink"],[1,"col-md-4","col-xs-12","col-md-push-8"],["alt","","width","150","height","150",1,"img-circle",3,"src"],[1,"col-md-8","col-xs-12","col-md-pull-4"],["class","loading-text",4,"ngIf"],[1,"loading-text"]],template:function(t,e){if(1&t&&(ka(0,bI,5,3,"div",0),Aa(1,"div",1),ka(2,kI,1,1,"ng-template",null,2,Yu),xa()),2&t){var n=Ca(3);Ta("ngIf",!e.isloading)("ngIfElse",n)}},directives:[ah,Qy,tm,bC],styles:["h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:767px){.col-md-4.col-xs-12[_ngcontent-%COMP%]{margin-top:25px;float:none;text-align:center}.img-circle[_ngcontent-%COMP%]{width:150px;height:150px;text-align:center}h5[_ngcontent-%COMP%] > b[_ngcontent-%COMP%], p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{font-size:18px}h2[_ngcontent-%COMP%]{padding-bottom:10px}}@media screen and (min-width:992px){.col-md-8.col-xs-8[_ngcontent-%COMP%]{padding-left:50px}}.center-block[_ngcontent-%COMP%]{padding:25px;box-shadow:0 10px 35px rgba(0,0,0,.1)}b[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}"]}),CI),SI=function(t){return[t]};function II(t,e){if(1&t&&(Aa(0,"div"),Aa(1,"div",10),Aa(2,"a",11),Aa(3,"div",12),Oa(4,"img",13),xa(),Aa(5,"div",14),Aa(6,"h2",15),ls(7),xa(),Oa(8,"p",16),xu(9,"noSanitize"),xa(),Aa(10,"div",17),Aa(11,"p",18),ls(12),xa(),Aa(13,"p",19),ls(14),xu(15,"date"),xa(),xa(),xa(),xa(),xa()),2&t){var n=e.$implicit,r=e.index;yi(2),Ta("routerLink",Iu(10,SI,r)),yi(2),Ba("src","",n.imgurl," ",Yr),yi(3),fs(" ",n.title," "),yi(1),Ta("innerHTML",Ou(9,6,n.desc),Xr),yi(4),fs(" By ",n.name," "),yi(2),fs(" On ",Ou(15,8,n.created_date)," ")}}function TI(t,e){if(1&t&&(Aa(0,"div"),ka(1,II,16,12,"div",9),xa()),2&t){var n=Va();yi(1),Ta("ngForOf",n.PublicPosts)}}function PI(t,e){1&t&&(Aa(0,"div",20),Oa(1,"app-loading-spinner"),xa())}function AI(t,e){1&t&&(Aa(0,"div",20),Aa(1,"h3"),ls(2,"No Post Found"),xa(),xa())}var xI,OI,NI=function(t){return["/myprofile",t]},DI=function(){return{exact:!0}},RI=function(t){return["/myprofile",t,"publicposts"]},MI=function(){return[""]},LI=((OI=function(){function t(e,n,r){_classCallCheck(this,t),this.acrud=e,this.authService=n,this.router=r,this.isFetching=!1,this.pbcount=0,this.prcount=0,this.allcount=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.router.url.split("/");this.unameParam=t[2],this.getUidFromService()}},{key:"getUidFromService",value:function(){var t=this;this.isFetching=!0,this.acrud.getPublicProfile(this.unameParam).subscribe((function(e){var n=t.acrud.seprate(e)[0].id;t.getPublicPostsFromProfileId(n),t.getPrivatePstsFromProfileId(n),t.isFetching=!1}))}},{key:"getPrivatePstsFromProfileId",value:function(t){var e=this;this.isFetching=!0,this.acrud.getPrivateFromProfileId(t).subscribe((function(t){e.isFetching=!1;var n=e.acrud.seprate(t);e.prcount=n.length,e.allcount+=e.prcount}))}},{key:"getPublicPostsFromProfileId",value:function(t){var e=this;this.isFetching=!0,this.acrud.getPublicPostsFromProfileId(t).subscribe((function(t){var n=e.acrud.seprate(t);e.sortDesecendingByDate(n),e.PublicPosts=n,e.pbcount=e.PublicPosts.length,e.allcount+=e.pbcount,e.isFetching=!1}))}},{key:"sortDesecendingByDate",value:function(t){return t.sort((function(t,e){return new Date(e.created_date)-new Date(t.created_date)}))}}]),t}()).\u0275fac=function(t){return new(t||OI)(Ea(_C),Ea(mC),Ea(Wy))},OI.\u0275cmp=de({type:OI,selectors:[["app-view-only-public-post"]],decls:21,vars:24,consts:[[1,"row"],[1,"col-md-3","col-sm-12"],[1,"list-group"],["routerLinkActive","active",1,"list-group-item",3,"routerLink","routerLinkActiveOptions"],[1,"count-post"],["routerLinkActive","active",1,"list-group-item","disabled",3,"routerLink","routerLinkActiveOptions"],[1,"col-md-7","col-sm-12","col-xs-12","post-cards"],[4,"ngIf"],["class","loading-text",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card","row"],[3,"routerLink"],[1,"col-md-4","col-xs-12","img-col","col-md-push-8"],["alt","Avatar ",1,"img-responsive",2,"width","100%",3,"src"],[1,"col-md-8","col-xs-12","main-content","col-md-pull-4"],[1,"title"],[1,"desc","desc1",3,"innerHTML"],[1,"author-date","col-md-6","col-xs-12"],[1,"author-name"],[1,"date"],[1,"loading-text"]],template:function(t,e){1&t&&(Aa(0,"div",0),Aa(1,"div",1),Aa(2,"div",2),Aa(3,"a",3),ls(4,"Profile"),xa(),Aa(5,"a",3),ls(6,"Public Posts "),Aa(7,"span",4),ls(8),xa(),xa(),Aa(9,"a",5),ls(10,"Private Posts "),Aa(11,"span",4),ls(12),xa(),xa(),Aa(13,"a",5),ls(14,"All Posts "),Aa(15,"span",4),ls(16),xa(),xa(),xa(),xa(),Aa(17,"div",6),ka(18,TI,2,1,"div",7),ka(19,PI,2,0,"div",8),ka(20,AI,3,0,"div",8),xa(),xa()),2&t&&(yi(3),Ta("routerLink",Iu(14,NI,e.unameParam))("routerLinkActiveOptions",Su(16,DI)),yi(2),Ta("routerLink",Iu(17,RI,e.unameParam))("routerLinkActiveOptions",Su(19,DI)),yi(3),fs(" (",e.pbcount,")"),yi(1),Ta("routerLink",Su(20,MI))("routerLinkActiveOptions",Su(21,DI)),yi(3),fs(" (",e.prcount,")"),yi(1),Ta("routerLink",Su(22,MI))("routerLinkActiveOptions",Su(23,DI)),yi(3),fs(" (",e.allcount,")"),yi(2),Ta("ngIf",(null==e.PublicPosts?null:e.PublicPosts.length)>0&&!e.isFetching),yi(1),Ta("ngIf",e.isFetching),yi(1),Ta("ngIf",!e.isFetching&&(null==e.PublicPosts?null:e.PublicPosts.length)<1))},directives:[Qy,tm,ah,ih,bC],pipes:[iE,yh],styles:["a[_ngcontent-%COMP%]:hover{color:#000!important;opacity:.9}h2.title[_ngcontent-%COMP%]{color:#000}p.desc.desc1[_ngcontent-%COMP%]{max-height:45px}.main-content[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:767px){.author-date[_ngcontent-%COMP%]{position:relative;padding-bottom:10px}}"]}),OI),FI=((xI=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(t,e){return!!this.authService.isLoggedIn1()||(this.router.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)}}]),t}()).\u0275fac=function(t){return new(t||xI)(Xt(mC),Xt(Wy))},xI.\u0275prov=ht({token:xI,factory:xI.\u0275fac}),xI);function UI(t,e){if(1&t&&(Aa(0,"div",5),Aa(1,"p"),ls(2),xa(),xa()),2&t){var n=Va();yi(2),hs(n.error)}}function jI(t,e){1&t&&(Aa(0,"div",6),Oa(1,"app-loading-spinner"),xa())}var VI=function(){return["/auth"]};function qI(t,e){if(1&t){var n=Ra();Aa(0,"form",7,8),Fa("ngSubmit",(function(){$e(n);var t=Ca(1);return Va().onSubmit(t)})),Aa(2,"div",9),Aa(3,"label",10),ls(4,"E-Mail"),xa(),Oa(5,"input",11),xa(),Aa(6,"div",9),Aa(7,"button",12),ls(8," Reset Password "),xa(),Aa(9,"a",13),ls(10,"Login Page"),xa(),xa(),xa()}if(2&t){var r=Ca(1);yi(7),Ta("disabled",!r.valid),yi(2),Ta("routerLink",Su(2,VI))}}var HI,BI=((HI=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.isLoading=!1,this.error=""}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(t){var e=this;this.isLoading=!0,t.valid&&this.auth.sendPasswordResetEmail(t.value.email).then((function(){e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.error=t.message,e.auth.showerrorForResetMail()}))}}]),t}()).\u0275fac=function(t){return new(t||HI)(Ea(mC))},HI.\u0275cmp=de({type:HI,selectors:[["app-resetpassword"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center;","class","loading-text",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[1,"loading-text",2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-link",3,"routerLink"]],template:function(t,e){1&t&&(Aa(0,"div",0),Aa(1,"div",1),ka(2,UI,3,1,"div",2),ka(3,jI,2,0,"div",3),ka(4,qI,11,3,"form",4),xa(),xa()),2&t&&(yi(2),Ta("ngIf",e.error),yi(1),Ta("ngIf",e.isLoading),yi(1),Ta("ngIf",!e.isLoading))},directives:[ah,bC,pb,Gm,ob,Mm,zm,db,Rb,Lb,Qy],styles:[""]}),HI);function zI(t,e){if(1&t&&(Aa(0,"div",10),Aa(1,"p",3),ls(2,"We have sent a confirmation email to "),Aa(3,"strong"),ls(4),xa(),ls(5,"."),xa(),Aa(6,"p",3),ls(7,"Please check your email and click on the link to verfiy your email address."),xa(),xa()),2&t){var n=e.ngIf;yi(4),hs(n.email)}}var GI,WI,KI,QI=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:iS},{path:"home/:id",component:HE,pathMatch:"full"},{path:"featured/:id",component:HE,pathMatch:"full"},{path:"myprofile",component:cI,pathMatch:"full",canActivate:[FI]},{path:"myprofile/:username",component:EI,pathMatch:"full"},{path:"myprofile/:username/editProfile",component:cI,canActivate:[FI]},{path:"myprofile/:username/publicposts",component:LI},{path:"myprofile/:username/publicposts/:id",component:HE},{path:"create-post",component:rE,canActivate:[FI]},{path:"auth",component:lS},{path:"verify-mail",component:(GI=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"OnClick",value:function(){this.authService.logout()}}]),t}(),GI.\u0275fac=function(t){return new(t||GI)(Ea(mC),Ea(Wy))},GI.\u0275cmp=de({type:GI,selectors:[["app-verify-mail"]],decls:18,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],["class","formGroup text-info part2",4,"ngIf"],[1,"formGroup","text-center","text-info"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin","text-info"],[1,"redirect",3,"click"],[1,"formGroup","text-info","part2"]],template:function(t,e){1&t&&(Aa(0,"div",0),Aa(1,"div",1),Aa(2,"div",2),Aa(3,"h3",3),ls(4,"Thank You for Registering"),xa(),ka(5,zI,8,1,"div",4),Aa(6,"div",5),Aa(7,"h4",3),ls(8,"After verfying kidnly try to login again"),xa(),Aa(9,"button",6),Fa("click",(function(){return e.authService.SendVerificationMail()})),Oa(10,"i",7),ls(11," Resend Verification Email "),xa(),Aa(12,"div",8),Aa(13,"a"),Aa(14,"span"),ls(15,"Go back to?"),Aa(16,"span",9),Fa("click",(function(){return e.OnClick()})),ls(17," Sign in"),xa(),xa(),xa(),xa(),xa(),xa(),xa(),xa()),2&t&&(yi(5),Ta("ngIf",e.authService.userData))},directives:[ah],styles:[".text-info[_ngcontent-%COMP%]{padding-top:35px}.redirect[_ngcontent-%COMP%]:hover{cursor:pointer}.redirect[_ngcontent-%COMP%]{font-weight:700}.btnPrimary[_ngcontent-%COMP%]{margin-top:25px}@media screen and (max-width:767px){.part2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}}"]}),GI)},{path:"reset-password",component:BI},{path:"myposts",redirectTo:"myposts/allpost",pathMatch:"full"},{path:"myposts/:type",component:xS,pathMatch:"full"},{path:"myposts/:type/:id",component:HE},{path:"myposts/:type/:id/edit",component:XS},{path:"myposts/:type/:id/delete",component:HE},{path:"**/undefined",redirectTo:"/home"}],XI=((WI=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:WI}),WI.\u0275inj=ft({factory:function(t){return new(t||WI)},imports:[[pm.forRoot(QI,{scrollPositionRestoration:"enabled",useHash:!0})],pm]}),WI);n("6Joi");var YI,$I=((YI=KI=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(t){return{ngModule:KI,providers:[{provide:qw,useValue:!0},{provide:Hw,useValue:t}]}}}]),t}()).\u0275mod=ye({type:YI}),YI.\u0275inj=ft({factory:function(t){return new(t||YI)},providers:[$w]}),YI),ZI=n("wj3C"),JI=n.n(ZI),tT=n("S+S0"),eT=function(){function t(t,e){this.code_=nT(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return nT(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}();function nT(t){return"storage/"+t}function rT(){return new eT("unknown","An unknown error occurred, please check the error payload for server response.")}function iT(){return new eT("canceled","User canceled the upload/download.")}function oT(){return new eT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function aT(){return new eT("no-download-url","The given file does not have any download URLs.")}function sT(t,e,n){return new eT("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function uT(){return new eT("app-deleted","The Firebase app was deleted.")}function cT(t,e){return new eT("invalid-format","String does not match format '"+t+"': "+e)}function lT(t){throw new eT("internal-error","Internal error: "+t)}var hT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function fT(t){switch(t){case hT.RAW:case hT.BASE64:case hT.BASE64URL:case hT.DATA_URL:return;default:throw"Expected one of the event types: ["+hT.RAW+", "+hT.BASE64+", "+hT.BASE64URL+", "+hT.DATA_URL+"]."}}var dT=function(t,e){this.data=t,this.contentType=e||null};function pT(t,e){switch(t){case hT.RAW:return new dT(vT(e));case hT.BASE64:case hT.BASE64URL:return new dT(gT(t,e));case hT.DATA_URL:return new dT((n=new yT(e)).base64?gT(hT.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw cT(hT.DATA_URL,"Malformed data URL.")}return vT(e)}(n.rest),new yT(e).contentType)}var n;throw rT()}function vT(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function gT(t,e){switch(t){case hT.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw cT(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case hT.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw cT(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw cT(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var yT=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw cT(hT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},mT={STATE_CHANGED:"state_changed"},_T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bT(t){switch(t){case"running":case"pausing":case"canceling":return _T.RUNNING;case"paused":return _T.PAUSED;case"success":return _T.SUCCESS;case"canceled":return _T.CANCELED;case"error":default:return _T.ERROR}}function wT(t){return null!=t}function kT(t){return void 0!==t}function CT(t){return"function"==typeof t}function ET(t){return"object"==typeof t}function ST(t){return ET(t)&&null!==t}function IT(t){return"string"==typeof t||t instanceof String}function TT(t){return PT(t)&&Number.isInteger(t)}function PT(t){return"number"==typeof t||t instanceof Number}function AT(t){return xT()&&t instanceof Blob}function xT(){return"undefined"!=typeof Blob}var OT=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),NT=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=OT.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=OT.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=OT.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw lT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),wT(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return wT(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw lT("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw lT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw lT("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){wT(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){wT(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),DT=function(){function t(){}return t.prototype.createXhrIo=function(){return new NT},t}();function RT(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function MT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=RT();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(xT())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var LT=function(){function t(t,e){var n=0,r="";AT(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(AT(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(xT()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(MT.apply(null,r))}var i=e.map((function(t){return IT(t)?pT(hT.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),FT=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new eT("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new eT("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function UT(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return ET(n=e)&&!Array.isArray(n)?e:null}function jT(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function VT(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function qT(t){return"https://firebasestorage.googleapis.com/v0"+t}function HT(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function BT(t,e){return e}var zT=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||BT},GT=null;function WT(t,e,n){var r=UT(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new FT(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function KT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function QT(t){if(!ET(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!ET(n))throw"Expected object for 'customMetadata' mapping."}else if(ST(n))throw"Mapping for '"+e+"' cannot be an object."}}function XT(t){if(!ET(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!TT(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!IT(t.pageToken))throw"Expected pageToken to be string."}}var YT=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function $T(t){if(!t)throw rT()}function ZT(t,e){return function(n,r){var i=WT(t,r,e);return $T(null!==i),i}}function JT(t){return function(e,n){var r;return(r=401===e.getStatus()?new eT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new eT("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new eT("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function tP(t){var e=JT(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new eT("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function eP(t,e,n){var r=qT(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new YT(r,"GET",ZT(t,n),i);return o.errorHandler=tP(e),o}function nP(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=qT(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new YT(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=UT(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new FT(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t.makeStorageReference(new FT(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return $T(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=JT(e),u}function rP(t,e,n){var r=qT(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new YT(r,"GET",function(t,e){return function(n,r){var i=WT(t,r,e);return $T(null!==i),function(t,e){var n=UT(e);if(null===n)return null;if(!IT(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return qT("/b/"+i(t.bucket)+"/o/"+i(n))+HT({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=tP(e),o}function iP(t,e,n,r){var i=qT(e.fullServerUrl()),o=KT(n,r),a=t.maxOperationRetryTime(),s=new YT(i,"PATCH",ZT(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=tP(e),s}function oP(t,e){var n=qT(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new YT(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=tP(e),i}function aP(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var sP=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function uP(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){$T(!1)}return $T(!!n&&-1!==(e||["active"]).indexOf(n)),n}var cP=function(t,e,n){if(CT(t)||wT(e)||wT(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},lP=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function hP(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(a=r)===(s=i)?(u=a,c=1===a?"argument":"arguments"):(u="between "+a+" and "+s,c="arguments"),new eT("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");var a,s,u,c;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(l){throw l instanceof Error?sT(o,t,l.message):sT(o,t,l)}}var fP=function(t,e){var n=this;this.validator=function(e){n.optional&&!kT(e)||t(e)},this.optional=!!e};function dP(t,e){function n(t){if(!IT(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new fP(r,e)}function pP(){return new fP((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||xT()&&t instanceof Blob))throw"Expected Blob or File."}))}function vP(t){return new fP(QT,t)}function gP(t){return new fP(XT,t)}function yP(){return new fP((function(t){if(!(PT(t)&&t>=0))throw"Expected a number 0 or greater."}))}function mP(t,e){return new fP((function(e){if(!(null===e||wT(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function _P(t){return new fP((function(t){if(null!==t&&!CT(t))throw"Expected a Function."}),t)}function bP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var wP=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals("canceled")?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_("error"))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals("canceled")?a.completeTransitions_():(a.error_=t,a.transition_("error"))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=aP(e,r,i),s={name:a.fullPath},u=qT(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=KT(a,n),h=t.maxUploadRetryTime(),f=new YT(u,"POST",(function(t){var e;uP(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){$T(!1)}return $T(IT(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=JT(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new YT(n,"POST",(function(t){var e=uP(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){$T(!1)}n||$T(!1);var i=Number(n);return $T(!isNaN(i)),new sP(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=JT(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new sP(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new sP(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new eT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw oT();var p=e.maxUploadRetryTime(),v=new YT(n,"POST",(function(t,n){var i,a=uP(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?ZT(e,o)(t,n):null,new sP(s,c,"final"===a,i)}),p);return v.headers=f,v.body=d.uploadData(),v.progressCallback=s||null,v.errorHandler=JT(t),v}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_("error")}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=eP(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=aP(e,r,i),c=KT(u,n),l=LT.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw oT();var h={name:u.fullPath},f=qT(o),d=t.maxUploadRetryTime(),p=new YT(f,"POST",ZT(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=JT(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=iT(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=bT(this.state_);return new lP(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==mT.STATE_CHANGED)throw"Expected one of the event types: ["+mT.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=_P(!0).validator,s=mP(null,!0).validator;function u(t){try{return void a(t)}catch(e){}try{if(s(t),!(kT(t.next)||kT(t.error)||kT(t.complete)))throw"";return}catch(e){throw o}}var c=[dP(i),mP(u,!0),_P(!0),_P(!0)];hP("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&hP("on",t,arguments);var o=new cP(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var d=[mP(f),_P(!0),_P(!0)],p=!(kT(e)||kT(n)||kT(r));return p?h(d):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(bT(this.state_)){case _T.SUCCESS:bP(this.resolve_.bind(null,this.snapshot))();break;case _T.CANCELED:case _T.ERROR:bP(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(bT(this.state_)){case _T.RUNNING:case _T.PAUSED:t.next&&bP(t.next.bind(t,this.snapshot))();break;case _T.SUCCESS:t.complete&&bP(t.complete.bind(t))();break;case _T.CANCELED:case _T.ERROR:t.error&&bP(t.error.bind(t,this.error_))();break;default:t.error&&bP(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){hP("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){hP("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){hP("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),kP=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof FT?e:FT.makeFromUrl(e)}return t.prototype.toString=function(){return hP("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(GT)return GT;var t=[];t.push(new zT("bucket")),t.push(new zT("generation")),t.push(new zT("metageneration")),t.push(new zT("name","fullPath",!0));var e=new zT("name");e.xform=function(t,e){return function(t){return!IT(t)||t.length<2?t:VT(t)}(e)},t.push(e);var n=new zT("size");return n.xform=function(t,e){return wT(e)?Number(e):e},t.push(n),t.push(new zT("timeCreated")),t.push(new zT("updated")),t.push(new zT("md5Hash",null,!0)),t.push(new zT("cacheControl",null,!0)),t.push(new zT("contentDisposition",null,!0)),t.push(new zT("contentEncoding",null,!0)),t.push(new zT("contentLanguage",null,!0)),t.push(new zT("contentType",null,!0)),t.push(new zT("metadata","customMetadata",!0)),GT=t}()},t.prototype.child=function(t){hP("child",[dP()],arguments);var e=jT(this.location.path,t),n=new FT(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new FT(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new FT(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return VT(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),hP("put",[pP(),vP(!0)],arguments),this.throwIfRoot_("put"),new wP(this,this.authWrapper,this.location,this.mappings(),new LT(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=hT.RAW),hP("putString",[dP(),dP(fT,!0),vP(!0)],arguments),this.throwIfRoot_("putString");var r=pT(e,t),i=Object.assign({},n);return!wT(i.contentType)&&wT(r.contentType)&&(i.contentType=r.contentType),new wP(this,this.authWrapper,this.location,this.mappings(),new LT(r.data,!0),i)},t.prototype.delete=function(){var t=this;return hP("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=oP(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){hP("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(Jw.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Jw.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){hP("list",[gP(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=nP(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return hP("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=eP(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return hP("updateMetadata",[vP()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=iP(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return hP("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=rP(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw aT();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new eT("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),CP=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),EP=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),SP=function(){function t(e,n,r,i,o,a){var s;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var u=this.app_.options;wT(u)&&(this.bucket_=t.extractBucket_(u),this.appId_=null!==(s=u.appId)&&void 0!==s?s:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new EP}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:FT.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw uT();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new CP(uT());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),IP=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());kT(s)?i(s):i()}catch(u){o(u)}else null!==a?((r=rT()).setServerResponseProp(a.getResponseText()),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?uT():iT():new eT("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new TP(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new TP(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===OT.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new TP(a,n))}else{var s=n.getErrorCode()===OT.ABORT;e(!1,new TP(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Jw.__spreadArrays)([null,t],e));else{var r,o=u()||a;o?l.call.apply(l,Object(Jw.__spreadArrays)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),TP=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function PP(t,e,n,r){var i=HT(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==JI.a?JI.a.SDK_VERSION:"AppManager")}(a),new IP(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var AP,xP,OP=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new SP(t,e,(function(t,e){return new kP(t,e)}),PP,this,n),this.app_=t,null!=r)this.bucket_=FT.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new FT(i,""))}this.internals_=new NP(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(hP("ref",[dP(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new kP(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{FT.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return hP("refFromURL",[dP(e,!1)],arguments),new kP(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){hP("setMaxUploadRetryTime",[yP()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){hP("setMaxOperationRetryTime",[yP()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),NP=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();xP={TaskState:_T,TaskEvent:mT,StringFormat:hT,Storage:OP,Reference:kP},(AP=JI.a).INTERNAL.registerComponent(new tT.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new OP(n,r,new DT,e)}),"PUBLIC").setServiceProps(xP).setMultipleInstances(!0)),AP.registerVersion("@firebase/storage","0.3.37");var DP,RP=((DP=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:DP}),DP.\u0275inj=ft({factory:function(t){return new(t||DP)},providers:[Nw]}),DP);function MP(t,e){1&t&&(Aa(0,"a",26),ls(1,"Create post"),xa())}function LP(t,e){1&t&&(Aa(0,"a",26),ls(1,"Add Post"),xa())}function FP(t,e){1&t&&(Aa(0,"li",17),Aa(1,"a",27),ls(2,"Authenticate"),xa(),xa())}function UP(t,e){1&t&&(Aa(0,"li",17),Aa(1,"a",28),ls(2,"MyPosts"),xa(),xa())}function jP(t,e){1&t&&(Aa(0,"li",17),Aa(1,"a",29),ls(2,"CreateProfile"),xa(),xa())}var VP=function(t){return["/myprofile",t]};function qP(t,e){if(1&t&&(Aa(0,"li",17),Aa(1,"a",30),ls(2,"MyProfile"),xa(),xa()),2&t){var n=Va();yi(1),Ta("routerLink",Iu(1,VP,n.username))}}function HP(t,e){if(1&t){var n=Ra();Aa(0,"li"),Aa(1,"a",31),Fa("click",(function(){return $e(n),Va().onLogout()})),ls(2,"Logout"),xa(),xa()}}function BP(t,e){1&t&&(Aa(0,"div",32),Aa(1,"footer",33),Aa(2,"a",34),Cn(),Aa(3,"svg",35),Oa(4,"path",36),xa(),En(),Aa(5,"span"),ls(6,"Open Sourced on GitHub"),xa(),xa(),Aa(7,"a",37),Aa(8,"span"),Oa(9,"img",38),ls(10,"Read about this Project On MEDIUM"),xa(),xa(),Aa(11,"div",4),Aa(12,"ul",5),Aa(13,"li",6),Aa(14,"a",7),Oa(15,"i",8),xa(),xa(),Aa(16,"li",6),Aa(17,"a",9),Aa(18,"span"),Oa(19,"img",10),xa(),xa(),xa(),Aa(20,"li",6),Aa(21,"a",39),Oa(22,"i",12),xa(),xa(),Aa(23,"li",6),Aa(24,"a",13),Oa(25,"i",14),xa(),xa(),xa(),xa(),xa(),xa())}function zP(t,e){1&t&&(Aa(0,"h5",40),ls(1," \xa9 Copyrights reserved by Mehul Kothari"),xa())}var GP,WP=((GP=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.authService=e,this.acrud=n,this.router=r,this.isAuthenticated=!1,this.isprofileSet=!1,this.allpostcount=0,this.isloading=!1,this.title="write-your-heart-out",this.acrud.username.subscribe((function(t){i.username=t}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;if(this.isloading){window.onscroll=function(){window.pageYOffset>n?e.classList.add("sticky"):e.classList.remove("sticky")};var e=document.getElementById("myHeader"),n=e.offsetTop}this.isloading=!0,this.authService.autoLogin(),this.authService.isLoggedIn1(),this.userSub=this.authService.user.subscribe((function(e){t.isloading=!1,console.log(e),e&&(t.isemailverfied=e.emailVerified),t.isAuthenticated=!!e,console.log(!e),console.log(!!e),console.log(t.isAuthenticated),t.isAuthenticated&&t.acrud.getProfileFromUid(e.uid).subscribe((function(e){var n=t.acrud.seprate(e);t.ProfieData=n[0],t.ProfieData&&(t.isprofileSet=t.ProfieData.isProfileSet,t.username=t.ProfieData.uname)}))})),this.getAllPosts()}},{key:"getAllPosts",value:function(){var t=this;this.isloading=!0,this.acrud.getAllData().subscribe((function(e){var n=e[1],r=[];r=t.acrud.seprate(e[0]);var i=t.acrud.seprate(n),o=r.concat(i);t.allpostcount=o.length,t.isloading=!1}))}},{key:"onLogout",value:function(){this.authService.logout()}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||GP)(Ea(mC),Ea(_C),Ea(Wy))},GP.\u0275cmp=de({type:GP,selectors:[["app-root"]],decls:52,vars:9,consts:[[1,"navbar","navbar-default","main-header"],[1,"container","header-main"],[1,"navbar-header"],["routerLink","/",1,"navbar-brand"],[1,"footer-icons"],[1,"navbar-nav"],[1,"nav-item","inline-block"],["href","https://github.com/mehulk05","aria-label","Github",1,"nav-link","text-github"],[1,"fa","fa-github",2,"font-size","24px","color","black"],["href","https://medium.com/@mehulkothari05","aria-label","Medium",1,"nav-link"],["width","24","alt","","src","https://seeklogo.com/images/M/medium-logo-93CDCF6451-seeklogo.com.png",1,"img-circle","medium-icon"],["href","https://www.instagram.com/mehul_kothari05/","aria-label","Instagram",1,"nav-link"],[1,"fa","fa-instagram",2,"font-size","24px","color","black"],["href","https://www.linkedin.com/in/mehul-kothari-765868126/","aria-label","LinkedIn",1,"nav-link"],[1,"fa","fa-linkedin",2,"font-size","24px","color","black"],["id","myHeader",1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],["routerLinkActive","active"],["routerLink","/create-post",4,"ngIf"],["routerLinkActive","active",4,"ngIf"],[1,"nav","navbar-nav","navbar-right"],[4,"ngIf"],[1,"footer-icons","hidden-xs","hidden-sm"],[1,"container","middle"],["class","container",4,"ngIf"],["class","text-center copyright",4,"ngIf"],["routerLink","/create-post"],["routerLink","/auth"],["routerLink","/myposts"],["routerLink","/myprofile"],[3,"routerLink"],[2,"cursor","pointer",3,"click"],[1,"container"],[1,"fadeInUp","col-md-12"],["href","https://github.com/mehulk05/Blog-Book",1,"button","github"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"],["href","https://medium.com/@mehulkothari05/blogging-app-using-angular-9-and-firebase-98e36168d850",1,"button","btn-light","medium"],["width","20","alt","","src","https://seeklogo.com/images/M/medium-logo-93CDCF6451-seeklogo.com.png",1,"img-circle"],["href","https://www.instagram.com/mehul_kothari05/","aria-label","Insagram",1,"nav-link"],[1,"text-center","copyright"]],template:function(t,e){1&t&&(Aa(0,"nav",0),Aa(1,"div",1),Aa(2,"div",2),Aa(3,"a",3),ls(4,"Blog Book"),xa(),Aa(5,"div",4),Aa(6,"ul",5),Aa(7,"li",6),Aa(8,"a",7),Oa(9,"i",8),xa(),xa(),Aa(10,"li",6),Aa(11,"a",9),Aa(12,"span"),Oa(13,"img",10),xa(),xa(),xa(),Aa(14,"li",6),Aa(15,"a",11),Oa(16,"i",12),xa(),xa(),Aa(17,"li",6),Aa(18,"a",13),Oa(19,"i",14),xa(),xa(),xa(),xa(),xa(),Aa(20,"div",15),Aa(21,"ul",16),Oa(22,"li",17),Oa(23,"li",17),Aa(24,"li",17),ka(25,MP,2,0,"a",18),ka(26,LP,2,0,"a",18),xa(),ka(27,FP,3,0,"li",19),ka(28,UP,3,0,"li",19),ka(29,jP,3,0,"li",19),ka(30,qP,3,3,"li",19),xa(),Aa(31,"ul",20),ka(32,HP,3,0,"li",21),xa(),xa(),xa(),xa(),Aa(33,"div",22),Aa(34,"ul",5),Aa(35,"li",6),Aa(36,"a",7),Oa(37,"i",8),xa(),xa(),Aa(38,"li",6),Aa(39,"a",9),Aa(40,"span"),Oa(41,"img",10),xa(),xa(),xa(),Aa(42,"li",6),Aa(43,"a",11),Oa(44,"i",12),xa(),xa(),Aa(45,"li",6),Aa(46,"a",13),Oa(47,"i",14),xa(),xa(),xa(),xa(),Aa(48,"div",23),Oa(49,"router-outlet"),xa(),ka(50,BP,26,0,"div",24),ka(51,zP,2,0,"h5",25)),2&t&&(yi(25),Ta("ngIf",0==e.allpostcount),yi(1),Ta("ngIf",e.allpostcount>0),yi(1),Ta("ngIf",!e.isAuthenticated),yi(1),Ta("ngIf",e.isAuthenticated&&e.isemailverfied),yi(1),Ta("ngIf",e.isAuthenticated&&!e.isprofileSet),yi(1),Ta("ngIf",e.isAuthenticated&&e.isprofileSet&&e.isemailverfied),yi(2),Ta("ngIf",e.isAuthenticated),yi(18),Ta("ngIf",!e.isloading),yi(1),Ta("ngIf",!e.isloading))},directives:[Qy,tm,ah,rm],styles:[".navbar-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:22px}footer[_ngcontent-%COMP%]{margin:5rem auto;text-align:center}.github[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{justify-content:center}.github[_ngcontent-%COMP%]{width:30%;background:#000!important;color:#fff!important;transition:all .2s ease-in-out;font-weight:600}.button[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:10px;border:0;text-transform:uppercase;background:rgba(0,123,255,.0627451);color:rgba(0,123,255,.6);cursor:pointer;border-radius:5px;transition:background .2s ease-in-out;margin:15px auto .5rem;outline:none;font-size:13px;text-decoration:none}.button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem;width:20px;stroke-width:2px}.button[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}a.button.btn-light.medium[_ngcontent-%COMP%]{background:rgba(87,100,112,.083);width:30%;color:#000!important;justify-content:center;font-weight:600;padding:13px}a.button.btn-light.medium[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.github[_ngcontent-%COMP%]:hover{background:#343a40!important}.github[_ngcontent-%COMP%]:hover, a.button.btn-light.medium[_ngcontent-%COMP%]:hover{transform:translateY(-3px);transition:all .2s ease-in-out}a.button.btn-light.medium[_ngcontent-%COMP%]:hover{background:rgba(108,117,125,.5)!important}.footer-icons[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{line-height:1.4;padding-left:0;margin:30px auto 2px;float:none}.footer-icons[_ngcontent-%COMP%]   li.nav-item.inline-block[_ngcontent-%COMP%]{display:inline;text-align:center;list-style-type:none;padding:20px;float:none}.copyright[_ngcontent-%COMP%]{box-shadow:0 10px 35px rgba(0,0,0,.3);background:#e2e2e2;padding-top:25px;padding-bottom:25px;margin-bottom:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}img.medium-icon[_ngcontent-%COMP%]{width:24px;margin-top:-9px}@media (max-width:551px){.collapse.navbar-collapse.sticky[_ngcontent-%COMP%]{position:fixed;top:0;z-index:99999;width:100%;display:block;background:#f8f8f8;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.button[_ngcontent-%COMP%], .github[_ngcontent-%COMP%], a.button.btn-light.medium[_ngcontent-%COMP%]{width:100%;font-size:12px}footer.fadeInUp.col-md-12[_ngcontent-%COMP%]{padding:0}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]{width:auto;text-align:right}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:right;margin:15px 0 0}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:21px!important}.header-main[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-top:-2px}.sticky-header[_ngcontent-%COMP%]{top:0}}@media screen and (min-width:992px){.footer-icons.hidden-xs.hidden-sm[_ngcontent-%COMP%]{position:fixed;left:0;background:#fff;z-index:55;border-radius:4px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);top:25%;width:auto;text-align:left}.footer-icons.hidden-xs.hidden-sm[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.footer-icons.hidden-xs.hidden-sm[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:30px}.navbar-header[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#f8f8f8;border-color:#e7e7e7;width:100%;z-index:55;padding-left:55px;padding-right:55px;box-shadow:0 0 0 rgba(0,0,0,.28),0 2px 6px rgba(0,0,0,.23)}.footer-icons[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8;transform:translateY(-3px);transition:all .2s ease-in-out}}.middle[_ngcontent-%COMP%]{min-height:450px}"]}),GP);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Oa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function p(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t,e,n){this.code=I+t,this.message=e||T[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new C(e.substring(I.length),t.message,t.serverResponse):null}k(C,Error),C.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.v()};var S,I="auth/",T={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function D(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}S=A("__EID__")?"__EID__":void 0,k(O,Error),O.prototype.name="CustomError",k(N,O),N.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new R((function(){return new j}),(function(t){t.reset()}));function U(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=V(t,e)}function W(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,$=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,J=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){Y=ut;break t}}Y=""}function ct(t){return ot(Y,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===_t&&e||"",this.b=mt}function yt(t){return t instanceof gt&&t.constructor===gt&&t.b===mt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ra=!0,gt.prototype.qa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var mt={},_t={},bt=new gt(_t,"");function wt(t,e){this.a=t===Tt&&e||"",this.b=It}function kt(t){return t instanceof wt&&t.constructor===wt&&t.b===It?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=yt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Et,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?yt(t):encodeURIComponent(String(t))})),new wt(Tt,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={},Tt={};function Pt(t,e){this.a=t===Dt&&e||"",this.b=Nt}function At(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Nt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){return t instanceof Pt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Pt(Dt,t))}var Nt={},Dt={};function Rt(){this.a="",this.b=Lt}function Mt(t){return t instanceof Rt&&t.constructor===Rt&&t.b===Lt?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Rt.prototype.ra=!0,Rt.prototype.qa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Ft(t){var e=new Rt;return e.a=t,e}Ft("<!DOCTYPE html>");var Ut=Ft("");function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}Ft("<br>"),qt[" "]=c;var Ht,Bt,zt=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),Kt=Wt||Gt,Qt=ct("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Xt=ot(Y.toLowerCase(),"webkit")&&!ct("Edge");function Yt(){var t=a.document;return t?t.documentMode:void 0}t:{var $t="",Zt=(Bt=Y,Qt?/rv:([^\);]+)(\)|;)/.exec(Bt):Wt?/Edge\/([\d\.]+)/.exec(Bt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Xt?/WebKit\/(\S+)/.exec(Bt):zt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Zt&&($t=Zt?Zt[1]:""),Gt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat($t)){Ht=String(Jt);break t}}Ht=$t}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=$(String(Ht)).split("."),r=$(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}te=a.document&&Gt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bt){}var re=!Gt||9<=Number(te);function ie(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ue.hasOwnProperty(n)?t.setAttribute(ue[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,se,ue={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||d(o)&&0<o.nodeType?r(o):q(he(o)?X(o):o,r)}}function le(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function fe(t){a.setTimeout((function(){throw t}),0)}function de(t,e){se||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);se=function(){t.then(ge)}}else se=function(){var t=ge;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=le(document,"IFRAME");t.style.display="none",function(t){var e=new wt(Tt,yt(bt));vt(t,"HTMLIFrameElement"),t.src=kt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Mt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ae(t)):a.setImmediate(t)}}(),pe||(se(),pe=!0),ve.add(t,e)}var pe=!1,ve=new L;function ge(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){fe(e)}M(F,t)}pe=!1}function ye(t,e){if(this.a=me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){xe(n,_e,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}xe(n,be,t)}))}catch(r){xe(this,be,r)}}var me=0,_e=2,be=3;function we(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}we.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new R((function(){return new we}),(function(t){t.reset()}));function Ce(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Ee(t){if(t instanceof ye)return t;var e=new ye(c);return xe(e,_e,t),e}function Se(t){return new ye((function(e,n){n(t)}))}function Ie(t,e,n){Oe(t,e,n,null)||de(b(e,t))}function Te(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ie(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Pe(t,e){t.b||t.a!=_e&&t.a!=be||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,e,n,r){var i=Ce(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Pe(t,i),i.a}function xe(t,e,n){t.a==me&&(t===n&&(e=be,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=be||n instanceof Fe||function(t,e){t.g=!0,de((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof ye)return Pe(t,Ce(e||c,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ne(t){t.h||(t.h=!0,de(t.ec,t))}function De(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Re(t,e,n,r){if(n==be&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(i){Le.call(null,i)}M(ke,e)}function Me(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ae(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).ma=function(t,e){return(t=Ce(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){if(this.a==me){var e=new Fe(t);de((function(){!function t(e,n){if(e.a==me)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==me&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Re(r,o,be,n)))}e.c=null}else xe(e,be,n)}(this,e)}),this)}},t.Yc=function(t){this.a=me,xe(this,_e,t)},t.Zc=function(t){this.a=me,xe(this,be,t)},t.ec=function(){for(var t;t=De(this);)Re(this,t,this.a,this.i);this.h=!1};var Le=fe;function Fe(t){O.call(this,t)}function Ue(){0!=je&&(Ve[p(this)]=this),this.wa=this.wa,this.na=this.na}k(Fe,O),Fe.prototype.name="cancel";var je=0,Ve={};function qe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=je)){var e=p(t);if(0!=je&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ve[e]}}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var He=Object.freeze||function(t){return t},Be=!Gt||9<=Number(te),ze=Gt&&!ne("9"),Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Ke,We);var Qe=He({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ke.prototype.f=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function $e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Ye,this.ua=this.Na=!1}function Ze(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Je(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Je.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=en(t,e,r,i);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new $e(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?mn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=pn(t);if(s||(t[nn]=s=new Je(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=dn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?_n(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=gn(n),t&&t[Xe]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=en(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Xe])tn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Ze(t)}}}function ln(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&cn(t),n.call(r,e)}function dn(t,e){if(t.ua)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ke(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return fn(t,new Ke(e,this))}function pn(t){return(t=t[nn])instanceof Je?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return f(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function yn(){Ue.call(this),this.u=new Je(this),this.Yb=this,this.eb=null}function mn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function bn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,u=a.Ta||a.src;a.Na&&tn(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function wn(t,e,n){if(f(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function kn(t){var e=null;return new ye((function(n,r){-1==(e=wn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Cn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function En(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(yn,Ue),yn.prototype[Xe]=!0,yn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;pt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=bn(a,r,!0,t)&&i}if(i=bn(a=t.b=n,r,!0,t)&&i,i=bn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=bn(a=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Ba=function(){if(yn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Sn.prototype).V=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function An(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof An?(this.h=void 0!==e?e:t.h,xn(this,t.f),this.i=t.i,this.b=t.b,On(this,t.l),this.c=t.c,Nn(this,$n(t.a)),this.g=t.g):t&&(n=String(t).match(Pn))?(this.h=!!e,xn(this,n[1]||"",!0),this.i=Fn(n[2]||""),this.b=Fn(n[3]||"",!0),On(this,n[4]),this.c=Fn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.g=Fn(n[7]||"")):(this.h=!!e,this.a=new Gn(null,this.h))}function xn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function On(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Nn(t,e,n){e instanceof Gn?(t.a=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),Yn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Un(e,Bn)),t.a=new Gn(e,t.h))}function Dn(t,e,n){t.a.set(e,n)}function Rn(t,e){return t.a.get(e)}function Mn(t){return t instanceof An?new An(t):new An(t,void 0)}function Ln(t,e){var n=new An(null,void 0);return xn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}An.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,Vn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Un(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Hn:qn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Un(n,zn)),t.join("")},An.prototype.resolve=function(t){var e=new An(this),n=!!t.f;n?xn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)On(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Nn(e,$n(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Vn=/[#\/\?@]/g,qn=/[#\?:]/g,Hn=/[#\?]/g,Bn=/[#\?@]/g,zn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=En(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Yn(n,i,o):n.add(i,o)}return n}function Qn(t,e){Wn(t),e=Zn(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Xn(t,e){return Wn(t),e=Zn(t,e),Tn(t.a.b,e)}function Yn(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),X(n)),t.b+=n.length)}function $n(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Jn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),rr(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":rr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new tr,t,e),e.join("")}function tr(){}(t=Gn.prototype).add=function(t,e){Wn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Wn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=Q(e,this.a.get(Zn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Xn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var er={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},nr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rr(t,e){e.push('"',t.replace(nr,(function(t){var e=er[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),er[t]=e),e})),'"')}function ir(){var t=kr();return Gt&&!!te&&11==te||/Edge\/\d+/.test(t)}function or(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||a.window;var n="about:blank";t&&(n=At(Ot(t))),e.location.href=n}function sr(t){return!!((t=(t||kr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ur(t){t=t||a.window;try{t.close()}catch(e){}}function cr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(kr())==mr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:Ot(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=le(document,"A"),"HTMLAnchorElement"),e instanceof Pt||e instanceof Pt||(e="object"==typeof e&&e.ra?e.qa():String(e),xt.test(e)||(e="about:invalid#zClosurez"),e=new Pt(Dt,e)),a.href=At(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=At(e),a&&(Kt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),r=a.document)&&(r.write(Mt(t)),r.close())):(a=r.open(At(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hr=/^[^@]+@[^@]+$/;function fr(){var t=null;return new ye((function(e){"complete"==a.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function dr(t){return t=t||kr(),!("file:"!==Tr()&&"ionic:"!==Tr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function pr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function gr(){return JI.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":JI.a.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function yr(){var t=gr();return"ReactNative"===t||"Node"===t}var mr="Firefox";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?mr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var br={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function wr(t,e){e=e||[];var n,r=[],i={};for(n in br)i[br[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=gr())?r=_r(i=kr()):"Worker"===r&&(r=_r(i=kr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function kr(){return a.navigator&&a.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Er(){try{var t=a.localStorage,e=Nr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ir()||!!a.indexedDB}catch(n){return vr()&&!!a.indexedDB}return!1}function Sr(){return(Ir()||"chrome-extension:"===Tr()||dr())&&!yr()&&Er()&&!vr()}function Ir(){return"http:"===Tr()||"https:"===Tr()}function Tr(){return a.location&&a.location.protocol||null}function Pr(t){return!sr(t=t||kr())&&_r(t)!=mr}function Ar(t){return void 0===t?null:Jn(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Or(t){if(null!==t)return JSON.parse(t)}function Nr(t){return t||Math.floor(1e9*Math.random()).toString()}function Dr(t){return"Safari"!=_r(t=t||kr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Rr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Mr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=kr(),e=gr(),this.b=sr(t)||"ReactNative"===e}function Lr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Cr("fireauth.oauthhelper",a)&&!Cr("fireauth.iframe",a))}Mr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ir()&&"chrome-extension:"!==Tr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Vr={};function qr(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Hr.abcd}catch(Bt){jr=!1}function Br(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Br(t,n,e[n])}function Gr(t){var e={};return zr(e,t),e}function Wr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Br(e,n,Wr(t[n]));return e}function Kr(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[$r]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Br(this,"uid",t[$r]),Br(this,"displayName",t[Xr]||null);var n=null;t[Yr]&&(n=new Date(t[Yr]).toUTCString()),Br(this,"enrollmentTime",n),Br(this,"factorId",e)}function Qr(t){try{var e=new Jr(t)}catch(n){e=null}return e}Kr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Yr="enrolledAt",$r="mfaEnrollmentId",Zr="phoneInfo";function Jr(t){Kr.call(this,t),Br(this,"phoneNumber",t[Zr])}function ti(t){var e={},n=t[ii],r=t[ai],i=t[si];if(t=Qr(t[oi]),!i||i!=ni&&i!=ri&&!n||i==ri&&!r||i==ei&&!t)throw Error("Invalid checkActionCode response!");i==ri?(e[ci]=n||null,e[hi]=n||null,e[ui]=r):(e[ci]=r||null,e[hi]=r||null,e[ui]=n||null),e[li]=t||null,Br(this,di,i),Br(this,fi,Wr(e))}k(Jr,Kr),Jr.prototype.v=function(){var t=Jr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ei="REVERT_SECOND_FACTOR_ADDITION",ni="EMAIL_SIGNIN",ri="VERIFY_AND_CHANGE_EMAIL",ii="email",oi="mfaInfo",ai="newEmail",si="requestType",ui="email",ci="fromEmail",li="multiFactorInfo",hi="previousEmail",fi="data",di="operation";function pi(t){var e=Rn(t=Mn(t),vi)||null,n=Rn(t,gi)||null,r=Rn(t,_i)||null;if(r=r&&wi[r]||null,!e||!n||!r)throw new C("argument-error",vi+", "+gi+"and "+_i+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,yi)||null,languageCode:Rn(t,mi)||null,tenantId:Rn(t,bi)||null})}var vi="apiKey",gi="oobCode",yi="continueUrl",mi="languageCode",_i="mode",bi="tenantId",wi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ei,signIn:ni,verifyAndChangeEmail:ri,verifyEmail:"VERIFY_EMAIL"};function ki(t){try{return new pi(t)}catch(e){return null}}function Ci(t){var e=t[Pi];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ei];if(n&&"object"==typeof n){e=n[Oi];var r=n[Ai];if(n=n[xi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Ai+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",xi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",Oi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Ei+" property must be a non null object when specified.");if(this.f=null,(e=t[Ti])&&"object"==typeof e){if("string"==typeof(e=e[Ni])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",Ni+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Ti+" property must be a non null object when specified.");if(void 0!==(e=t[Ii])&&"boolean"!=typeof e)throw new C("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Si])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",Si+" property must be a non empty string when specified.");this.i=t||null}var Ei="android",Si="dynamicLinkDomain",Ii="handleCodeInApp",Ti="iOS",Pi="url",Ai="installApp",xi="minimumVersion",Oi="packageName",Ni="bundleId";function Di(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ri=null;function Mi(t){var e=Fi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,w(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Li(t){try{return new Mi(t)}catch(e){return null}}function Fi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ri[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ri){Ri={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ri[o]&&(Ri[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ji=["client_id","response_type","scope","redirect_uri","state"],Vi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:ji},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:ji},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:ji},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Ui},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function qi(t){for(var e in Vi)if(Vi[e].ea==t)return Vi[e];return null}function Hi(t){var e={};e["facebook.com"]=Ki,e["google.com"]=Xi,e["github.com"]=Qi,e["twitter.com"]=Yi;var n=t&&t[zi];try{if(n)return e[n]?new e[n](t):new Wi(t);if(void 0!==t[Bi])return new Gi(t)}catch(r){}return null}var Bi="idToken",zi="providerId";function Gi(t){var e=t[zi];if(!e&&t[Bi]){var n=Li(t[Bi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Br(this,"providerId",e),Br(this,"isNewUser",n)}function Wi(t){Gi.call(this,t),Br(this,"profile",Wr((t=Or(t.rawUserInfo||"{}"))||{}))}function Ki(t){if(Wi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if(Wi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Xi(t){if(Wi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Wi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",t.screenName||null)}function $i(t){var e=Mn(t),n=Rn(e,"link"),r=Rn(Mn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Mn(e),"link")||e||r||n||t}function Zi(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Ji:to}k(Wi,Gi),k(Ki,Wi),k(Qi,Wi),k(Xi,Wi),k(Yi,Wi);var Ji="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[Ha]){var n=Li(t[Ha]);if(!n||e!=n.h)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new C("user-mismatch"):t}))}function ro(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Br(this,"providerId",t),Br(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(e){}return null}function ao(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Br(this,"idToken",e.idToken),e.accessToken&&Br(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Br(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Br(this,"accessToken",e.oauthToken),Br(this,"secret",e.oauthTokenSecret)}Br(this,"providerId",t),Br(this,"signInMethod",n)}function so(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function uo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ao(t.providerId,e,t.signInMethod)}catch(n){}}return null}function co(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(qi(t)||{}).Ha||null,this.kb=null}function lo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,t,[])}function ho(t){co.call(this,t,ji),this.a=[]}function fo(){ho.call(this,"facebook.com")}function po(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new fo).credential({accessToken:e})}function vo(){ho.call(this,"github.com")}function go(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function yo(){ho.call(this,"google.com"),this.Aa("profile")}function mo(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function _o(){co.call(this,"twitter.com",Ui)}function bo(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ao("twitter.com",n,"twitter.com")}function wo(t,e,n){this.a=t,this.f=e,Br(this,"providerId","password"),Br(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new wo(t.email,t.password,t.signInMethod):null}function Co(){zr(this,{providerId:"password",isOAuthProvider:!1})}function Eo(t,e){if(!(e=So(e)))throw new C("argument-error","Invalid email link!");return new wo(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){return(t=ki(t=$i(t)))&&t.operation===ni?t:null}function Io(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new C("internal-error");this.a=t,Br(this,"providerId","phone"),this.ea="phone",Br(this,"signInMethod","phone")}function To(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function Po(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ao(t){try{this.a=t||JI.a.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function xo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Io({bb:t,ab:e})}function Oo(t){if(t.temporaryProof&&t.phoneNumber)return new Io({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return mo(o,n);case"facebook.com":return po(n);case"github.com":return go(n);case"twitter.com":return bo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ro(e,a):new ao(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function No(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Do(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Ro(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}Zi.prototype.Fa=function(){return Ee(this.a?this.a:this.b)},Zi.prototype.v=function(){return this.type==Ji?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},ro.prototype.ia=function(t){return ss(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,us(t,n)},ro.prototype.c=function(t,e){return no(cs(t,io(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ao.prototype.ia=function(t){return ss(t,so(this))},ao.prototype.b=function(t,e){var n=so(this);return n.idToken=e,us(t,n)},ao.prototype.c=function(t,e){return no(cs(t,so(this)),e)},ao.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},co.prototype.Ia=function(t){return this.Fb=ft(t),this},k(lo,co),k(ho,co),ho.prototype.Aa=function(t){return G(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return X(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new ao(this.providerId,n,this.providerId)},k(fo,ho),Br(fo,"PROVIDER_ID","facebook.com"),Br(fo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(vo,ho),Br(vo,"PROVIDER_ID","github.com"),Br(vo,"GITHUB_SIGN_IN_METHOD","github.com"),k(yo,ho),Br(yo,"PROVIDER_ID","google.com"),Br(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),k(_o,co),Br(_o,"PROVIDER_ID","twitter.com"),Br(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),wo.prototype.ia=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?zs(t,ys,{email:this.a,oobCode:this.f}):zs(t,js,{email:this.a,password:this.f})},wo.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?zs(t,ms,{idToken:e,email:this.a,oobCode:this.f}):zs(t,Os,{idToken:e,email:this.a,password:this.f})},wo.prototype.c=function(t,e){return no(this.ia(t),e)},wo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Co,{PROVIDER_ID:"password"}),zr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ia=function(t){return t.cb(Po(this))},Io.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,zs(t,qs,n)},Io.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",no(t=zs(t,Hs,n),e)},Io.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ao.prototype.cb=function(t,e){var n=this.a.b;return Ee(e.verify()).then((function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==Ji?i.Fa().then((function(t){return function(t,e){return zs(t,Ds,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==to?i.Fa().then((function(e){return function(t,e){return zs(t,Rs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return zs(t,As,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Ao,{PROVIDER_ID:"phone"}),zr(Ao,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Lo,Fo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.b,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function jo(t,e,n){C.call(this,t,n),(t=e||{}).Gb&&Br(this,"email",t.Gb),t.da&&Br(this,"phoneNumber",t.da),t.credential&&Br(this,"credential",t.credential),t.Wb&&Br(this,"tenantId",t.Wb)}function Vo(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Oo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new jo(e,n,t.message)}return null}function qo(){}function Ho(){}function Bo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function zo(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.oc,this),this.a.onerror=_(this.Pb,this),this.a.onprogress=_(this.pc,this),this.a.ontimeout=_(this.tc,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ko(t,e,n){this.reset(t,e,n,void 0,void 0)}function Qo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}k(Uo,C),k(jo,C),jo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},jo.prototype.toJSON=function(){return this.v()},qo.prototype.c=null,k(Ho,qo),Ho.prototype.a=function(){var t=Bo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ho.prototype.b=function(){var t={};return Bo(this)&&(t[0]=!0,t[1]=!0),t},Lo=new Ho,k(zo,qo),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(t=Go.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},Xo.prototype.toString=function(){return this.name};var Yo=new Xo("SEVERE",1e3),$o=new Xo("WARNING",900),Zo=new Xo("CONFIG",700),Jo=new Xo("FINE",500);Qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Ko(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ta={},ea=null;function na(t){var e;if(ea||(ea=new Qo(""),ta[""]=ea,ea.c=Zo),!(e=ta[t])){e=new Qo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=na(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ta[t]=e}return e}function ra(t,e){t&&t.log(Jo,e,void 0)}function ia(t){this.f=t}function oa(t){yn.call(this),this.s=t,this.readyState=aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=na("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(ia,qo),ia.prototype.a=function(){return new oa(this.f)},ia.prototype.b=function(t){return function(){return t}}({}),k(oa,yn);var aa=0;function sa(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ua(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ca(t)}function ca(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function la(t){yn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ha,this.w=this.R=!1}(t=oa.prototype).open=function(t,e){if(this.readyState!=aa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ca(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ua(this,!1)),this.readyState=aa},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ca(this)),this.a&&(this.readyState=3,ca(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,sa(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ua(this,!0):ca(this),3==this.readyState&&sa(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,ua(this,!0))},t.qc=function(t){this.a&&(this.response=t,ua(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log($o,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ua(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log($o,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log($o,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},k(la,yn);var ha="";la.prototype.b=na("goog.net.XhrIo");var fa=/^https?$/i,da=["POST","PUT"];function pa(t){return"content-type"==t.toLowerCase()}function va(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ga(t),ma(t)}function ga(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ya(t){if(t.c&&void 0!==o)if(t.B[1]&&4==ba(t)&&2==wa(t))ra(t.b,ka(t,"Local request error detected and ignored"));else if(t.i&&4==ba(t))wn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==ba(t)){ra(t.b,ka(t,"Request complete")),t.c=!1;try{var e,n=wa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Pn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!fa.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ba(t)?t.a.statusText:""}catch(l){ra(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+wa(t)+"]",ga(t)}}finally{ma(t)}}}function ma(t,e){if(t.a){_a(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Yo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function _a(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ba(t){return t.a?t.a.readyState:0}function wa(t){try{return 2<ba(t)?t.a.status:-1}catch(e){return-1}}function ka(t,e){return e+" ["+t.P+" "+t.l+" "+wa(t)+"]"}function Ca(t){var e=Ra;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ea(t,e,n){t.a=!0,t.c=n,t.f=!e,Pa(t)}function Sa(t){if(t.a){if(!t.u)throw new Aa(t);t.u=!1}}function Ia(t,e,n,r){t.g.push([e,n,r]),t.a&&Pa(t)}function Ta(t){return z(t.g,(function(t){return f(t[1])}))}function Pa(t){if(t.h&&t.a&&Ta(t)){var e=t.h,n=Na[e];n&&(a.clearTimeout(n.a),delete Na[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ta(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Ca?(Ia(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Oa(e),Na[e.a]=e,t.h=e.a)}function Aa(){O.call(this)}function xa(){O.call(this)}function Oa(t){this.a=a.setTimeout(_(this.c,this),0),this.b=t}(t=la.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ra(this.b,ka(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ra(this.b,ka(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ma(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ma(this,!0)),la.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ya(this):this.Hc())},t.Hc=function(){ya(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ha:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ra(this.b,"Can not get response: "+e.message),null}},Ca.prototype.cancel=function(t){if(this.a)this.c instanceof Ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new xa(this),Sa(this),Ea(this,!1,t))}},Ca.prototype.m=function(t,e){this.i=!1,Ea(this,t,e)},Ca.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Ia(this,r,(function(t){t instanceof xa?o.cancel():i(t)})),o.then(t,e,n)},Ca.prototype.$goog_Thenable=!0,k(Aa,O),Aa.prototype.message="Deferred has already fired",Aa.prototype.name="AlreadyCalledError",k(xa,O),xa.prototype.message="Deferred was canceled",xa.prototype.name="CanceledError",Oa.prototype.c=function(){throw delete Na[this.a],this.b};var Na={};function Da(t){var e={},n=e.document||document,r=kt(t).toString(),i=le(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Ca(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Ma(i,!0);var t=new Ua(Fa,"Timeout reached for loading script "+r);Sa(c),Ea(c,!1,t)}),h),o.Ka=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ma(i,e.ud||!1,l),Sa(c),Ea(c,!0,null))},i.onerror=function(){Ma(i,!0,l);var t=new Ua(La,"Error while loading script "+r);Sa(c),Ea(c,!1,t)},pt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=kt(e),null===u&&(u=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Ra(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ma(t,!0,this.Ka)}}function Ma(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var La=0,Fa=1;function Ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function ja(t){this.f=t}function Va(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ba,this.g=ft(t.secureTokenHeaders||za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Ga,this.a=ft(t.firebaseHeaders||Wa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==gr(),!(n=a.XMLHttpRequest||n&&JI.a.INTERNAL.node&&JI.a.INTERNAL.node.XMLHttpRequest)&&!vr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new ia(self):yr()?new ja(n):new zo,this.b=null}k(Ua,O),k(ja,qo),ja.prototype.a=function(){return new this.f},ja.prototype.b=function(){return{}};var qa,Ha="idToken",Ba=new Mr(3e4,6e4),za={"Content-Type":"application/x-www-form-urlencoded"},Ga=new Mr(3e4,6e4),Wa={"Content-Type":"application/json"};function Ka(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Xa(t,e,n,r,i,o,s){(function(){var t=kr();return!((t="Chrome"!=_r(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&te&&!(9<te))})()||vr()?t=_(t.w,t):(qa||(qa=new ye((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[$a]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ia(t,null,e,void 0)}(Da(Ct(Ya,{onload:$a})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,s)}Va.prototype.S=function(){return this.b},Va.prototype.w=function(t,e,n,r,i,o){if(vr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new la(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}mn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ra(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),_n(s,"ready",(function(){u&&clearTimeout(u),qe(this)})),_n(s,"timeout",(function(){u&&clearTimeout(u),qe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Lo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Lo),t.a.onreadystatechange=_(t.Sb,t);try{ra(t.b,ka(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ra(t.b,ka(t,"Error opening Xhr: "+s.message)),void va(t,s)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)q(t,e,void 0);else for(var n=En(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=pa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!G(da,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_a(t),0<t.g&&(t.w=function(t){return Gt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ra(t.b,ka(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ka,t)):t.s=wn(t.Ka,t.g,t)),ra(t.b,ka(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ra(t.b,ka(t,"Send error: "+s.message)),va(t,s)}}(s,t,n,r,i)};var Ya=new gt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),$a="__fcb"+Math.floor(1e6*Math.random()).toString();function Za(t){if("string"!=typeof(t=t.email)||!hr.test(t))throw new C("invalid-email")}function Ja(t){"email"in t&&Za(t)}function ts(t){if(!t[Ha]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,ft(t));throw new C("internal-error")}}function es(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}Va.prototype.s=function(t,e,n,r,i){var o=this;qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Va.prototype.vb=function(){return zs(this,Ns,{})},Va.prototype.xb=function(t,e){return zs(this,xs,{idToken:t,email:e})},Va.prototype.yb=function(t,e){return zs(this,Os,{idToken:t,password:e})};var ns={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function rs(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function is(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function os(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function as(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Vo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Vo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Vo(t)):t.errorMessage&&(e=Gs(t.errorMessage)),e)throw e;ts(t)}function ss(t,e){return e.returnIdpCredential=!0,zs(t,Ms,e)}function us(t,e){return e.returnIdpCredential=!0,zs(t,Fs,e)}function cs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,zs(t,Ls,e)}function ls(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=Va.prototype).zb=function(t,e){var n={idToken:t},r=[];return lt(ns,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),zs(this,xs,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),zs(this,Ss,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),zs(this,ks,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),zs(this,Cs,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),zs(this,Es,t)},t.cb=function(t){return zs(this,Vs,t)},t.jb=function(t,e){return zs(this,Ps,{oobCode:t,newPassword:e})},t.Pa=function(t){return zs(this,fs,{oobCode:t})},t.fb=function(t){return zs(this,hs,{oobCode:t})};var hs={endpoint:"setAccountInfo",A:ls,Y:"email",C:!0},fs={endpoint:"resetPassword",A:ls,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},C:!0},ds={endpoint:"signupNewUser",A:function(t){if(Za(t),!t.password)throw new C("weak-password")},G:ts,U:!0,C:!0},ps={endpoint:"createAuthUri",C:!0},vs={endpoint:"deleteAccount",M:["idToken"]},gs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new C("internal-error")}},ys={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Za,G:ts,U:!0,C:!0},ms={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Za,G:ts,U:!0},_s={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:rs,G:ts,C:!0,La:!0},bs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:rs,G:ts,C:!0,La:!0},ws={endpoint:"getAccountInfo"},ks={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");Za(t)},Y:"email",C:!0},Cs={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Y:"email",C:!0},Es={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Y:"email",C:!0},Ss={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");Za(t)},Y:"email",C:!0},Is={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ts={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Ps={endpoint:"resetPassword",A:ls,Y:"email",C:!0},As={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},xs={endpoint:"setAccountInfo",M:["idToken"],A:Ja,U:!0},Os={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Ja(t),!t.password)throw new C("weak-password")},G:ts,U:!0},Ns={endpoint:"signupNewUser",G:ts,U:!0,C:!0},Ds={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},Rs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},Ms={endpoint:"verifyAssertion",A:is,Wa:os,G:as,U:!0,C:!0},Ls={endpoint:"verifyAssertion",A:is,Wa:os,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw Gs(t.errorMessage);ts(t)},U:!0,C:!0},Fs={endpoint:"verifyAssertion",A:function(t){if(is(t),!t.idToken)throw new C("internal-error")},Wa:os,G:as,U:!0},Us={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:ts,U:!0,C:!0},js={endpoint:"verifyPassword",A:function(t){if(Za(t),!t.password)throw new C("wrong-password")},G:ts,U:!0,C:!0},Vs={endpoint:"verifyPhoneNumber",A:es,G:ts,C:!0},qs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");es(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Vo(t);ts(t)}},Hs={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:es,G:ts,C:!0},Bs={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ha]^!!t.refreshToken)throw new C("internal-error")},C:!0,La:!0};function zs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Se(new C("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ee(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Mn(e+n);Dn(s,"key",t.c),a&&Dn(s,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Dn(s,c,i[c]);return new ye((function(e,n){Xa(t,s.toString(),(function(t){t?t.error?n(Ws(t,o||{})):e(t):n(new C("network-request-failed"))}),r,u?void 0:Jn(xr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new C("internal-error");return r[e.Y]}))}function Gs(t){return Ws({error:{errors:[{message:t}],code:400,message:t}})}function Ws(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Ar(t)),new C("internal-error",e)}function Ks(t){this.b=t,this.a=null,this.nb=function(t){return($s||($s=new ye((function(t,e){function n(){Rr(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Rr(),e(Error("Network Error"))},timeout:Xs.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},Ee(Da(r=Ct(Qs,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw $s=null,t})))).then((function(){return new ye((function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ys.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Qs=new gt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),Xs=new Mr(3e4,6e4),Ys=new Mr(5e3,15e3),$s=null;function Zs(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ln(this.i,"/__/auth/iframe"),Dn(this.a,"apiKey",this.g),Dn(this.a,"appName",this.h),this.b=null,this.c=[]}function Js(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function tu(t){try{return JI.a.app(t).auth().Ea()}catch(e){return[]}}function eu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function nu(t){var e=or();return function(t){return zs(t,Is,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Mn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:lr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Uo(or())}))}function ru(t){return t.l||(t.l=fr().then((function(){if(!t.s){var e=t.c,n=t.h,r=tu(t.b),i=new Zs(t.u,t.f,t.b);i.f=e,i.b=n,i.c=X(r||[]),t.s=i.toString()}t.i=new Ks(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ro(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ee(n)}return n.status="ERROR",Ee(n)}))}(t)}))),t.l}function iu(t){return t.m||(t.w=t.c?wr(t.c,tu(t.b)):null,t.m=new Va(t.f,A(t.h),t.w)),t.m}function ou(t,e,n,r,i,o,a,s,u,c,l){return(t=new Js(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.ub(l).toString()}function au(t){if(this.a=t||JI.a.INTERNAL.reactNative&&JI.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function su(t){this.b=t,this.a={},this.f=_(this.c,this)}Zs.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Qn(this.a.a,"v"),this.b?Dn(this.a,"eid",this.b):Qn(this.a.a,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Qn(this.a.a,"fw"),this.a.toString()},Js.prototype.ub=function(t){return this.h=t,this},Js.prototype.toString=function(){var t=Ln(this.s,"/__/auth/handler");if(Dn(t,"apiKey",this.m),Dn(t,"appName",this.c),Dn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=JI.a.app(this.c).auth().ja()}catch(s){n=null}for(var r in e.kb=n,Dn(t,"providerId",this.a.providerId),n=xr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=ft(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ht(n)||Dn(t,"customParameters",Ar(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Dn(t,"scopes",e.join(",")),this.l?Dn(t,"redirectUrl",this.l):Qn(t.a,"redirectUrl"),this.g?Dn(t,"eventId",this.g):Qn(t.a,"eventId"),this.i?Dn(t,"v",this.i):Qn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Rn(t,a)&&Dn(t,a,this.b[a]);return this.h?Dn(t,"tid",this.h):Qn(t.a,"tid"),this.f?Dn(t,"eid",this.f):Qn(t.a,"eid"),(a=tu(this.c)).length&&Dn(t,"fw",a.join(",")),t.toString()},(t=eu.prototype).Lb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return ru(t).then((function(){return function(t,e){return t.nb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ur(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new ye((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=kr();return!Pr(t)&&!Dr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,a,s){if(!t)return Se(new C("popup-blocked"));if(a&&!Pr())return this.ka().o((function(e){ur(t),i(e)})),r(),Ee();this.a||(this.a=nu(iu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw ur(t),i(e),e}));return r(),e})).then((function(){No(n),a||ar(ou(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=nu(iu(this)));var i=this;return this.a.then((function(){No(e),ar(ou(i.u,i.f,i.b,t,e,or(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return ru(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new C("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=au.prototype).get=function(t){return Ee(this.a.getItem(t)).then((function(t){return t&&Or(t)}))},t.set=function(t,e){return Ee(this.a.setItem(t,Ar(e)))},t.T=function(t){return Ee(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var uu,cu=[];function lu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function hu(t){this.a=t}function fu(t){this.c=t,this.b=!1,this.a=[]}function du(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Se(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return pu(t,c),e})).o((function(e){throw pu(t,c),e}))}function pu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),K(t.a,(function(t){return t==e}))}}function vu(){if(!yu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;vr()&&self?(this.l=function(){var t=vr()?self:null;if(q(cu,(function(n){n.b==t&&(e=n)})),!e){var e=new su(t);cu.push(e)}return e}(),lu(this.l,"keyChanged",(function(e,n){return ku(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),lu(this.l,"ping",(function(){return Ee(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ee().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ee(null)}().then((function(e){(t.h=e)&&(t.g=new fu(new hu(e)),du(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function gu(t){return t.m||(t.m=function t(e){return new ye((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ye((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function yu(){try{return!!a.indexedDB}catch(Bt){return!1}}function mu(t){return t.objectStore("firebaseLocalStorage")}function _u(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function bu(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function wu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?du(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ee()}function ku(t){return gu(t).then((function(t){var e=mu(_u(t,!1));return e.getAll?bu(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Cu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Eu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ee().then((function(){if(yu()){var t=Nr(),r="__sak"+t;return uu||(uu=new vu),(n=uu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Su(){this.a={},this.type="inMemory"}function Iu(){if(!function(){var t="Node"==gr();if(!(t=Tu()||t&&JI.a.INTERNAL.node&&JI.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Tu()||JI.a.INTERNAL.node.localStorage,this.type="localStorage"}function Tu(){try{var t=a.localStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Pu(){this.type="nullStorage"}function Au(){if(!function(){var t="Node"==gr();if(!(t=xu()||t&&JI.a.INTERNAL.node&&JI.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=xu()||JI.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xu(){try{var t=a.sessionStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ou(){var t={};t.Browser=Ru,t.Node=Mu,t.ReactNative=Lu,t.Worker=Fu,this.a=t[gr()]}su.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Ee().then((function(){return e(t.origin,t.data.data)})))})),Te(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},hu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},fu.prototype.close=function(){for(;0<this.a.length;)pu(this,this.a[0]);this.b=!0},(t=vu.prototype).set=function(t,e){var n,r=!1,i=this;return gu(this).then((function(e){return bu((e=mu(_u(n=e,!0))).get(t))})).then((function(o){var a=mu(_u(n,!0));return o?(o.value=e,bu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,bu(a.add(o)))})).then((function(){return i.c[t]=e,wu(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return gu(this).then((function(e){return bu(mu(_u(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return gu(this).then((function(r){return e=!0,n.b++,bu(mu(_u(r,!0)).delete(t))})).then((function(){return delete n.c[t],wu(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Cu(t),function e(){t.f=setTimeout((function(){t.i=ku(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&Cu(this)},(t=Eu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=Su.prototype).get=function(t){return Ee(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ee()},t.T=function(t){return delete this.a[t],Ee()},t.ba=function(){},t.ha=function(){},(t=Iu.prototype).get=function(t){var e=this;return Ee().then((function(){return Or(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ee().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ee().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&on(a.window,"storage",t)},t.ha=function(t){a.window&&un(a.window,"storage",t)},(t=Pu.prototype).get=function(){return Ee(null)},t.set=function(){return Ee()},t.T=function(){return Ee()},t.ba=function(){},t.ha=function(){},(t=Au.prototype).get=function(t){var e=this;return Ee().then((function(){return Or(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ee().then((function(){var r=Ar(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ee().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Nu,Du,Ru={F:Iu,$a:Au},Mu={F:Iu,$a:Au},Lu={F:au,$a:Pu},Fu={F:Iu,$a:Pu},Uu={od:"local",NONE:"none",qd:"session"};function ju(){var t=!(Dr(kr())||!pr()),e=Pr(),n=Er();this.m=t,this.h=e,this.l=n,this.a={},Nu||(Nu=new Ou),t=Nu;try{this.g=!ir()&&Ur()||!a.indexedDB?new t.a.F:new Eu(vr()?new Su:new t.a.F)}catch(r){this.g=new Su,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Su}this.u=new Su,this.f=_(this.Vb,this),this.b={}}function Vu(){return Du||(Du=new ju),Du}function qu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Hu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Bu(t,e,n){return n=Hu(e,n),"local"==e.F&&(t.b[n]=null),qu(t,e.F).T(n)}function zu(t){t.c&&(clearInterval(t.c),t.c=null)}function Gu(t){this.a=t,this.b=Vu()}(t=ju.prototype).get=function(t,e){return qu(this,t.F).get(Hu(t,e))},t.set=function(t,e,n){var r=Hu(t,n),i=this,o=qu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Hu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ht(this.a)&&(qu(this,"local").ba(this.f),this.h||(ir()||!Ur())&&a.indexedDB||!this.l||function(t){zu(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Hu(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(qu(this,"local").ha(this.f),zu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?qu(this,"local").ha(this.f):zu(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},Gt&&te&&10==te&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,_(this.ib,this))},t.ib=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var Wu,Ku={name:"authEvent",F:"local"};function Qu(){this.a=Vu()}function Xu(t,e){this.b=Yu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Wu&&(Wu=a.Int32Array?new Int32Array(rc):rc),this.reset()}k(Xu,(function(){this.b=-1}));for(var Yu=64,$u=Yu-1,Zu=[],Ju=0;Ju<$u;Ju++)Zu[Ju]=0;var tc=Q(128,Zu);function ec(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Wu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function nc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ec(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ec(t),i=0)}}t.c=i,t.g+=n}Xu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var rc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ic(){Xu.call(this,8,oc)}k(ic,Xu);var oc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ac(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Qu,this.g=new Gu(this.h),this.f=null,this.b=[],this.a=this.c=null}function sc(t){return new C("invalid-cordova-configuration",t)}function uc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function cc(t){return t.f||(t.f=t.ka().then((function(){return new ye((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),lc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=$i(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Or(Rn(o=Mn(i),"firebaseError")||null))?E(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}uc(t,i)}))}var n=new Do("unknown",null,null,null,new C("no-auth-event")),r=!1,i=kn(500).then((function(){return lc(t).then((function(){r||uc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Fo||(Fo=new Mo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Cr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function lc(t){var e=null;return function(t){return t.b.get(Ku,t.a).then((function(t){return Ro(t)}))}(t.g).then((function(n){return e=n,Bu((n=t.g).b,Ku,n.a)})).then((function(){return e}))}function hc(t){this.a=t,this.b=Vu()}(t=ac.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(dr(void 0)?fr().then((function(){return new ye((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Cr("universalLinks.subscribe",a))throw sc("cordova-universal-links-plugin-fix is not installed");if(void 0===Cr("BuildInfo.packageName",a))throw sc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Cr("cordova.plugins.browsertab.openUrl",a))throw sc("cordova-plugin-browsertab is not installed");if("function"!=typeof Cr("cordova.InAppBrowser.open",a))throw sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},t.Lb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Ee()},t.Jb=function(){return Se(new C("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Se(new C("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ee().then((function(){return No(e),cc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Do(e,r,null,o,new C("no-auth-event"),null,i),u=Cr("BuildInfo.packageName",a);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",a),l={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!kr().toLowerCase().match(/android/))return Se(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new ic;nc(e,t),t=[];var n=8*e.g;nc(e,tc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ec(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=ou(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Ku,s.v(),e)})).then((function(){var e=Cr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Cr("cordova.plugins.browsertab.openUrl",a)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Cr("cordova.InAppBrowser.open",a)))throw new C("invalid-cordova-configuration");e=kr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=Cr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),l=function(){Lr()&&c()},o.addEventListener("resume",c=function(){s||(s=kn(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return lc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),cc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new C("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var fc={name:"pendingRedirect",F:"session"};function dc(t){return Bu(t.b,fc,t.a)}function pc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Pc,this.B=new Dc,this.g=new hc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=vc(this.D,this.u,this.m,S)}function vc(t,e,n,r){var i=JI.a.SDK_VERSION||null;return dr()?new ac(t,e,n,i,r):new eu(t,e,n,i,r)}function gc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function yc(t){t.a.Ub()&&gc(t).o((function(e){var n=new Do("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)})),t.a.Qb()||Ac(t.b)}function mc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(fc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?dc(t.g).then((function(){gc(t).o((function(e){var n=new Do("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)}))})):yc(t)})).o((function(){yc(t)}))}function _c(t,e){K(t.h,(function(t){return t==e}))}pc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=vc(this.D,this.u,this.m),this.i={}},pc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Ac(this.b),e};var bc=new Mr(2e3,1e4),wc=new Mr(3e4,6e4);function kc(t,e,n,r,i,o,a){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,a)}function Cc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ec(t,e,n,r,i){var o;return function(t){return t.b.set(fc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Cc(e))throw new C("operation-not-supported-in-this-environment");return o=e,dc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ye((function(){})):dc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Sc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),bc.get())}pc.prototype.pa=function(){return this.b.pa()};var Ic={};function Tc(t,e,n){var r=e+":"+n;return Ic[r]||(Ic[r]=new pc(t,e,n)),Ic[r]}function Pc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ac(t){t.g||(t.g=!0,Nc(t,!1,null,null))}function xc(t){t.g&&!t.i&&Nc(t,!1,null,null)}function Oc(t,e){if(t.b=function(){return Ee(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Nc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Oc(t,n):Oc(t,{user:null}),t.f=[],t.c=[]}function Dc(){}function Rc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Mc(t,e){this.a=e,Br(this,"verificationId",t)}function Lc(t,e,n,r){return new Ao(t).cb(e,n).then((function(t){return new Mc(t,r)}))}function Fc(t){var e=Fi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Uc(t,e,n){var r=e&&e[Vc];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new Zi(null,r),this.b=[];var i=this;q(e[jc]||[],(function(t){(t=Qr(t))&&i.b.push(t)})),Br(this,"auth",this.a),Br(this,"session",this.c),Br(this,"hints",this.b)}Pc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Pc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Nc(this,!0,null,t.a),Ee()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Nc(t,s,e,null)})).o((function(e){Nc(t,s,null,e)}))}(this,t,e):Se(new C("invalid-auth-event")):(Nc(this,!1,null,null),Ee())}else Se(new C("invalid-auth-event"))},Pc.prototype.pa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=kn(wc.get()).then((function(){t.b||(t.g=!0,Nc(t,!0,null,e))}))}(t))}))},Dc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ee()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Se(new C("invalid-auth-event"))}else Se(new C("invalid-auth-event"))},Mc.prototype.confirm=function(t){return t=xo(this.verificationId,t),this.a(t)};var jc="mfaInfo",Vc="mfaPendingCredential";function qc(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new Uc(t,e,n),Br(this,"resolver",this.b)}function Hc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new qc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Bc(){}function zc(t){Br(this,"factorId",t.ea),this.a=t}function Gc(t){if(zc.call(this,t),this.a.ea!=Ao.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Wc(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function Kc(t,e){this.a=t,this.b=[],this.c=_(this.wc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[$r]=t.uid),t.displayName&&(r[Xr]=t.displayName),t.enrollmentTime&&(r[Yr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new Jr(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Qc(this,n)}function Qc(t,e){t.b=e,Br(t,"enrolledFactors",e)}function Xc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Yc(t){this.c=t,this.b=this.a=null}function $c(t){return t.b&&1e3*t.b.c||0}function Zc(t,e){var n=e.refreshToken;t.b=Li(e[Ha]||""),t.a=n}function Jc(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function tl(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function el(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=JI.a.SDK_VERSION?wr(JI.a.SDK_VERSION):null,this.a=new Va(this.l,A(S),t),this.b=new Yc(this.a),ul(this,e[Ha]),Zc(this.b,e),Br(this,"refreshToken",this.b.a),hl(this,n||{}),yn.call(this),this.P=!1,this.s&&Sr()&&(this.i=Tc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Xc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=$c(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=_(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){rl(r,t.c)},this.$=null,this.O=new Kc(this,n),Br(this,"multiFactor",this.O)}function nl(t,e){t.aa&&un(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&on(e,"languageCodeChanged",t.za)}function rl(t,e){t.W=e,Qa(t.a,JI.a.SDK_VERSION?wr(JI.a.SDK_VERSION,t.W):null)}function il(t,e){t.$&&un(t.$,"frameworkChanged",t.ya),(t.$=e)&&on(e,"frameworkChanged",t.ya)}function ol(t){try{return JI.a.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function al(t){t.D||t.B.b||(t.B.start(),un(t,"tokenChanged",t.Z),on(t,"tokenChanged",t.Z))}function sl(t){un(t,"tokenChanged",t.Z),t.B.stop()}function ul(t,e){t.xa=e,Br(t,"_lat",e)}function cl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Te(e).then((function(){return t}))}function ll(t){t.i&&!t.P&&(t.P=!0,mc(t.i,t))}function hl(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Jc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function fl(){}function dl(t){return Ee().then((function(){if(t.D)throw new C("app-deleted")}))}function pl(t){return B(t.providerData,(function(t){return t.providerId}))}function vl(t,e){e&&(gl(t,e.providerId),t.providerData.push(e))}function gl(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function yl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Br(t,e,n)}function ml(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Br(t,"metadata",e.metadata?function(t){return new Jc(t.a,t.b)}(e.metadata):new Jc),q(e.providerData,(function(e){vl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Br(t,"refreshToken",t.b.a),Qc(t.O,e.O.b))}function _l(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return zs(t.a,ws,{idToken:e}).then(_(t.Ic,t))}(t,e).then((function(){return n||yl(t,"isAnonymous",!1),e}))}))}function bl(t,e){e[Ha]&&t.xa!=e[Ha]&&(Zc(t.b,e),t.dispatchEvent(new Wc("tokenChanged")),ul(t,e[Ha]),yl(t,"refreshToken",t.b.a))}function wl(t,e){return _l(t).then((function(){if(G(pl(t),e))return cl(t).then((function(){throw new C("provider-already-linked")}))}))}function kl(t,e,n){return Gr({user:t,credential:Oo(e),additionalUserInfo:e=Hi(e),operationType:n})}function Cl(t,e){return bl(t,e),t.reload().then((function(){return t}))}function El(t,e,n,r,i){if(!Sr())return Se(new C("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=qi(n.providerId),a=Nr(t.uid+":::"),s=null;(!Pr()||pr())&&t.s&&n.isOAuthProvider&&(s=ou(t.s,t.l,t.m,e,n,null,a,JI.a.SDK_VERSION||null,null,null,t.tenantId));var u=cr(s,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Il(t),!i)return t.I().then((function(){}))})).then((function(){return kc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new ye((function(n,r){t.la(e,null,new C("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Sc(t.i,t,e,u,a)}))})).then((function(t){return u&&ur(u),t?Gr(t):null})).o((function(t){throw u&&ur(u),t})),Tl(t,r,i)}function Sl(t,e,n,r,i){if(!Sr())return Se(new C("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=null,a=Nr(t.uid+":::");return r=r().then((function(){if(Il(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=a,cl(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(xl,t.v(),e.a)),e})).then((function(){return Ec(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ga)return Ol(t.ga);throw o})).then((function(){if(o)throw o})),Tl(t,r,i)}function Il(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Tl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Se(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Wc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Hc(e.v(),ol(t),_(t.hc,t))),n||e}))}function Pl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ha]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new el(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&vl(r,Gr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Al(t){this.a=t,this.b=Vu()}Uc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ft(e.f);return delete n[jc],delete n[Vc],pt(n,t),e.g(n)}))},k(qc,C),Bc.prototype.ob=function(t,e,n){return e.type==Ji?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Po(t.a)}),zs(e,_s,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),zs(e,bs,n)}))}(this,t,e)},k(zc,Bc),k(Gc,zc),k(Wc,We),(t=Kc.prototype).wc=function(t){Qc(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Qr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Zi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return bl(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return zs(r,Bs,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return Qc(e,r),bl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.v()}))}}},Xc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Lr()||!t?Ee():new ye((function(n){e=function(){Lr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Xc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Yc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:$c(this)}},Yc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new C("user-token-expired")):t||!this.b||w()>$c(this)-3e4?this.a?function(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Xa(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ws(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))}))}(t.c,e).then((function(e){return t.b=Li(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})},Jc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(el,yn),el.prototype.va=function(t){this.oa=t,Ka(this.a,t)},el.prototype.ja=function(){return this.oa},el.prototype.Ea=function(){return X(this.W)},el.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Br(el.prototype,"providerId","firebase"),(t=el.prototype).reload=function(){var t=this;return Tl(this,dl(this).then((function(){return _l(t).then((function(){return cl(t)})).then(fl)})))},t.mc=function(t){return this.I(t).then((function(t){return new Fc(t)}))},t.I=function(t){var e=this;return Tl(this,dl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.xa&&(ul(e,t.accessToken),e.dispatchEvent(new Wc("tokenChanged"))),yl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");hl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new tl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)vl(this,e[n]);yl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Wc("userReloaded",{ed:t}))},t.Jc=function(t){return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Tl(this,t.c(this.a,this.uid).then((function(t){return bl(e,t),n=kl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Tl(this,wl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=kl(e,t,"link"),Cl(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Tl(this,wl(this,"phone").then((function(){return Lc(ol(n),t,e,_(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Tl(this,Ee().then((function(){return Lc(ol(n),t,e,_(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Tl(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return bl(e,t),e.reload()})))},t.cd=function(t){var e=this;return Tl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return bl(e,t),e.reload()})))},t.yb=function(t){var e=this;return Tl(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return bl(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return dl(this);var e=this;return Tl(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return bl(e,t),yl(e,"displayName",t.displayName||null),yl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Br(t,"displayName",e.displayName),Br(t,"photoURL",e.photoURL))})),cl(e)})).then(fl))},t.ad=function(t){var e=this;return Tl(this,_l(this).then((function(n){return G(pl(e),t)?function(t,e,n){return zs(t,gs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(pl(e),(function(t){n[t]||gl(e,t)})),n[Ao.PROVIDER_ID]||Br(e,"phoneNumber",null),cl(e)})):cl(e).then((function(){throw new C("no-such-provider")}))})))},t.delete=function(){var t=this;return Tl(this,this.I().then((function(e){return zs(t.a,vs,{idToken:e})})).then((function(){t.dispatchEvent(new Wc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");nl(t,null),il(t,null),t.N=[],t.D=!0,sl(t),Br(t,"refreshToken",null),t.i&&_c(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?_(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?_(this.Ib,this):null},t.Cc=function(t){var e=this;return El(this,"linkViaPopup",t,(function(){return wl(e,t.providerId).then((function(){return cl(e)}))}),!1)},t.Lc=function(t){return El(this,"reauthViaPopup",t,(function(){return Ee()}),!0)},t.Dc=function(t){var e=this;return Sl(this,"linkViaRedirect",t,(function(){return wl(e,t.providerId)}),!1)},t.Mc=function(t){return Sl(this,"reauthViaRedirect",t,(function(){return Ee()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,this.I().then((function(n){return us(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=kl(i,t,"link"),Cl(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,Ee().then((function(){return no(cs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=kl(i,t,"reauthenticate"),bl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Tl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Di(new Ci(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Tl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Di(new Ci(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Tl(this,t=no(Ee(t),n.uid).then((function(t){return e=kl(n,t,"reauthenticate"),bl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var xl={name:"redirectUser",F:"session"};function Ol(t){return Bu(t.b,xl,t.a)}function Nl(t){this.a=t,this.b=Vu(),this.c=null,this.f=function(t){var e=Ml("local"),n=Ml("session"),r=Ml("none");return function(t,e,n){var r=Hu(e,n),i=qu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Or(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Rl,t.a).then((function(t){return t?Ml(t):e}))}))}))})).then((function(e){return t.c=e,Dl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Ml("local"),this.a,_(this.g,this))}function Dl(t,e){var n,r=[];for(n in Uu)Uu[n]!==e&&r.push(Bu(t.b,Ml(Uu[n]),t.a));return r.push(Bu(t.b,Rl,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ie(t[s],b(o,s),a);else e(i)}))}(r)}Nl.prototype.g=function(){var t=this,e=Ml("local");jl(this,(function(){return Ee().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Dl(t,"local").then((function(){t.c=e}))}))}))};var Rl={name:"persistence",F:"session"};function Ml(t){return{name:"authUser",F:t}}function Ll(t,e){return jl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Fl(t){return jl(t,(function(){return Bu(t.b,t.c,t.a)}))}function Ul(t,e){return jl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Pl(t||{})}))}))}function jl(t,e){return t.f=t.f.then(e,e),t.f}function Vl(t){if(this.l=!1,Br(this,"settings",new Rc),Br(this,"app",t),!Kl(this).options||!Kl(this).options.apiKey)throw new C("invalid-api-key");t=JI.a.SDK_VERSION?wr(JI.a.SDK_VERSION):null,this.b=new Va(Kl(this).options&&Kl(this).options.apiKey,A(S),t),this.P=[],this.m=[],this.O=[],this.$b=JI.a.INTERNAL.createSubscribe(_(this.xc,this)),this.W=void 0,this.ac=JI.a.INTERNAL.createSubscribe(_(this.yc,this)),Gl(this,null),this.i=new Nl(Kl(this).options.apiKey+":"+Kl(this).name),this.B=new Al(Kl(this).options.apiKey+":"+Kl(this).name),this.Z=$l(this,function(t){var e=Kl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(xl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Pl(t||{})}))}(t.B,Kl(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Ol(t.B)}));return $l(t,e)}(t).then((function(){return Ul(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Ll(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Fl(t.i)}))):null})).then((function(e){Gl(t,e||null)}));return $l(t,n)}(this)),this.h=$l(this,function(t){return t.Z.then((function(){return zl(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Ml("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=_(this.Xc,this),this.Ma=_(this.ca,this),this.xa=_(this.jc,this),this.ya=_(this.uc,this),this.za=_(this.vc,this),this.a=null,function(t){var e=Kl(t).options.authDomain,n=Kl(t).options.apiKey;e&&Sr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Tc(e,n,Kl(t).name),mc(t.a,t),Ql(t)&&ll(Ql(t)),t.D){ll(t.D);var r=t.D;r.va(t.ja()),nl(r,t),rl(r=t.D,t.N),il(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Ec,this),this.s=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function ql(t){We.call(this,"languageCodeChanged"),this.g=t}function Hl(t){We.call(this,"frameworkChanged"),this.c=t}function Bl(t){return t.Zb||Se(new C("auth-domain-config-required"))}function zl(t){if(!Sr())return Se(new C("operation-not-supported-in-this-environment"));var e=Bl(t).then((function(){return t.a.pa()})).then((function(t){return t?Gr(t):null}));return $l(t,e)}function Gl(t,e){Ql(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(Ql(t),t.Ma),un(Ql(t),"tokenChanged",t.xa),un(Ql(t),"userDeleted",t.ya),un(Ql(t),"userInvalidated",t.za),sl(Ql(t))),e&&(e.R.push(t.Ma),on(e,"tokenChanged",t.xa),on(e,"userDeleted",t.ya),on(e,"userInvalidated",t.za),0<t.s&&al(e)),Br(t,"currentUser",e),e&&(e.va(t.ja()),nl(e,t),rl(e,t.N),il(e,t))}function Wl(t,e){var n=null,r=null;return $l(t,e.then((function(e){return n=Oo(e),r=Hi(e),function(t,e){var n={};return n.apiKey=Kl(t).options.apiKey,n.authDomain=Kl(t).options.authDomain,n.appName=Kl(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new el(t,e);return n&&(i.ga=n),r&&rl(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return Ql(t)&&e.uid==Ql(t).uid?(ml(Ql(t),e),t.ca(e)):(Gl(t,e),ll(e),t.ca(e))})).then((function(){Yl(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Hc(e.v(),t,_(t.ic,t))),n||e})).then((function(){return Gr({user:Ql(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Kl(t){return t.app}function Ql(t){return t.currentUser}function Xl(t){return Ql(t)&&Ql(t)._lat||null}function Yl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Xl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Xl(t))}}function $l(t,e){return t.P.push(e),e.ma((function(){W(t.P,e)})),e}function Zl(){}function Jl(){this.a={},this.b=1e12}Nl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Uu)if(Uu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(gr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!yu()&&"none"!==t)throw n;break;default:if(!Er()&&"none"!==t)throw n}}(t),jl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Dl(n,t)})).then((function(){if(n.c=Ml(t),e)return n.b.set(n.c,e,n.a)})):Ee()}))},k(Vl,yn),k(ql,We),k(Hl,We),(t=Vl.prototype).tb=function(t){return $l(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ka(this.b,this.$),this.dispatchEvent(new ql(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Qa(this.b,JI.a.SDK_VERSION?wr(JI.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Hl(this.N))},t.Ea=function(){return X(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Kl(this).options.apiKey,authDomain:Kl(this).options.authDomain,appName:Kl(this).name,currentUser:Ql(this)&&Ql(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Wl(i,ss(i.b,o))}))},t.Vc=function(t){if(!Sr())return Se(new C("operation-not-supported-in-this-environment"));var e=this,n=qi(t.providerId),r=Nr(),i=null;(!Pr()||pr())&&Kl(this).options.authDomain&&t.isOAuthProvider&&(i=ou(Kl(this).options.authDomain,Kl(this).options.apiKey,Kl(this).name,"signInViaPopup",t,null,r,JI.a.SDK_VERSION||null,null,null,this.S()));var o=cr(i,n&&n.ta,n&&n.sa);return $l(this,n=Bl(this).then((function(n){return kc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ye((function(t,n){e.la("signInViaPopup",null,new C("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Sc(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ur(o),t?Gr(t):null})).o((function(t){throw o&&ur(o),t})))},t.Wc=function(t){if(!Sr())return Se(new C("operation-not-supported-in-this-environment"));var e=this;return $l(this,Bl(this).then((function(){return function(t){return jl(t,(function(){return t.b.set(Rl,t.c.F,t.a)}))}(e.i)})).then((function(){return Ec(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return zl(this).then((function(e){return t.a&&xc(t.a.b),e})).o((function(e){throw t.a&&xc(t.a.b),e}))},t.bd=function(t){if(!t)return Se(new C("null-user"));if(this.R!=t.tenantId)return Se(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=Kl(this).options.apiKey,n.authDomain=Kl(this).options.authDomain,n.appName=Kl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ha]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new el(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&rl(e,r),ml(e,t),e}(t,n,e.B,e.Ea());return $l(this,this.h.then((function(){if(Kl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Ql(e)&&t.uid==Ql(e).uid?(ml(Ql(e),t),e.ca(t)):(Gl(e,r),ll(r),e.ca(r))})).then((function(){Yl(e)})))},t.wb=function(){var t=this;return $l(this,this.h.then((function(){return t.a&&xc(t.a.b),Ql(t)?(Gl(t,null),Fl(t.i).then((function(){Yl(t)}))):Ee()})))},t.Xc=function(){var t=this;return Ul(this.i,Kl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Ql(t)&&e){n=Ql(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return ml(Ql(t),e),Ql(t).I();(Ql(t)||e)&&(Gl(t,e),e&&(ll(e),e.ga=t.B),t.a&&mc(t.a,t),Yl(t))}}))},t.ca=function(t){return Ll(this.i,t)},t.jc=function(){Yl(this),this.ca(Ql(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Wl(e,Ee(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Ql(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),$l(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Xl(t)))})))}(this,(function(){t.next(Ql(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){f(t)?t(Ql(r)):f(t.next)&&t.next(Ql(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),f(t)?t(Ql(r)):f(t.next)&&t.next(Ql(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return $l(this,this.h.then((function(){return Ql(e)?Ql(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Wl(e,zs(e.b,Us,{token:t}))})).then((function(t){var n=t.user;return yl(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Wl(n,zs(n.b,js,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Wl(n,zs(n.b,ds,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Wl(e,t.ia(e.b))}))},t.Qc=function(t){return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Ql(t);if(e&&e.isAnonymous){var n=Gr({providerId:null,isNewUser:!1});return Gr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Wl(t,t.b.vb()).then((function(e){var n=e.user;return yl(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Ql(this)&&Ql(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Ql(this)&&al(Ql(this))},t.Nc=function(t){var e=this;q(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Ql(this)&&sl(Ql(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),$l(this,this.h.then((function(){e.l||G(e.m,t)&&t(Xl(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ml("local"),t.a,this.oa),this.a&&(_c(this.a,this),xc(this.a.b)),Promise.resolve()},t.fc=function(t){return $l(this,function(t,e){return zs(t,ps,{identifier:e,continueUri:Ir()?or():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!So(t)},t.sb=function(t,e){var n=this;return $l(this,Ee().then((function(){var t=new Ci(e);if(!t.c)throw new C("argument-error",Ii+" must be true when sending sign in link to email");return Di(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return $l(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return $l(this,this.b.Pa(t).then((function(t){return new ti(t)})))},t.fb=function(t){return $l(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return $l(this,Ee().then((function(){return void 0===e||ht(e)?{}:Di(new Ci(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return $l(this,Lc(this,t,e,_(this.Ya,this)))},t.Tc=function(t,e){var n=this;return $l(this,Ee().then((function(){var r=e||or(),i=Eo(t,r);if(!(r=So(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new C("tenant-id-mismatch");return n.Ya(i)})))},Zl.prototype.render=function(){},Zl.prototype.reset=function(){},Zl.prototype.getResponse=function(){},Zl.prototype.execute=function(){};var th=null;function eh(t,e){return(e=nh(e))&&t.a[e]||null}function nh(t){return(t=void 0===t?1e12:t)?t.toString():null}function rh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ie(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function ih(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function oh(){}function ah(){}Jl.prototype.render=function(t,e){return this.a[this.b.toString()]=new rh(t,e),this.b++},Jl.prototype.reset=function(t){var e=eh(this,t);t=nh(t),e&&t&&(e.delete(),delete this.a[t])},Jl.prototype.getResponse=function(t){return(t=eh(this,t))?t.getResponse():null},Jl.prototype.execute=function(t){(t=eh(this,t))&&t.execute()},rh.prototype.getResponse=function(){return ih(this),this.b},rh.prototype.execute=function(){ih(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},rh.prototype.delete=function(){ih(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},Br(oh,"FACTOR_ID","phone"),ah.prototype.g=function(){return th||(th=new Jl),Ee(th)},ah.prototype.c=function(){};var sh=null;function uh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ch=new gt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),lh=new Mr(3e4,6e4);uh.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),lh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete a[e.a]},Ee(Da(Ct(ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},uh.prototype.c=function(){this.b--};var hh=null;function fh(t,e,n,r,i,o,s){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(sh||(sh=new ah),s=sh):(hh||(hh=new uh),s=hh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[vh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[gh],!a.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ie(e)||!this.i&&ie(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Va(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[dh];this.a[dh]=function(t){if(yh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Cr(c,a);"function"==typeof e&&e(t)}};var l=this.a[ph];this.a[ph]=function(){if(yh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Cr(l,a);"function"==typeof t&&t()}}}var dh="callback",ph="expired-callback",vh="sitekey",gh="size";function yh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function mh(t,e){return t.h.push(e),e.ma((function(){W(t.h,e)})),e}function _h(t){if(t.D)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function bh(t,e,n){var r=!1;try{this.b=n||JI.a.app()}catch(a){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=JI.a.SDK_VERSION?wr(JI.a.SDK_VERSION,o):null,fh.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,A(S),r)}function wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=kh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=kh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=fh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=mh(this,Ee().then((function(){if(Ir()&&!vr())return fr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,zs(t.s,Ts,{})})).then((function(e){t.a[vh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){_h(this);var t=this;return mh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ie(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!re&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Vt(a.name),'"'),a.type){o.push(' type="',Vt(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=le(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):oe(o,a)),2<r.length&&ce(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){_h(this);var t=this;return mh(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){_h(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){_h(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ie(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},k(bh,fh);var kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ch(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Eh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Sh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Ih(t,e){return{name:t||"",J:"a function",optional:!!e,K:f}}function Th(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Ph(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Ah(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&f(t.Fa)}function xh(t){return d(t)&&"string"==typeof t.uid}function Oh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!f(t.verify))}}}function Nh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Dh(t,e){for(var n in e){var r=e[n].name;t[r]=Lh(r,t[n],e[n].j)}}function Rh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Mh(t,e,n,r){t[e]=Lh(e,n,r)}function Lh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Dh(Vl.prototype,{fb:{name:"applyActionCode",j:[Ch("code")]},Pa:{name:"checkActionCode",j:[Ch("code")]},jb:{name:"confirmPasswordReset",j:[Ch("code"),Ch("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ch("email"),Ch("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ch("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ch("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Nh(Sh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Nh(Sh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ch("email"),Nh(Sh("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ch("email"),Sh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ch("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Ph()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Ph()]},Rc:{name:"signInWithCustomToken",j:[Ch("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ch("email"),Ch("password")]},Tc:{name:"signInWithEmailLink",j:[Ch("email"),Ch("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ch("phoneNumber"),Oh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Nh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof el)}},Th(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ch(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ch("code")]}}),Rh(Vl.prototype,{lc:{name:"languageCode",gb:Nh(Ch(),Th(),"languageCode")},ti:{name:"tenantId",gb:Nh(Ch(),Th(),"tenantId")}}),(Vl.Persistence=Uu).LOCAL="local",Vl.Persistence.SESSION="session",Vl.Persistence.NONE="none",Dh(el.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Eh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Eh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Ph()]},mb:{name:"linkWithCredential",j:[Ph()]},Bc:{name:"linkWithPhoneNumber",j:[Ch("phoneNumber"),Oh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ph()]},pb:{name:"reauthenticateWithCredential",j:[Ph()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ch("phoneNumber"),Oh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Nh(Sh("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ch(null,!0)]},ad:{name:"unlink",j:[Ch("provider")]},xb:{name:"updateEmail",j:[Ch("email")]},yb:{name:"updatePassword",j:[Ch("password")]},cd:{name:"updatePhoneNumber",j:[Ph("phone")]},zb:{name:"updateProfile",j:[Sh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ch("email"),Nh(Sh("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]}}),Dh(Jl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(Zl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Rh(Rc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Eh("appVerificationDisabledForTesting")}}),Dh(Mc.prototype,{confirm:{name:"confirm",j:[Ch("verificationCode")]}}),Mh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[uo,ko,To,oo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Nh(Ch(),Sh(),"json")]),Mh(Co,"credential",(function(t,e){return new wo(t,e)}),[Ch("email"),Ch("password")]),Dh(wo.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Dh(fo.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(fo,"credential",po,[Nh(Ch(),Sh(),"token")]),Mh(Co,"credentialWithLink",Eo,[Ch("email"),Ch("emailLink")]),Dh(vo.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(vo,"credential",go,[Nh(Ch(),Sh(),"token")]),Dh(yo.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(yo,"credential",mo,[Nh(Ch(),Nh(Sh(),Th()),"idToken"),Nh(Ch(),Th(),"accessToken",!0)]),Dh(_o.prototype,{Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Mh(_o,"credential",bo,[Nh(Ch(),Sh(),"token"),Ch("secret",!0)]),Dh(ho.prototype,{Aa:{name:"addScope",j:[Ch("scope")]},credential:{name:"credential",j:[Nh(Ch(),Nh(Sh(),Th()),"optionsOrIdToken"),Nh(Ch(),Th(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Sh("customOAuthParameters")]}}),Dh(ao.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Dh(ro.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(Ao,"credential",xo,[Ch("verificationId"),Ch("verificationCode")]),Dh(Ao.prototype,{cb:{name:"verifyPhoneNumber",j:[Nh(Ch(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Ah(t.session,Ji)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ah(t.session,to)&&xh(t.multiFactorHint):t.session&&t.multiFactorUid?Ah(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Oh()]}}),Dh(Io.prototype,{v:{name:"toJSON",j:[Ch(null,!0)]}}),Dh(C.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Dh(jo.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Dh(Uo.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Dh(qc.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Dh(Uc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Dh(Kc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ch("displayName",!0)]},$c:{name:"unenroll",j:[Nh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:xh},Ch(),"multiFactorInfoIdentifier")]}}),Dh(bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mh(pi,"parseLink",ki,[Ch("link")]),Mh(oh,"assertion",(function(t){return new Gc(t)}),[Ph("phone")]),function(){if(void 0===JI.a||!JI.a.INTERNAL||!JI.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ei,VERIFY_AND_CHANGE_EMAIL:ri,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Vl,AuthCredential:eo,Error:C};Mh(t,"EmailAuthProvider",Co,[]),Mh(t,"FacebookAuthProvider",fo,[]),Mh(t,"GithubAuthProvider",vo,[]),Mh(t,"GoogleAuthProvider",yo,[]),Mh(t,"TwitterAuthProvider",_o,[]),Mh(t,"OAuthProvider",ho,[Ch("providerId")]),Mh(t,"SAMLAuthProvider",lo,[Ch("providerId")]),Mh(t,"PhoneAuthProvider",Ao,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Vl)}}]),Mh(t,"RecaptchaVerifier",bh,[Nh(Ch(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Sh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof JI.a.app.App)}}]),Mh(t,"ActionCodeURL",pi,[]),Mh(t,"PhoneMultiFactorGenerator",oh,[]),JI.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Vl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),JI.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.kc,t),addAuthTokenListener:_(t.bc,t),removeAuthTokenListener:_(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),JI.a.registerVersion("@firebase/auth","0.14.7"),JI.a.INTERNAL.extendNamespace({User:el})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var KP,QP,XP=((QP=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:QP}),QP.\u0275inj=ft({factory:function(t){return new(t||QP)},providers:[Bk]}),QP),YP=((KP=function t(){_classCallCheck(this,t)}).\u0275mod=ye({type:KP,bootstrap:[WP]}),KP.\u0275inj=ft({factory:function(t){return new(t||KP)},providers:[Zw,mC,_C,FI],imports:[[uf,Np,XI,Hk,qb,Hb,xw.initializeApp(Xc),XP,RP,$I,zE,yC.forRoot(),RC.forRoot()]]}),KP);(function(){if(kr)throw new Error("Cannot enable prod mode after platform setup.");wr=!1})(),af().bootstrapModule(YP).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function g(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=p,e.Sha1=b,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);